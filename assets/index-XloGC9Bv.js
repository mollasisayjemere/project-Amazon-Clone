function uV(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function jE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hv={exports:{}},Gh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function cV(){if(YA)return Gh;YA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:u,ref:i!==void 0?i:null,props:o}}return Gh.Fragment=e,Gh.jsx=t,Gh.jsxs=t,Gh}var XA;function hV(){return XA||(XA=1,Hv.exports=cV()),Hv.exports}var z=hV(),$v={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function dV(){if(JA)return Le;JA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,I={};function P(q,ae,be){this.props=q,this.context=ae,this.refs=I,this.updater=be||T}P.prototype.isReactComponent={},P.prototype.setState=function(q,ae){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ae,"setState")},P.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function U(){}U.prototype=P.prototype;function M(q,ae,be){this.props=q,this.context=ae,this.refs=I,this.updater=be||T}var L=M.prototype=new U;L.constructor=M,w(L,P.prototype),L.isPureReactComponent=!0;var $=Array.isArray,F={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function V(q,ae,be,ve,ye,Oe){return be=Oe.ref,{$$typeof:n,type:q,key:ae,ref:be!==void 0?be:null,props:Oe}}function C(q,ae){return V(q.type,ae,void 0,void 0,void 0,q.props)}function R(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function b(q){var ae={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(be){return ae[be]})}var x=/\/+/g;function O(q,ae){return typeof q=="object"&&q!==null&&q.key!=null?b(""+q.key):ae.toString(36)}function D(){}function te(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(D,D):(q.status="pending",q.then(function(ae){q.status==="pending"&&(q.status="fulfilled",q.value=ae)},function(ae){q.status==="pending"&&(q.status="rejected",q.reason=ae)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function B(q,ae,be,ve,ye){var Oe=typeof q;(Oe==="undefined"||Oe==="boolean")&&(q=null);var De=!1;if(q===null)De=!0;else switch(Oe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(q.$$typeof){case n:case e:De=!0;break;case g:return De=q._init,B(De(q._payload),ae,be,ve,ye)}}if(De)return ye=ye(q),De=ve===""?"."+O(q,0):ve,$(ye)?(be="",De!=null&&(be=De.replace(x,"$&/")+"/"),B(ye,ae,be,"",function(_t){return _t})):ye!=null&&(R(ye)&&(ye=C(ye,be+(ye.key==null||q&&q.key===ye.key?"":(""+ye.key).replace(x,"$&/")+"/")+De)),ae.push(ye)),1;De=0;var Ct=ve===""?".":ve+":";if($(q))for(var ze=0;ze<q.length;ze++)ve=q[ze],Oe=Ct+O(ve,ze),De+=B(ve,ae,be,Oe,ye);else if(ze=v(q),typeof ze=="function")for(q=ze.call(q),ze=0;!(ve=q.next()).done;)ve=ve.value,Oe=Ct+O(ve,ze++),De+=B(ve,ae,be,Oe,ye);else if(Oe==="object"){if(typeof q.then=="function")return B(te(q),ae,be,ve,ye);throw ae=String(q),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return De}function ee(q,ae,be){if(q==null)return q;var ve=[],ye=0;return B(q,ve,"","",function(Oe){return ae.call(be,Oe,ye++)}),ve}function ie(q){if(q._status===-1){var ae=q._result;ae=ae(),ae.then(function(be){(q._status===0||q._status===-1)&&(q._status=1,q._result=be)},function(be){(q._status===0||q._status===-1)&&(q._status=2,q._result=be)}),q._status===-1&&(q._status=0,q._result=ae)}if(q._status===1)return q._result.default;throw q._result}var ue=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Te(){}return Le.Children={map:ee,forEach:function(q,ae,be){ee(q,function(){ae.apply(this,arguments)},be)},count:function(q){var ae=0;return ee(q,function(){ae++}),ae},toArray:function(q){return ee(q,function(ae){return ae})||[]},only:function(q){if(!R(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Le.Component=P,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=M,Le.StrictMode=r,Le.Suspense=d,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Le.act=function(){throw Error("act(...) is not supported in production builds of React.")},Le.cache=function(q){return function(){return q.apply(null,arguments)}},Le.cloneElement=function(q,ae,be){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ve=w({},q.props),ye=q.key,Oe=void 0;if(ae!=null)for(De in ae.ref!==void 0&&(Oe=void 0),ae.key!==void 0&&(ye=""+ae.key),ae)!H.call(ae,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ae.ref===void 0||(ve[De]=ae[De]);var De=arguments.length-2;if(De===1)ve.children=be;else if(1<De){for(var Ct=Array(De),ze=0;ze<De;ze++)Ct[ze]=arguments[ze+2];ve.children=Ct}return V(q.type,ye,void 0,void 0,Oe,ve)},Le.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},Le.createElement=function(q,ae,be){var ve,ye={},Oe=null;if(ae!=null)for(ve in ae.key!==void 0&&(Oe=""+ae.key),ae)H.call(ae,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(ye[ve]=ae[ve]);var De=arguments.length-2;if(De===1)ye.children=be;else if(1<De){for(var Ct=Array(De),ze=0;ze<De;ze++)Ct[ze]=arguments[ze+2];ye.children=Ct}if(q&&q.defaultProps)for(ve in De=q.defaultProps,De)ye[ve]===void 0&&(ye[ve]=De[ve]);return V(q,Oe,void 0,void 0,null,ye)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(q){return{$$typeof:h,render:q}},Le.isValidElement=R,Le.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:ie}},Le.memo=function(q,ae){return{$$typeof:f,type:q,compare:ae===void 0?null:ae}},Le.startTransition=function(q){var ae=F.T,be={};F.T=be;try{var ve=q(),ye=F.S;ye!==null&&ye(be,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Te,ue)}catch(Oe){ue(Oe)}finally{F.T=ae}},Le.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Le.use=function(q){return F.H.use(q)},Le.useActionState=function(q,ae,be){return F.H.useActionState(q,ae,be)},Le.useCallback=function(q,ae){return F.H.useCallback(q,ae)},Le.useContext=function(q){return F.H.useContext(q)},Le.useDebugValue=function(){},Le.useDeferredValue=function(q,ae){return F.H.useDeferredValue(q,ae)},Le.useEffect=function(q,ae){return F.H.useEffect(q,ae)},Le.useId=function(){return F.H.useId()},Le.useImperativeHandle=function(q,ae,be){return F.H.useImperativeHandle(q,ae,be)},Le.useInsertionEffect=function(q,ae){return F.H.useInsertionEffect(q,ae)},Le.useLayoutEffect=function(q,ae){return F.H.useLayoutEffect(q,ae)},Le.useMemo=function(q,ae){return F.H.useMemo(q,ae)},Le.useOptimistic=function(q,ae){return F.H.useOptimistic(q,ae)},Le.useReducer=function(q,ae,be){return F.H.useReducer(q,ae,be)},Le.useRef=function(q){return F.H.useRef(q)},Le.useState=function(q){return F.H.useState(q)},Le.useSyncExternalStore=function(q,ae,be){return F.H.useSyncExternalStore(q,ae,be)},Le.useTransition=function(){return F.H.useTransition()},Le.version="19.0.0",Le}var ZA;function oo(){return ZA||(ZA=1,$v.exports=dV()),$v.exports}var K=oo();const Ke=jE(K),N0=uV({__proto__:null,default:Ke},[K]);var Gv={exports:{}},Kh={},Kv={exports:{}},Wv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI;function fV(){return eI||(eI=1,function(n){function e(ee,ie){var ue=ee.length;ee.push(ie);e:for(;0<ue;){var Te=ue-1>>>1,q=ee[Te];if(0<i(q,ie))ee[Te]=ie,ee[ue]=q,ue=Te;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ie=ee[0],ue=ee.pop();if(ue!==ie){ee[0]=ue;e:for(var Te=0,q=ee.length,ae=q>>>1;Te<ae;){var be=2*(Te+1)-1,ve=ee[be],ye=be+1,Oe=ee[ye];if(0>i(ve,ue))ye<q&&0>i(Oe,ve)?(ee[Te]=Oe,ee[ye]=ue,Te=ye):(ee[Te]=ve,ee[be]=ue,Te=be);else if(ye<q&&0>i(Oe,ue))ee[Te]=Oe,ee[ye]=ue,Te=ye;else break e}}return ie}function i(ee,ie){var ue=ee.sortIndex-ie.sortIndex;return ue!==0?ue:ee.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],f=[],g=1,_=null,v=3,T=!1,w=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function L(ee){for(var ie=t(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=ee)r(f),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=t(f)}}function $(ee){if(I=!1,L(ee),!w)if(t(d)!==null)w=!0,te();else{var ie=t(f);ie!==null&&B($,ie.startTime-ee)}}var F=!1,H=-1,V=5,C=-1;function R(){return!(n.unstable_now()-C<V)}function b(){if(F){var ee=n.unstable_now();C=ee;var ie=!0;try{e:{w=!1,I&&(I=!1,U(H),H=-1),T=!0;var ue=v;try{t:{for(L(ee),_=t(d);_!==null&&!(_.expirationTime>ee&&R());){var Te=_.callback;if(typeof Te=="function"){_.callback=null,v=_.priorityLevel;var q=Te(_.expirationTime<=ee);if(ee=n.unstable_now(),typeof q=="function"){_.callback=q,L(ee),ie=!0;break t}_===t(d)&&r(d),L(ee)}else r(d);_=t(d)}if(_!==null)ie=!0;else{var ae=t(f);ae!==null&&B($,ae.startTime-ee),ie=!1}}break e}finally{_=null,v=ue,T=!1}ie=void 0}}finally{ie?x():F=!1}}}var x;if(typeof M=="function")x=function(){M(b)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,D=O.port2;O.port1.onmessage=b,x=function(){D.postMessage(null)}}else x=function(){P(b,0)};function te(){F||(F=!0,x())}function B(ee,ie){H=P(function(){ee(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){w||T||(w=!0,te())},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ee){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var ue=v;v=ie;try{return ee()}finally{v=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=v;v=ee;try{return ie()}finally{v=ue}},n.unstable_scheduleCallback=function(ee,ie,ue){var Te=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Te+ue:Te):ue=Te,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ue+q,ee={id:g++,callback:ie,priorityLevel:ee,startTime:ue,expirationTime:q,sortIndex:-1},ue>Te?(ee.sortIndex=ue,e(f,ee),t(d)===null&&ee===t(f)&&(I?(U(H),H=-1):I=!0,B($,ue-Te))):(ee.sortIndex=q,e(d,ee),w||T||(w=!0,te())),ee},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(ee){var ie=v;return function(){var ue=v;v=ie;try{return ee.apply(this,arguments)}finally{v=ue}}}}(Wv)),Wv}var tI;function pV(){return tI||(tI=1,Kv.exports=fV()),Kv.exports}var Qv={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nI;function mV(){if(nI)return Fn;nI=1;var n=oo();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:d,containerInfo:f,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fn.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},Fn.flushSync=function(d){var f=u.T,g=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=f,r.p=g,r.d.f()}},Fn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Fn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Fn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:T}):g==="script"&&r.d.X(d,{crossOrigin:_,integrity:v,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Fn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Fn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Fn.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=h(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Fn.requestFormReset=function(d){r.d.r(d)},Fn.unstable_batchedUpdates=function(d,f){return d(f)},Fn.useFormState=function(d,f,g){return u.H.useFormState(d,f,g)},Fn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Fn.version="19.0.0",Fn}var rI;function gV(){if(rI)return Qv.exports;rI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qv.exports=mV(),Qv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI;function yV(){if(iI)return Kh;iI=1;var n=pV(),e=oo(),t=gV();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),T=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),$=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function C(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case d:return"Fragment";case h:return"Portal";case g:return"Profiler";case f:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case T:return(s.displayName||"Context")+".Provider";case v:return(s._context.displayName||"Context")+".Consumer";case w:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return a=s.displayName||null,a!==null?a:C(s.type)||"Memo";case M:a=s._payload,s=s._init;try{return C(s(a))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,b=Object.assign,x,O;function D(s){if(x===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);x=a&&a[1]||"",O=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+s+O}var te=!1;function B(s,a){if(!s||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(le){var Z=le}Reflect.construct(s,[],fe)}else{try{fe.call()}catch(le){Z=le}s.call(fe.prototype)}}else{try{throw Error()}catch(le){Z=le}(fe=s())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(le){if(le&&Z&&typeof le.stack=="string")return[le.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),A=y[0],k=y[1];if(A&&k){var j=A.split(`
`),W=k.split(`
`);for(m=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;if(c===j.length||m===W.length)for(c=j.length-1,m=W.length-1;1<=c&&0<=m&&j[c]!==W[m];)m--;for(;1<=c&&0<=m;c--,m--)if(j[c]!==W[m]){if(c!==1||m!==1)do if(c--,m--,0>m||j[c]!==W[m]){var ce=`
`+j[c].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=c&&0<=m);break}}}finally{te=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?D(l):""}function ee(s){switch(s.tag){case 26:case 27:case 5:return D(s.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return s=B(s.type,!1),s;case 11:return s=B(s.type.render,!1),s;case 1:return s=B(s.type,!0),s;default:return""}}function ie(s){try{var a="";do a+=ee(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ue(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function Te(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function q(s){if(ue(s)!==s)throw Error(r(188))}function ae(s){var a=s.alternate;if(!a){if(a=ue(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return q(m),s;if(y===c)return q(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var A=!1,k=m.child;k;){if(k===l){A=!0,l=m,c=y;break}if(k===c){A=!0,c=m,l=y;break}k=k.sibling}if(!A){for(k=y.child;k;){if(k===l){A=!0,l=y,c=m;break}if(k===c){A=!0,c=y,l=m;break}k=k.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function be(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=be(s),a!==null)return a;s=s.sibling}return null}var ve=Array.isArray,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},De=[],Ct=-1;function ze(s){return{current:s}}function _t(s){0>Ct||(s.current=De[Ct],De[Ct]=null,Ct--)}function $e(s,a){Ct++,De[Ct]=s.current,s.current=a}var Et=ze(null),Je=ze(null),at=ze(null),Jt=ze(null);function fr(s,a){switch($e(at,a),$e(Je,s),$e(Et,null),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?AA(a):0;break;default:if(s=s===8?a.parentNode:a,a=s.tagName,s=s.namespaceURI)s=AA(s),a=IA(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}_t(Et),$e(Et,a)}function Mn(){_t(Et),_t(Je),_t(at)}function Or(s){s.memoizedState!==null&&$e(Jt,s);var a=Et.current,l=IA(a,s.type);a!==l&&($e(Je,s),$e(Et,l))}function Ln(s){Je.current===s&&(_t(Et),_t(Je)),Jt.current===s&&(_t(Jt),jh._currentValue=Oe)}var rr=Object.prototype.hasOwnProperty,ei=n.unstable_scheduleCallback,kl=n.unstable_cancelCallback,Gy=n.unstable_shouldYield,zc=n.unstable_requestPaint,ir=n.unstable_now,Gf=n.unstable_getCurrentPriorityLevel,un=n.unstable_ImmediatePriority,yn=n.unstable_UserBlockingPriority,es=n.unstable_NormalPriority,Kf=n.unstable_LowPriority,qc=n.unstable_IdlePriority,Ky=n.log,_o=n.unstable_setDisableYieldValue,Qs=null,Un=null;function Hc(s){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Qs,s,void 0,(s.current.flags&128)===128)}catch{}}function fi(s){if(typeof Ky=="function"&&_o(s),Un&&typeof Un.setStrictMode=="function")try{Un.setStrictMode(Qs,s)}catch{}}var Kn=Math.clz32?Math.clz32:Qf,$c=Math.log,Wf=Math.LN2;function Qf(s){return s>>>=0,s===0?32:31-($c(s)/Wf|0)|0}var pi=128,Ys=4194304;function ti(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Dr(s,a){var l=s.pendingLanes;if(l===0)return 0;var c=0,m=s.suspendedLanes,y=s.pingedLanes,A=s.warmLanes;s=s.finishedLanes!==0;var k=l&134217727;return k!==0?(l=k&~m,l!==0?c=ti(l):(y&=k,y!==0?c=ti(y):s||(A=k&~A,A!==0&&(c=ti(A))))):(k=l&~m,k!==0?c=ti(k):y!==0?c=ti(y):s||(A=l&~A,A!==0&&(c=ti(A)))),c===0?0:a!==0&&a!==c&&(a&m)===0&&(m=c&-c,A=a&-a,m>=A||m===32&&(A&4194176)!==0)?a:c}function Xs(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Nl(s,a){switch(s){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gc(){var s=pi;return pi<<=1,(pi&4194176)===0&&(pi=128),s}function Js(){var s=Ys;return Ys<<=1,(Ys&62914560)===0&&(Ys=4194304),s}function Vl(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Gt(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Yf(s,a,l,c,m,y){var A=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var k=s.entanglements,j=s.expirationTimes,W=s.hiddenUpdates;for(l=A&~l;0<l;){var ce=31-Kn(l),fe=1<<ce;k[ce]=0,j[ce]=-1;var Z=W[ce];if(Z!==null)for(W[ce]=null,ce=0;ce<Z.length;ce++){var le=Z[ce];le!==null&&(le.lane&=-536870913)}l&=~fe}c!==0&&Zs(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(A&~a))}function Zs(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-Kn(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194218}function ea(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-Kn(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function Xf(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Jf(){var s=ye.p;return s!==0?s:(s=window.event,s===void 0?32:HA(s.type))}function ta(s,a){var l=ye.p;try{return ye.p=s,a()}finally{ye.p=l}}var mi=Math.random().toString(36).slice(2),_n="__reactFiber$"+mi,cn="__reactProps$"+mi,ts="__reactContainer$"+mi,vo="__reactEvents$"+mi,Ml="__reactListeners$"+mi,gi="__reactHandles$"+mi,Kc="__reactResources$"+mi,na="__reactMarker$"+mi;function Eo(s){delete s[_n],delete s[cn],delete s[vo],delete s[Ml],delete s[gi]}function ni(s){var a=s[_n];if(a)return a;for(var l=s.parentNode;l;){if(a=l[ts]||l[_n]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=PA(s);s!==null;){if(l=s[_n])return l;s=PA(s)}return a}s=l,l=s.parentNode}return null}function ns(s){if(s=s[_n]||s[ts]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function ra(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function ia(s){var a=s[Kc];return a||(a=s[Kc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Pt(s){s[na]=!0}var Wc=new Set,Ll={};function pr(s,a){sr(s,a),sr(s+"Capture",a)}function sr(s,a){for(Ll[s]=a,s=0;s<a.length;s++)Wc.add(a[s])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qc={},Yc={};function Zf(s){return rr.call(Yc,s)?!0:rr.call(Qc,s)?!1:Wy.test(s)?Yc[s]=!0:(Qc[s]=!0,!1)}function sa(s,a,l){if(Zf(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function aa(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function kr(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}function Wn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ep(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Qy(s){var a=ep(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(A){c=""+A,y.call(this,A)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function bo(s){s._valueTracker||(s._valueTracker=Qy(s))}function Xc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=ep(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function Ul(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var rs=/[\n"\\]/g;function Lt(s){return s.replace(rs,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function oa(s,a,l,c,m,y,A,k){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),a!=null?A==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Wn(a)):s.value!==""+Wn(a)&&(s.value=""+Wn(a)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),a!=null?Bl(s,A,Wn(a)):l!=null?Bl(s,A,Wn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+Wn(k):s.removeAttribute("name")}function wo(s,a,l,c,m,y,A,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Wn(l):"",a=a!=null?""+Wn(a):l,k||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=k?s.checked:!!c,s.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A)}function Bl(s,a,l){a==="number"&&Ul(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ze(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Wn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function To(s,a,l){if(a!=null&&(a=""+Wn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Wn(l):""}function la(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ve(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Wn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Nr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Yy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jc(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||Yy.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function tp(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&Jc(s,m,c)}else for(var y in a)a.hasOwnProperty(y)&&Jc(s,y,a[y])}function Zc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(s){return Jy.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Vr=null;function Fl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var is=null,ss=null;function as(s){var a=ns(s);if(a&&(s=a.stateNode)){var l=s[cn]||null;e:switch(s=a.stateNode,a.type){case"input":if(oa(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Lt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[cn]||null;if(!m)throw Error(r(90));oa(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&Xc(c)}break e;case"textarea":To(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ze(s,!!l.multiple,a,!1)}}}var eh=!1;function np(s,a,l){if(eh)return s(a,l);eh=!0;try{var c=s(a);return c}finally{if(eh=!1,(is!==null||ss!==null)&&(Kp(),is&&(a=is,s=ss,ss=is=null,as(a),s)))for(a=0;a<s.length;a++)as(s[a])}}function So(s,a){var l=s.stateNode;if(l===null)return null;var c=l[cn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Mr=!1;if(mr)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{Mr=!1}var _i=null,ua=null,os=null;function th(){if(os)return os;var s,a=ua,l=a.length,c,m="value"in _i?_i.value:_i.textContent,y=m.length;for(s=0;s<l&&a[s]===m[s];s++);var A=l-s;for(c=1;c<=A&&a[l-c]===m[y-c];c++);return os=m.slice(s,1<c?1-c:void 0)}function vi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ei(){return!0}function nh(){return!1}function vn(s){function a(l,c,m,y,A){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(l=s[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ei:nh,this.isPropagationStopped=nh,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),a}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=vn(st),Io=b({},st,{view:0,detail:0}),rp=vn(Io),zl,ql,bi,Ro=b({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==bi&&(bi&&s.type==="mousemove"?(zl=s.screenX-bi.screenX,ql=s.screenY-bi.screenY):ql=zl=0,bi=s),zl)},movementY:function(s){return"movementY"in s?s.movementY:ql}}),Lr=vn(Ro),ip=b({},Ro,{dataTransfer:0}),Zy=vn(ip),Co=b({},Io,{relatedTarget:0}),Hl=vn(Co),rh=b({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),$l=vn(rh),sp=b({},st,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Gl=vn(sp),e_=b({},st,{data:0}),ih=vn(e_),Po={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ap={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},op={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=op[s])?!!a[s]:!1}function xo(){return sh}var lp=b({},Io,{key:function(s){if(s.key){var a=Po[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=vi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ap[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xo,charCode:function(s){return s.type==="keypress"?vi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?vi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Kl=vn(lp),up=b({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ah=vn(up),ls=b({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xo}),cp=vn(ls),hp=b({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),dp=vn(hp),fp=b({},Ro,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Wl=vn(fp),Qn=b({},st,{newState:0,oldState:0}),pp=vn(Qn),mp=[9,13,27,32],wi=mr&&"CompositionEvent"in window,p=null;mr&&"documentMode"in document&&(p=document.documentMode);var E=mr&&"TextEvent"in window&&!p,S=mr&&(!wi||p&&8<p&&11>=p),N=" ",Y=!1;function re(s,a){switch(s){case"keyup":return mp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var We=!1;function hn(s,a){switch(s){case"compositionend":return ge(a);case"keypress":return a.which!==32?null:(Y=!0,N);case"textInput":return s=a.data,s===N&&Y?null:s;default:return null}}function Qe(s,a){if(We)return s==="compositionend"||!wi&&re(s,a)?(s=th(),os=ua=_i=null,We=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!En[s.type]:a==="textarea"}function us(s,a,l,c){is?ss?ss.push(c):ss=[c]:is=c,a=Jp(a,"onChange"),0<a.length&&(l=new jl("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var Cn=null,Ti=null;function oh(s){EA(s,0)}function gp(s){var a=ra(s);if(Xc(a))return s}function Qw(s,a){if(s==="change")return a}var Yw=!1;if(mr){var t_;if(mr){var n_="oninput"in document;if(!n_){var Xw=document.createElement("div");Xw.setAttribute("oninput","return;"),n_=typeof Xw.oninput=="function"}t_=n_}else t_=!1;Yw=t_&&(!document.documentMode||9<document.documentMode)}function Jw(){Cn&&(Cn.detachEvent("onpropertychange",Zw),Ti=Cn=null)}function Zw(s){if(s.propertyName==="value"&&gp(Ti)){var a=[];us(a,Ti,s,Fl(s)),np(oh,a)}}function BN(s,a,l){s==="focusin"?(Jw(),Cn=a,Ti=l,Cn.attachEvent("onpropertychange",Zw)):s==="focusout"&&Jw()}function FN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return gp(Ti)}function jN(s,a){if(s==="click")return gp(a)}function zN(s,a){if(s==="input"||s==="change")return gp(a)}function qN(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var gr=typeof Object.is=="function"?Object.is:qN;function lh(s,a){if(gr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!rr.call(a,m)||!gr(s[m],a[m]))return!1}return!0}function eT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function tT(s,a){var l=eT(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=eT(l)}}function nT(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?nT(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function rT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Ul(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Ul(s.document)}return a}function r_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function HN(s,a){var l=rT(a);a=s.focusedElem;var c=s.selectionRange;if(l!==a&&a&&a.ownerDocument&&nT(a.ownerDocument.documentElement,a)){if(c!==null&&r_(a)){if(s=c.start,l=c.end,l===void 0&&(l=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(l,a.value.length);else if(l=(s=a.ownerDocument||document)&&s.defaultView||window,l.getSelection){l=l.getSelection();var m=a.textContent.length,y=Math.min(c.start,m);c=c.end===void 0?y:Math.min(c.end,m),!l.extend&&y>c&&(m=c,c=y,y=m),m=tT(a,y);var A=tT(a,c);m&&A&&(l.rangeCount!==1||l.anchorNode!==m.node||l.anchorOffset!==m.offset||l.focusNode!==A.node||l.focusOffset!==A.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),l.removeAllRanges(),y>c?(l.addRange(s),l.extend(A.node,A.offset)):(s.setEnd(A.node,A.offset),l.addRange(s)))}}for(s=[],l=a;l=l.parentNode;)l.nodeType===1&&s.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)l=s[a],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var $N=mr&&"documentMode"in document&&11>=document.documentMode,Ql=null,i_=null,uh=null,s_=!1;function iT(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;s_||Ql==null||Ql!==Ul(c)||(c=Ql,"selectionStart"in c&&r_(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),uh&&lh(uh,c)||(uh=c,c=Jp(i_,"onSelect"),0<c.length&&(a=new jl("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=Ql)))}function Oo(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Yl={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionrun:Oo("Transition","TransitionRun"),transitionstart:Oo("Transition","TransitionStart"),transitioncancel:Oo("Transition","TransitionCancel"),transitionend:Oo("Transition","TransitionEnd")},a_={},sT={};mr&&(sT=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function Do(s){if(a_[s])return a_[s];if(!Yl[s])return s;var a=Yl[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in sT)return a_[s]=a[l];return s}var aT=Do("animationend"),oT=Do("animationiteration"),lT=Do("animationstart"),GN=Do("transitionrun"),KN=Do("transitionstart"),WN=Do("transitioncancel"),uT=Do("transitionend"),cT=new Map,hT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ri(s,a){cT.set(s,a),pr(a,[s])}var Ur=[],Xl=0,o_=0;function yp(){for(var s=Xl,a=o_=Xl=0;a<s;){var l=Ur[a];Ur[a++]=null;var c=Ur[a];Ur[a++]=null;var m=Ur[a];Ur[a++]=null;var y=Ur[a];if(Ur[a++]=null,c!==null&&m!==null){var A=c.pending;A===null?m.next=m:(m.next=A.next,A.next=m),c.pending=m}y!==0&&dT(l,m,y)}}function _p(s,a,l,c){Ur[Xl++]=s,Ur[Xl++]=a,Ur[Xl++]=l,Ur[Xl++]=c,o_|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function l_(s,a,l,c){return _p(s,a,l,c),vp(s)}function ca(s,a){return _p(s,null,null,a),vp(s)}function dT(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;m&&a!==null&&s.tag===3&&(y=s.stateNode,m=31-Kn(l),y=y.hiddenUpdates,s=y[m],s===null?y[m]=[a]:s.push(a),a.lane=l|536870912)}function vp(s){if(50<Nh)throw Nh=0,pv=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Jl={},fT=new WeakMap;function Br(s,a){if(typeof s=="object"&&s!==null){var l=fT.get(s);return l!==void 0?l:(a={value:s,source:a,stack:ie(a)},fT.set(s,a),a)}return{value:s,source:a,stack:ie(a)}}var Zl=[],eu=0,Ep=null,bp=0,Fr=[],jr=0,ko=null,cs=1,hs="";function No(s,a){Zl[eu++]=bp,Zl[eu++]=Ep,Ep=s,bp=a}function pT(s,a,l){Fr[jr++]=cs,Fr[jr++]=hs,Fr[jr++]=ko,ko=s;var c=cs;s=hs;var m=32-Kn(c)-1;c&=~(1<<m),l+=1;var y=32-Kn(a)+m;if(30<y){var A=m-m%5;y=(c&(1<<A)-1).toString(32),c>>=A,m-=A,cs=1<<32-Kn(a)+m|l<<m|c,hs=y+s}else cs=1<<y|l<<m|c,hs=s}function u_(s){s.return!==null&&(No(s,1),pT(s,1,0))}function c_(s){for(;s===Ep;)Ep=Zl[--eu],Zl[eu]=null,bp=Zl[--eu],Zl[eu]=null;for(;s===ko;)ko=Fr[--jr],Fr[jr]=null,hs=Fr[--jr],Fr[jr]=null,cs=Fr[--jr],Fr[jr]=null}var Yn=null,Pn=null,et=!1,ii=null,Si=!1,h_=Error(r(519));function Vo(s){var a=Error(r(418,""));throw dh(Br(a,s)),h_}function mT(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[_n]=s,a[cn]=c,l){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(l=0;l<Mh.length;l++)Ge(Mh[l],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":Ge("invalid",a),wo(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),bo(a);break;case"select":Ge("invalid",a);break;case"textarea":Ge("invalid",a),la(a,c.value,c.defaultValue,c.children),bo(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||SA(a.textContent,l)?(c.popover!=null&&(Ge("beforetoggle",a),Ge("toggle",a)),c.onScroll!=null&&Ge("scroll",a),c.onScrollEnd!=null&&Ge("scrollend",a),c.onClick!=null&&(a.onclick=Zp),a=!0):a=!1,a||Vo(s)}function gT(s){for(Yn=s.return;Yn;)switch(Yn.tag){case 3:case 27:Si=!0;return;case 5:case 13:Si=!1;return;default:Yn=Yn.return}}function ch(s){if(s!==Yn)return!1;if(!et)return gT(s),et=!0,!1;var a=!1,l;if((l=s.tag!==3&&s.tag!==27)&&((l=s.tag===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Ov(s.type,s.memoizedProps)),l=!l),l&&(a=!0),a&&Pn&&Vo(s),gT(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Pn=ai(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Pn=null}}else Pn=Yn?ai(s.stateNode.nextSibling):null;return!0}function hh(){Pn=Yn=null,et=!1}function dh(s){ii===null?ii=[s]:ii.push(s)}var fh=Error(r(460)),yT=Error(r(474)),d_={then:function(){}};function _T(s){return s=s.status,s==="fulfilled"||s==="rejected"}function wp(){}function vT(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(wp,wp),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===fh?Error(r(483)):s;default:if(typeof a.status=="string")a.then(wp,wp);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===fh?Error(r(483)):s}throw ph=a,fh}}var ph=null;function ET(){if(ph===null)throw Error(r(459));var s=ph;return ph=null,s}var tu=null,mh=0;function Tp(s){var a=mh;return mh+=1,tu===null&&(tu=[]),vT(tu,s,a)}function gh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Sp(s,a){throw a.$$typeof===o?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function bT(s){var a=s._init;return a(s._payload)}function wT(s){function a(Q,G){if(s){var J=Q.deletions;J===null?(Q.deletions=[G],Q.flags|=16):J.push(G)}}function l(Q,G){if(!s)return null;for(;G!==null;)a(Q,G),G=G.sibling;return null}function c(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function m(Q,G){return Q=wa(Q,G),Q.index=0,Q.sibling=null,Q}function y(Q,G,J){return Q.index=J,s?(J=Q.alternate,J!==null?(J=J.index,J<G?(Q.flags|=33554434,G):J):(Q.flags|=33554434,G)):(Q.flags|=1048576,G)}function A(Q){return s&&Q.alternate===null&&(Q.flags|=33554434),Q}function k(Q,G,J,he){return G===null||G.tag!==6?(G=av(J,Q.mode,he),G.return=Q,G):(G=m(G,J),G.return=Q,G)}function j(Q,G,J,he){var Se=J.type;return Se===d?ce(Q,G,J.props.children,he,J.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===M&&bT(Se)===G.type)?(G=m(G,J.props),gh(G,J),G.return=Q,G):(G=zp(J.type,J.key,J.props,null,Q.mode,he),gh(G,J),G.return=Q,G)}function W(Q,G,J,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=ov(J,Q.mode,he),G.return=Q,G):(G=m(G,J.children||[]),G.return=Q,G)}function ce(Q,G,J,he,Se){return G===null||G.tag!==7?(G=$o(J,Q.mode,he,Se),G.return=Q,G):(G=m(G,J),G.return=Q,G)}function fe(Q,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=av(""+G,Q.mode,J),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return J=zp(G.type,G.key,G.props,null,Q.mode,J),gh(J,G),J.return=Q,J;case h:return G=ov(G,Q.mode,J),G.return=Q,G;case M:var he=G._init;return G=he(G._payload),fe(Q,G,J)}if(ve(G)||H(G))return G=$o(G,Q.mode,J,null),G.return=Q,G;if(typeof G.then=="function")return fe(Q,Tp(G),J);if(G.$$typeof===T)return fe(Q,Bp(Q,G),J);Sp(Q,G)}return null}function Z(Q,G,J,he){var Se=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Se!==null?null:k(Q,G,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case u:return J.key===Se?j(Q,G,J,he):null;case h:return J.key===Se?W(Q,G,J,he):null;case M:return Se=J._init,J=Se(J._payload),Z(Q,G,J,he)}if(ve(J)||H(J))return Se!==null?null:ce(Q,G,J,he,null);if(typeof J.then=="function")return Z(Q,G,Tp(J),he);if(J.$$typeof===T)return Z(Q,G,Bp(Q,J),he);Sp(Q,J)}return null}function le(Q,G,J,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(J)||null,k(G,Q,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case u:return Q=Q.get(he.key===null?J:he.key)||null,j(G,Q,he,Se);case h:return Q=Q.get(he.key===null?J:he.key)||null,W(G,Q,he,Se);case M:var Be=he._init;return he=Be(he._payload),le(Q,G,J,he,Se)}if(ve(he)||H(he))return Q=Q.get(J)||null,ce(G,Q,he,Se,null);if(typeof he.then=="function")return le(Q,G,J,Tp(he),Se);if(he.$$typeof===T)return le(Q,G,J,Bp(G,he),Se);Sp(G,he)}return null}function Ie(Q,G,J,he){for(var Se=null,Be=null,Ce=G,xe=G=0,Tn=null;Ce!==null&&xe<J.length;xe++){Ce.index>xe?(Tn=Ce,Ce=null):Tn=Ce.sibling;var tt=Z(Q,Ce,J[xe],he);if(tt===null){Ce===null&&(Ce=Tn);break}s&&Ce&&tt.alternate===null&&a(Q,Ce),G=y(tt,G,xe),Be===null?Se=tt:Be.sibling=tt,Be=tt,Ce=Tn}if(xe===J.length)return l(Q,Ce),et&&No(Q,xe),Se;if(Ce===null){for(;xe<J.length;xe++)Ce=fe(Q,J[xe],he),Ce!==null&&(G=y(Ce,G,xe),Be===null?Se=Ce:Be.sibling=Ce,Be=Ce);return et&&No(Q,xe),Se}for(Ce=c(Ce);xe<J.length;xe++)Tn=le(Ce,Q,xe,J[xe],he),Tn!==null&&(s&&Tn.alternate!==null&&Ce.delete(Tn.key===null?xe:Tn.key),G=y(Tn,G,xe),Be===null?Se=Tn:Be.sibling=Tn,Be=Tn);return s&&Ce.forEach(function(Pa){return a(Q,Pa)}),et&&No(Q,xe),Se}function Ne(Q,G,J,he){if(J==null)throw Error(r(151));for(var Se=null,Be=null,Ce=G,xe=G=0,Tn=null,tt=J.next();Ce!==null&&!tt.done;xe++,tt=J.next()){Ce.index>xe?(Tn=Ce,Ce=null):Tn=Ce.sibling;var Pa=Z(Q,Ce,tt.value,he);if(Pa===null){Ce===null&&(Ce=Tn);break}s&&Ce&&Pa.alternate===null&&a(Q,Ce),G=y(Pa,G,xe),Be===null?Se=Pa:Be.sibling=Pa,Be=Pa,Ce=Tn}if(tt.done)return l(Q,Ce),et&&No(Q,xe),Se;if(Ce===null){for(;!tt.done;xe++,tt=J.next())tt=fe(Q,tt.value,he),tt!==null&&(G=y(tt,G,xe),Be===null?Se=tt:Be.sibling=tt,Be=tt);return et&&No(Q,xe),Se}for(Ce=c(Ce);!tt.done;xe++,tt=J.next())tt=le(Ce,Q,xe,tt.value,he),tt!==null&&(s&&tt.alternate!==null&&Ce.delete(tt.key===null?xe:tt.key),G=y(tt,G,xe),Be===null?Se=tt:Be.sibling=tt,Be=tt);return s&&Ce.forEach(function(lV){return a(Q,lV)}),et&&No(Q,xe),Se}function Ft(Q,G,J,he){if(typeof J=="object"&&J!==null&&J.type===d&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case u:e:{for(var Se=J.key;G!==null;){if(G.key===Se){if(Se=J.type,Se===d){if(G.tag===7){l(Q,G.sibling),he=m(G,J.props.children),he.return=Q,Q=he;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===M&&bT(Se)===G.type){l(Q,G.sibling),he=m(G,J.props),gh(he,J),he.return=Q,Q=he;break e}l(Q,G);break}else a(Q,G);G=G.sibling}J.type===d?(he=$o(J.props.children,Q.mode,he,J.key),he.return=Q,Q=he):(he=zp(J.type,J.key,J.props,null,Q.mode,he),gh(he,J),he.return=Q,Q=he)}return A(Q);case h:e:{for(Se=J.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){l(Q,G.sibling),he=m(G,J.children||[]),he.return=Q,Q=he;break e}else{l(Q,G);break}else a(Q,G);G=G.sibling}he=ov(J,Q.mode,he),he.return=Q,Q=he}return A(Q);case M:return Se=J._init,J=Se(J._payload),Ft(Q,G,J,he)}if(ve(J))return Ie(Q,G,J,he);if(H(J)){if(Se=H(J),typeof Se!="function")throw Error(r(150));return J=Se.call(J),Ne(Q,G,J,he)}if(typeof J.then=="function")return Ft(Q,G,Tp(J),he);if(J.$$typeof===T)return Ft(Q,G,Bp(Q,J),he);Sp(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(l(Q,G.sibling),he=m(G,J),he.return=Q,Q=he):(l(Q,G),he=av(J,Q.mode,he),he.return=Q,Q=he),A(Q)):l(Q,G)}return function(Q,G,J,he){try{mh=0;var Se=Ft(Q,G,J,he);return tu=null,Se}catch(Ce){if(Ce===fh)throw Ce;var Be=$r(29,Ce,null,Q.mode);return Be.lanes=he,Be.return=Q,Be}finally{}}}var Mo=wT(!0),TT=wT(!1),nu=ze(null),Ap=ze(0);function ST(s,a){s=ws,$e(Ap,s),$e(nu,a),ws=s|a.baseLanes}function f_(){$e(Ap,ws),$e(nu,nu.current)}function p_(){ws=Ap.current,_t(nu),_t(Ap)}var zr=ze(null),Ai=null;function ha(s){var a=s.alternate;$e(fn,fn.current&1),$e(zr,s),Ai===null&&(a===null||nu.current!==null||a.memoizedState!==null)&&(Ai=s)}function AT(s){if(s.tag===22){if($e(fn,fn.current),$e(zr,s),Ai===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Ai=s)}}else da()}function da(){$e(fn,fn.current),$e(zr,zr.current)}function ds(s){_t(zr),Ai===s&&(Ai=null),_t(fn)}var fn=ze(0);function Ip(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var QN=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},YN=n.unstable_scheduleCallback,XN=n.unstable_NormalPriority,pn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function m_(){return{controller:new QN,data:new Map,refCount:0}}function yh(s){s.refCount--,s.refCount===0&&YN(XN,function(){s.controller.abort()})}var _h=null,g_=0,ru=0,iu=null;function JN(s,a){if(_h===null){var l=_h=[];g_=0,ru=wv(),iu={status:"pending",value:void 0,then:function(c){l.push(c)}}}return g_++,a.then(IT,IT),a}function IT(){if(--g_===0&&_h!==null){iu!==null&&(iu.status="fulfilled");var s=_h;_h=null,ru=0,iu=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function ZN(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var RT=R.S;R.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&JN(s,a),RT!==null&&RT(s,a)};var Lo=ze(null);function y_(){var s=Lo.current;return s!==null?s:mt.pooledCache}function Rp(s,a){a===null?$e(Lo,Lo.current):$e(Lo,a.pool)}function CT(){var s=y_();return s===null?null:{parent:pn._currentValue,pool:s}}var fa=0,Ue=null,ut=null,Zt=null,Cp=!1,su=!1,Uo=!1,Pp=0,vh=0,au=null,e2=0;function Kt(){throw Error(r(321))}function __(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!gr(s[l],a[l]))return!1;return!0}function v_(s,a,l,c,m,y){return fa=y,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,R.H=s===null||s.memoizedState===null?Bo:pa,Uo=!1,y=l(c,m),Uo=!1,su&&(y=xT(a,l,c,m)),PT(s),y}function PT(s){R.H=Ii;var a=ut!==null&&ut.next!==null;if(fa=0,Zt=ut=Ue=null,Cp=!1,vh=0,au=null,a)throw Error(r(300));s===null||bn||(s=s.dependencies,s!==null&&Up(s)&&(bn=!0))}function xT(s,a,l,c){Ue=s;var m=0;do{if(su&&(au=null),vh=0,su=!1,25<=m)throw Error(r(301));if(m+=1,Zt=ut=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}R.H=Fo,y=a(l,c)}while(su);return y}function t2(){var s=R.H,a=s.useState()[0];return a=typeof a.then=="function"?Eh(a):a,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(Ue.flags|=1024),a}function E_(){var s=Pp!==0;return Pp=0,s}function b_(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function w_(s){if(Cp){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Cp=!1}fa=0,Zt=ut=Ue=null,su=!1,vh=Pp=0,au=null}function ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ue.memoizedState=Zt=s:Zt=Zt.next=s,Zt}function en(){if(ut===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var a=Zt===null?Ue.memoizedState:Zt.next;if(a!==null)Zt=a,ut=s;else{if(s===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Zt===null?Ue.memoizedState=Zt=s:Zt=Zt.next=s}return Zt}var xp;xp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Eh(s){var a=vh;return vh+=1,au===null&&(au=[]),s=vT(au,s,a),a=Ue,(Zt===null?a.memoizedState:Zt.next)===null&&(a=a.alternate,R.H=a===null||a.memoizedState===null?Bo:pa),s}function Op(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Eh(s);if(s.$$typeof===T)return Bn(s)}throw Error(r(438,String(s)))}function T_(s){var a=null,l=Ue.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ue.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=xp(),Ue.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=$;return a.index++,l}function fs(s,a){return typeof a=="function"?a(s):a}function Dp(s){var a=en();return S_(a,ut,s)}function S_(s,a,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var A=m.next;m.next=y.next,y.next=A}a.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var k=A=null,j=null,W=a,ce=!1;do{var fe=W.lane&-536870913;if(fe!==W.lane?(Ye&fe)===fe:(fa&fe)===fe){var Z=W.revertLane;if(Z===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),fe===ru&&(ce=!0);else if((fa&Z)===Z){W=W.next,Z===ru&&(ce=!0);continue}else fe={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(k=j=fe,A=y):j=j.next=fe,Ue.lanes|=Z,Ta|=Z;fe=W.action,Uo&&l(y,fe),y=W.hasEagerState?W.eagerState:l(y,fe)}else Z={lane:fe,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(k=j=Z,A=y):j=j.next=Z,Ue.lanes|=fe,Ta|=fe;W=W.next}while(W!==null&&W!==a);if(j===null?A=y:j.next=k,!gr(y,s.memoizedState)&&(bn=!0,ce&&(l=iu,l!==null)))throw l;s.memoizedState=y,s.baseState=A,s.baseQueue=j,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function A_(s){var a=en(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var A=m=m.next;do y=s(y,A.action),A=A.next;while(A!==m);gr(y,a.memoizedState)||(bn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function OT(s,a,l){var c=Ue,m=en(),y=et;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var A=!gr((ut||m).memoizedState,l);if(A&&(m.memoizedState=l,bn=!0),m=m.queue,C_(NT.bind(null,c,m,s),[s]),m.getSnapshot!==a||A||Zt!==null&&Zt.memoizedState.tag&1){if(c.flags|=2048,ou(9,kT.bind(null,c,m,l,a),{destroy:void 0},null),mt===null)throw Error(r(349));y||(fa&60)!==0||DT(c,a,l)}return l}function DT(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ue.updateQueue,a===null?(a=xp(),Ue.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function kT(s,a,l,c){a.value=l,a.getSnapshot=c,VT(a)&&MT(s)}function NT(s,a,l){return l(function(){VT(a)&&MT(s)})}function VT(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!gr(s,l)}catch{return!0}}function MT(s){var a=ca(s,2);a!==null&&Xn(a,s,2)}function I_(s){var a=ar();if(typeof s=="function"){var l=s;if(s=l(),Uo){fi(!0);try{l()}finally{fi(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:s},a}function LT(s,a,l,c){return s.baseState=l,S_(s,ut,typeof c=="function"?c:fs)}function n2(s,a,l,c,m){if(Vp(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};R.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,UT(a,y)):(y.next=l.next,a.pending=l.next=y)}}function UT(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var y=R.T,A={};R.T=A;try{var k=l(m,c),j=R.S;j!==null&&j(A,k),BT(s,a,k)}catch(W){R_(s,a,W)}finally{R.T=y}}else try{y=l(m,c),BT(s,a,y)}catch(W){R_(s,a,W)}}function BT(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){FT(s,a,c)},function(c){return R_(s,a,c)}):FT(s,a,l)}function FT(s,a,l){a.status="fulfilled",a.value=l,jT(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,UT(s,l)))}function R_(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,jT(a),a=a.next;while(a!==c)}s.action=null}function jT(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function zT(s,a){return a}function qT(s,a){if(et){var l=mt.formState;if(l!==null){e:{var c=Ue;if(et){if(Pn){t:{for(var m=Pn,y=Si;m.nodeType!==8;){if(!y){m=null;break t}if(m=ai(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Pn=ai(m.nextSibling),c=m.data==="F!";break e}}Vo(c)}c=!1}c&&(a=l[0])}}return l=ar(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zT,lastRenderedState:a},l.queue=c,l=oS.bind(null,Ue,c),c.dispatch=l,c=I_(!1),y=k_.bind(null,Ue,!1,c.queue),c=ar(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=n2.bind(null,Ue,m,y,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function HT(s){var a=en();return $T(a,ut,s)}function $T(s,a,l){a=S_(s,a,zT)[0],s=Dp(fs)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Eh(a):a;var c=en(),m=c.queue,y=m.dispatch;return l!==c.memoizedState&&(Ue.flags|=2048,ou(9,r2.bind(null,m,l),{destroy:void 0},null)),[a,y,s]}function r2(s,a){s.action=a}function GT(s){var a=en(),l=ut;if(l!==null)return $T(a,l,s);en(),a=a.memoizedState,l=en();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function ou(s,a,l,c){return s={tag:s,create:a,inst:l,deps:c,next:null},a=Ue.updateQueue,a===null&&(a=xp(),Ue.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function KT(){return en().memoizedState}function kp(s,a,l,c){var m=ar();Ue.flags|=s,m.memoizedState=ou(1|a,l,{destroy:void 0},c===void 0?null:c)}function Np(s,a,l,c){var m=en();c=c===void 0?null:c;var y=m.memoizedState.inst;ut!==null&&c!==null&&__(c,ut.memoizedState.deps)?m.memoizedState=ou(a,l,y,c):(Ue.flags|=s,m.memoizedState=ou(1|a,l,y,c))}function WT(s,a){kp(8390656,8,s,a)}function C_(s,a){Np(2048,8,s,a)}function QT(s,a){return Np(4,2,s,a)}function YT(s,a){return Np(4,4,s,a)}function XT(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function JT(s,a,l){l=l!=null?l.concat([s]):null,Np(4,4,XT.bind(null,a,s),l)}function P_(){}function ZT(s,a){var l=en();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&__(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function eS(s,a){var l=en();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&__(a,c[1]))return c[0];if(c=s(),Uo){fi(!0);try{s()}finally{fi(!1)}}return l.memoizedState=[c,a],c}function x_(s,a,l){return l===void 0||(fa&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=nA(),Ue.lanes|=s,Ta|=s,l)}function tS(s,a,l,c){return gr(l,a)?l:nu.current!==null?(s=x_(s,l,c),gr(s,a)||(bn=!0),s):(fa&42)===0?(bn=!0,s.memoizedState=l):(s=nA(),Ue.lanes|=s,Ta|=s,a)}function nS(s,a,l,c,m){var y=ye.p;ye.p=y!==0&&8>y?y:8;var A=R.T,k={};R.T=k,k_(s,!1,a,l);try{var j=m(),W=R.S;if(W!==null&&W(k,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ce=ZN(j,c);bh(s,a,ce,Er(s))}else bh(s,a,c,Er(s))}catch(fe){bh(s,a,{then:function(){},status:"rejected",reason:fe},Er())}finally{ye.p=y,R.T=A}}function i2(){}function O_(s,a,l,c){if(s.tag!==5)throw Error(r(476));var m=rS(s).queue;nS(s,m,a,Oe,l===null?i2:function(){return iS(s),l(c)})}function rS(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:Oe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function iS(s){var a=rS(s).next.queue;bh(s,a,{},Er())}function D_(){return Bn(jh)}function sS(){return en().memoizedState}function aS(){return en().memoizedState}function s2(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Er();s=ya(l);var c=_a(a,s,l);c!==null&&(Xn(c,a,l),Sh(c,a,l)),a={cache:m_()},s.payload=a;return}a=a.return}}function a2(s,a,l){var c=Er();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Vp(s)?lS(a,l):(l=l_(s,a,l,c),l!==null&&(Xn(l,s,c),uS(l,a,c)))}function oS(s,a,l){var c=Er();bh(s,a,l,c)}function bh(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vp(s))lS(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var A=a.lastRenderedState,k=y(A,l);if(m.hasEagerState=!0,m.eagerState=k,gr(k,A))return _p(s,a,m,0),mt===null&&yp(),!1}catch{}finally{}if(l=l_(s,a,m,c),l!==null)return Xn(l,s,c),uS(l,a,c),!0}return!1}function k_(s,a,l,c){if(c={lane:2,revertLane:wv(),action:c,hasEagerState:!1,eagerState:null,next:null},Vp(s)){if(a)throw Error(r(479))}else a=l_(s,l,c,2),a!==null&&Xn(a,s,2)}function Vp(s){var a=s.alternate;return s===Ue||a!==null&&a===Ue}function lS(s,a){su=Cp=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function uS(s,a,l){if((l&4194176)!==0){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,ea(s,l)}}var Ii={readContext:Bn,use:Op,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt};Ii.useCacheRefresh=Kt,Ii.useMemoCache=Kt,Ii.useHostTransitionStatus=Kt,Ii.useFormState=Kt,Ii.useActionState=Kt,Ii.useOptimistic=Kt;var Bo={readContext:Bn,use:Op,useCallback:function(s,a){return ar().memoizedState=[s,a===void 0?null:a],s},useContext:Bn,useEffect:WT,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,kp(4194308,4,XT.bind(null,a,s),l)},useLayoutEffect:function(s,a){return kp(4194308,4,s,a)},useInsertionEffect:function(s,a){kp(4,2,s,a)},useMemo:function(s,a){var l=ar();a=a===void 0?null:a;var c=s();if(Uo){fi(!0);try{s()}finally{fi(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=ar();if(l!==void 0){var m=l(a);if(Uo){fi(!0);try{l(a)}finally{fi(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=a2.bind(null,Ue,s),[c.memoizedState,s]},useRef:function(s){var a=ar();return s={current:s},a.memoizedState=s},useState:function(s){s=I_(s);var a=s.queue,l=oS.bind(null,Ue,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:P_,useDeferredValue:function(s,a){var l=ar();return x_(l,s,a)},useTransition:function(){var s=I_(!1);return s=nS.bind(null,Ue,s.queue,!0,!1),ar().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Ue,m=ar();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),mt===null)throw Error(r(349));(Ye&60)!==0||DT(c,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,WT(NT.bind(null,c,y,s),[s]),c.flags|=2048,ou(9,kT.bind(null,c,y,l,a),{destroy:void 0},null),l},useId:function(){var s=ar(),a=mt.identifierPrefix;if(et){var l=hs,c=cs;l=(c&~(1<<32-Kn(c)-1)).toString(32)+l,a=":"+a+"R"+l,l=Pp++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=e2++,a=":"+a+"r"+l.toString(32)+":";return s.memoizedState=a},useCacheRefresh:function(){return ar().memoizedState=s2.bind(null,Ue)}};Bo.useMemoCache=T_,Bo.useHostTransitionStatus=D_,Bo.useFormState=qT,Bo.useActionState=qT,Bo.useOptimistic=function(s){var a=ar();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=k_.bind(null,Ue,!0,l),l.dispatch=a,[s,a]};var pa={readContext:Bn,use:Op,useCallback:ZT,useContext:Bn,useEffect:C_,useImperativeHandle:JT,useInsertionEffect:QT,useLayoutEffect:YT,useMemo:eS,useReducer:Dp,useRef:KT,useState:function(){return Dp(fs)},useDebugValue:P_,useDeferredValue:function(s,a){var l=en();return tS(l,ut.memoizedState,s,a)},useTransition:function(){var s=Dp(fs)[0],a=en().memoizedState;return[typeof s=="boolean"?s:Eh(s),a]},useSyncExternalStore:OT,useId:sS};pa.useCacheRefresh=aS,pa.useMemoCache=T_,pa.useHostTransitionStatus=D_,pa.useFormState=HT,pa.useActionState=HT,pa.useOptimistic=function(s,a){var l=en();return LT(l,ut,s,a)};var Fo={readContext:Bn,use:Op,useCallback:ZT,useContext:Bn,useEffect:C_,useImperativeHandle:JT,useInsertionEffect:QT,useLayoutEffect:YT,useMemo:eS,useReducer:A_,useRef:KT,useState:function(){return A_(fs)},useDebugValue:P_,useDeferredValue:function(s,a){var l=en();return ut===null?x_(l,s,a):tS(l,ut.memoizedState,s,a)},useTransition:function(){var s=A_(fs)[0],a=en().memoizedState;return[typeof s=="boolean"?s:Eh(s),a]},useSyncExternalStore:OT,useId:sS};Fo.useCacheRefresh=aS,Fo.useMemoCache=T_,Fo.useHostTransitionStatus=D_,Fo.useFormState=GT,Fo.useActionState=GT,Fo.useOptimistic=function(s,a){var l=en();return ut!==null?LT(l,ut,s,a):(l.baseState=s,[s,l.queue.dispatch])};function N_(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:b({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var V_={isMounted:function(s){return(s=s._reactInternals)?ue(s)===s:!1},enqueueSetState:function(s,a,l){s=s._reactInternals;var c=Er(),m=ya(c);m.payload=a,l!=null&&(m.callback=l),a=_a(s,m,c),a!==null&&(Xn(a,s,c),Sh(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=Er(),m=ya(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=_a(s,m,c),a!==null&&(Xn(a,s,c),Sh(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Er(),c=ya(l);c.tag=2,a!=null&&(c.callback=a),a=_a(s,c,l),a!==null&&(Xn(a,s,l),Sh(a,s,l))}};function cS(s,a,l,c,m,y,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,A):a.prototype&&a.prototype.isPureReactComponent?!lh(l,c)||!lh(m,y):!0}function hS(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&V_.enqueueReplaceState(a,a.state,null)}function jo(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=b({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var Mp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function dS(s){Mp(s)}function fS(s){console.error(s)}function pS(s){Mp(s)}function Lp(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function mS(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function M_(s,a,l){return l=ya(l),l.tag=3,l.payload={element:null},l.callback=function(){Lp(s,a)},l}function gS(s){return s=ya(s),s.tag=3,s}function yS(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){mS(a,l,c)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){mS(a,l,c),typeof m!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function o2(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Th(a,l,m,!0),l=zr.current,l!==null){switch(l.tag){case 13:return Ai===null?yv():l.alternate===null&&Bt===0&&(Bt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===d_?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),vv(s,c,m)),!1;case 22:return l.flags|=65536,c===d_?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),vv(s,c,m)),!1}throw Error(r(435,l.tag))}return vv(s,c,m),yv(),!1}if(et)return a=zr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==h_&&(s=Error(r(422),{cause:c}),dh(Br(s,l)))):(c!==h_&&(a=Error(r(423),{cause:c}),dh(Br(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Br(c,l),m=M_(s.stateNode,c,m),X_(s,m),Bt!==4&&(Bt=2)),!1;var y=Error(r(520),{cause:c});if(y=Br(y,l),Dh===null?Dh=[y]:Dh.push(y),Bt!==4&&(Bt=2),a===null)return!0;c=Br(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=M_(l.stateNode,c,s),X_(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Sa===null||!Sa.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=gS(m),yS(m,s,l,c),X_(l,m),!1}l=l.return}while(l!==null);return!1}var _S=Error(r(461)),bn=!1;function xn(s,a,l,c){a.child=s===null?TT(a,null,l,c):Mo(a,s.child,l,c)}function vS(s,a,l,c,m){l=l.render;var y=a.ref;if("ref"in c){var A={};for(var k in c)k!=="ref"&&(A[k]=c[k])}else A=c;return qo(a),c=v_(s,a,l,A,y,m),k=E_(),s!==null&&!bn?(b_(s,a,m),ps(s,a,m)):(et&&k&&u_(a),a.flags|=1,xn(s,a,c,m),a.child)}function ES(s,a,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!sv(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,bS(s,a,y,c,m)):(s=zp(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!$_(s,m)){var A=y.memoizedProps;if(l=l.compare,l=l!==null?l:lh,l(A,c)&&s.ref===a.ref)return ps(s,a,m)}return a.flags|=1,s=wa(y,c),s.ref=a.ref,s.return=a,a.child=s}function bS(s,a,l,c,m){if(s!==null){var y=s.memoizedProps;if(lh(y,c)&&s.ref===a.ref)if(bn=!1,a.pendingProps=c=y,$_(s,m))(s.flags&131072)!==0&&(bn=!0);else return a.lanes=s.lanes,ps(s,a,m)}return L_(s,a,l,c,m)}function wS(s,a,l){var c=a.pendingProps,m=c.children,y=(a.stateNode._pendingVisibility&2)!==0,A=s!==null?s.memoizedState:null;if(wh(s,a),c.mode==="hidden"||y){if((a.flags&128)!==0){if(c=A!==null?A.baseLanes|l:l,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return TS(s,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Rp(a,A!==null?A.cachePool:null),A!==null?ST(a,A):f_(),AT(a);else return a.lanes=a.childLanes=536870912,TS(s,a,A!==null?A.baseLanes|l:l,l)}else A!==null?(Rp(a,A.cachePool),ST(a,A),da(),a.memoizedState=null):(s!==null&&Rp(a,null),f_(),da());return xn(s,a,m,l),a.child}function TS(s,a,l,c){var m=y_();return m=m===null?null:{parent:pn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Rp(a,null),f_(),AT(a),s!==null&&Th(s,a,c,!0),null}function wh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=2097664)}}function L_(s,a,l,c,m){return qo(a),l=v_(s,a,l,c,void 0,m),c=E_(),s!==null&&!bn?(b_(s,a,m),ps(s,a,m)):(et&&c&&u_(a),a.flags|=1,xn(s,a,l,m),a.child)}function SS(s,a,l,c,m,y){return qo(a),a.updateQueue=null,l=xT(a,c,l,m),PT(s),c=E_(),s!==null&&!bn?(b_(s,a,y),ps(s,a,y)):(et&&c&&u_(a),a.flags|=1,xn(s,a,l,y),a.child)}function AS(s,a,l,c,m){if(qo(a),a.stateNode===null){var y=Jl,A=l.contextType;typeof A=="object"&&A!==null&&(y=Bn(A)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=V_,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},Q_(a),A=l.contextType,y.context=typeof A=="object"&&A!==null?Bn(A):Jl,y.state=a.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(N_(a,l,A,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&V_.enqueueReplaceState(y,y.state,null),Ih(a,c,y,m),Ah(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){y=a.stateNode;var k=a.memoizedProps,j=jo(l,k);y.props=j;var W=y.context,ce=l.contextType;A=Jl,typeof ce=="object"&&ce!==null&&(A=Bn(ce));var fe=l.getDerivedStateFromProps;ce=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=a.pendingProps!==k,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||W!==A)&&hS(a,y,c,A),ga=!1;var Z=a.memoizedState;y.state=Z,Ih(a,c,y,m),Ah(),W=a.memoizedState,k||Z!==W||ga?(typeof fe=="function"&&(N_(a,l,fe,c),W=a.memoizedState),(j=ga||cS(a,l,j,c,Z,W,A))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=W),y.props=c,y.state=W,y.context=A,c=j):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,Y_(s,a),A=a.memoizedProps,ce=jo(l,A),y.props=ce,fe=a.pendingProps,Z=y.context,W=l.contextType,j=Jl,typeof W=="object"&&W!==null&&(j=Bn(W)),k=l.getDerivedStateFromProps,(W=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==fe||Z!==j)&&hS(a,y,c,j),ga=!1,Z=a.memoizedState,y.state=Z,Ih(a,c,y,m),Ah();var le=a.memoizedState;A!==fe||Z!==le||ga||s!==null&&s.dependencies!==null&&Up(s.dependencies)?(typeof k=="function"&&(N_(a,l,k,c),le=a.memoizedState),(ce=ga||cS(a,l,ce,c,Z,le,j)||s!==null&&s.dependencies!==null&&Up(s.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,le,j),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,le,j)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=le),y.props=c,y.state=le,y.context=j,c=ce):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),c=!1)}return y=c,wh(s,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&c?(a.child=Mo(a,s.child,null,m),a.child=Mo(a,null,l,m)):xn(s,a,l,m),a.memoizedState=y.state,s=a.child):s=ps(s,a,m),s}function IS(s,a,l,c){return hh(),a.flags|=256,xn(s,a,l,c),a.child}var U_={dehydrated:null,treeContext:null,retryLane:0};function B_(s){return{baseLanes:s,cachePool:CT()}}function F_(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Gr),s}function RS(s,a,l){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,A;if((A=y)||(A=s!==null&&s.memoizedState===null?!1:(fn.current&2)!==0),A&&(m=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,s===null){if(et){if(m?ha(a):da(),et){var k=Pn,j;if(j=k){e:{for(j=k,k=Si;j.nodeType!==8;){if(!k){k=null;break e}if(j=ai(j.nextSibling),j===null){k=null;break e}}k=j}k!==null?(a.memoizedState={dehydrated:k,treeContext:ko!==null?{id:cs,overflow:hs}:null,retryLane:536870912},j=$r(18,null,null,0),j.stateNode=k,j.return=a,a.child=j,Yn=a,Pn=null,j=!0):j=!1}j||Vo(a)}if(k=a.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?a.lanes=16:a.lanes=536870912,null;ds(a)}return k=c.children,c=c.fallback,m?(da(),m=a.mode,k=z_({mode:"hidden",children:k},m),c=$o(c,m,l,null),k.return=a,c.return=a,k.sibling=c,a.child=k,m=a.child,m.memoizedState=B_(l),m.childLanes=F_(s,A,l),a.memoizedState=U_,c):(ha(a),j_(a,k))}if(j=s.memoizedState,j!==null&&(k=j.dehydrated,k!==null)){if(y)a.flags&256?(ha(a),a.flags&=-257,a=q_(s,a,l)):a.memoizedState!==null?(da(),a.child=s.child,a.flags|=128,a=null):(da(),m=c.fallback,k=a.mode,c=z_({mode:"visible",children:c.children},k),m=$o(m,k,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,Mo(a,s.child,null,l),c=a.child,c.memoizedState=B_(l),c.childLanes=F_(s,A,l),a.memoizedState=U_,a=m);else if(ha(a),k.data==="$!"){if(A=k.nextSibling&&k.nextSibling.dataset,A)var W=A.dgst;A=W,c=Error(r(419)),c.stack="",c.digest=A,dh({value:c,source:null,stack:null}),a=q_(s,a,l)}else if(bn||Th(s,a,l,!1),A=(l&s.childLanes)!==0,bn||A){if(A=mt,A!==null){if(c=l&-l,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(A.suspendedLanes|l))!==0?0:c,c!==0&&c!==j.retryLane)throw j.retryLane=c,ca(s,c),Xn(A,s,c),_S}k.data==="$?"||yv(),a=q_(s,a,l)}else k.data==="$?"?(a.flags|=128,a.child=s.child,a=w2.bind(null,s),k._reactRetry=a,a=null):(s=j.treeContext,Pn=ai(k.nextSibling),Yn=a,et=!0,ii=null,Si=!1,s!==null&&(Fr[jr++]=cs,Fr[jr++]=hs,Fr[jr++]=ko,cs=s.id,hs=s.overflow,ko=a),a=j_(a,c.children),a.flags|=4096);return a}return m?(da(),m=c.fallback,k=a.mode,j=s.child,W=j.sibling,c=wa(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&31457280,W!==null?m=wa(W,m):(m=$o(m,k,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,k=s.child.memoizedState,k===null?k=B_(l):(j=k.cachePool,j!==null?(W=pn._currentValue,j=j.parent!==W?{parent:W,pool:W}:j):j=CT(),k={baseLanes:k.baseLanes|l,cachePool:j}),m.memoizedState=k,m.childLanes=F_(s,A,l),a.memoizedState=U_,c):(ha(a),l=s.child,s=l.sibling,l=wa(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(A=a.deletions,A===null?(a.deletions=[s],a.flags|=16):A.push(s)),a.child=l,a.memoizedState=null,l)}function j_(s,a){return a=z_({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function z_(s,a){return ZS(s,a,0,null)}function q_(s,a,l){return Mo(a,s.child,null,l),s=j_(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function CS(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),K_(s.return,a,l)}function H_(s,a,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function PS(s,a,l){var c=a.pendingProps,m=c.revealOrder,y=c.tail;if(xn(s,a,c.children,l),c=fn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&CS(s,l,a);else if(s.tag===19)CS(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch($e(fn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Ip(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),H_(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Ip(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}H_(a,!0,l,null,y);break;case"together":H_(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ps(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Ta|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Th(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=wa(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=wa(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function $_(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Up(s)))}function l2(s,a,l){switch(a.tag){case 3:fr(a,a.stateNode.containerInfo),ma(a,pn,s.memoizedState.cache),hh();break;case 27:case 5:Or(a);break;case 4:fr(a,a.stateNode.containerInfo);break;case 10:ma(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ha(a),a.flags|=128,null):(l&a.child.childLanes)!==0?RS(s,a,l):(ha(a),s=ps(s,a,l),s!==null?s.sibling:null);ha(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Th(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return PS(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),$e(fn,fn.current),c)break;return null;case 22:case 23:return a.lanes=0,wS(s,a,l);case 24:ma(a,pn,s.memoizedState.cache)}return ps(s,a,l)}function xS(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)bn=!0;else{if(!$_(s,l)&&(a.flags&128)===0)return bn=!1,l2(s,a,l);bn=(s.flags&131072)!==0}else bn=!1,et&&(a.flags&1048576)!==0&&pT(a,bp,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")sv(c)?(s=jo(c,s),a.tag=1,a=AS(null,a,c,s,l)):(a.tag=0,a=L_(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===w){a.tag=11,a=vS(null,a,c,s,l);break e}else if(m===U){a.tag=14,a=ES(null,a,c,s,l);break e}}throw a=C(c)||c,Error(r(306,a,""))}}return a;case 0:return L_(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=jo(c,a.pendingProps),AS(s,a,c,m,l);case 3:e:{if(fr(a,a.stateNode.containerInfo),s===null)throw Error(r(387));var y=a.pendingProps;m=a.memoizedState,c=m.element,Y_(s,a),Ih(a,y,null,l);var A=a.memoizedState;if(y=A.cache,ma(a,pn,y),y!==m.cache&&W_(a,[pn],l,!0),Ah(),y=A.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=IS(s,a,y,l);break e}else if(y!==c){c=Br(Error(r(424)),a),dh(c),a=IS(s,a,y,l);break e}else for(Pn=ai(a.stateNode.containerInfo.firstChild),Yn=a,et=!0,ii=null,Si=!0,l=TT(a,null,y,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(hh(),y===c){a=ps(s,a,l);break e}xn(s,a,y,l)}a=a.child}return a;case 26:return wh(s,a),s===null?(l=kA(a.type,null,a.pendingProps,null))?a.memoizedState=l:et||(l=a.type,s=a.pendingProps,c=em(at.current).createElement(l),c[_n]=a,c[cn]=s,On(c,l,s),Pt(c),a.stateNode=c):a.memoizedState=kA(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Or(a),s===null&&et&&(c=a.stateNode=xA(a.type,a.pendingProps,at.current),Yn=a,Si=!0,Pn=ai(c.firstChild)),c=a.pendingProps.children,s!==null||et?xn(s,a,c,l):a.child=Mo(a,null,c,l),wh(s,a),a.child;case 5:return s===null&&et&&((m=c=Pn)&&(c=U2(c,a.type,a.pendingProps,Si),c!==null?(a.stateNode=c,Yn=a,Pn=ai(c.firstChild),Si=!1,m=!0):m=!1),m||Vo(a)),Or(a),m=a.type,y=a.pendingProps,A=s!==null?s.memoizedProps:null,c=y.children,Ov(m,y)?c=null:A!==null&&Ov(m,A)&&(a.flags|=32),a.memoizedState!==null&&(m=v_(s,a,t2,null,null,l),jh._currentValue=m),wh(s,a),xn(s,a,c,l),a.child;case 6:return s===null&&et&&((s=l=Pn)&&(l=B2(l,a.pendingProps,Si),l!==null?(a.stateNode=l,Yn=a,Pn=null,s=!0):s=!1),s||Vo(a)),null;case 13:return RS(s,a,l);case 4:return fr(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=Mo(a,null,c,l):xn(s,a,c,l),a.child;case 11:return vS(s,a,a.type,a.pendingProps,l);case 7:return xn(s,a,a.pendingProps,l),a.child;case 8:return xn(s,a,a.pendingProps.children,l),a.child;case 12:return xn(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,ma(a,a.type,c.value),xn(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,qo(a),m=Bn(m),c=c(m),a.flags|=1,xn(s,a,c,l),a.child;case 14:return ES(s,a,a.type,a.pendingProps,l);case 15:return bS(s,a,a.type,a.pendingProps,l);case 19:return PS(s,a,l);case 22:return wS(s,a,l);case 24:return qo(a),c=Bn(pn),s===null?(m=y_(),m===null&&(m=mt,y=m_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:c,cache:m},Q_(a),ma(a,pn,m)):((s.lanes&l)!==0&&(Y_(s,a),Ih(a,null,null,l),Ah()),m=s.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ma(a,pn,c)):(c=y.cache,ma(a,pn,c),c!==m.cache&&W_(a,[pn],l,!0))),xn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var G_=ze(null),zo=null,ms=null;function ma(s,a,l){$e(G_,a._currentValue),a._currentValue=l}function gs(s){s._currentValue=G_.current,_t(G_)}function K_(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function W_(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var A=m.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=m;for(var j=0;j<a.length;j++)if(k.context===a[j]){y.lanes|=l,k=y.alternate,k!==null&&(k.lanes|=l),K_(y.return,l,s),c||(A=null);break e}y=k.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(r(341));A.lanes|=l,y=A.alternate,y!==null&&(y.lanes|=l),K_(A,l,s),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===s){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function Th(s,a,l,c){s=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var k=m.type;gr(m.pendingProps.value,A.value)||(s!==null?s.push(k):s=[k])}}else if(m===Jt.current){if(A=m.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(jh):s=[jh])}m=m.return}s!==null&&W_(a,s,l,c),a.flags|=262144}function Up(s){for(s=s.firstContext;s!==null;){if(!gr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function qo(s){zo=s,ms=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Bn(s){return OS(zo,s)}function Bp(s,a){return zo===null&&qo(s),OS(s,a)}function OS(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ms===null){if(s===null)throw Error(r(308));ms=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ms=ms.next=a;return l}var ga=!1;function Q_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Y_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ya(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function _a(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Ot&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=vp(s),dT(s,null,l),a}return _p(s,c,a,l),vp(s)}function Sh(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194176)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,ea(s,l)}}function X_(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=A:y=y.next=A,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var J_=!1;function Ah(){if(J_){var s=iu;if(s!==null)throw s}}function Ih(s,a,l,c){J_=!1;var m=s.updateQueue;ga=!1;var y=m.firstBaseUpdate,A=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var j=k,W=j.next;j.next=null,A===null?y=W:A.next=W,A=j;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,k=ce.lastBaseUpdate,k!==A&&(k===null?ce.firstBaseUpdate=W:k.next=W,ce.lastBaseUpdate=j))}if(y!==null){var fe=m.baseState;A=0,ce=W=j=null,k=y;do{var Z=k.lane&-536870913,le=Z!==k.lane;if(le?(Ye&Z)===Z:(c&Z)===Z){Z!==0&&Z===ru&&(J_=!0),ce!==null&&(ce=ce.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ie=s,Ne=k;Z=a;var Ft=l;switch(Ne.tag){case 1:if(Ie=Ne.payload,typeof Ie=="function"){fe=Ie.call(Ft,fe,Z);break e}fe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ne.payload,Z=typeof Ie=="function"?Ie.call(Ft,fe,Z):Ie,Z==null)break e;fe=b({},fe,Z);break e;case 2:ga=!0}}Z=k.callback,Z!==null&&(s.flags|=64,le&&(s.flags|=8192),le=m.callbacks,le===null?m.callbacks=[Z]:le.push(Z))}else le={lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ce===null?(W=ce=le,j=fe):ce=ce.next=le,A|=Z;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;le=k,k=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);ce===null&&(j=fe),m.baseState=j,m.firstBaseUpdate=W,m.lastBaseUpdate=ce,y===null&&(m.shared.lanes=0),Ta|=A,s.lanes=A,s.memoizedState=fe}}function DS(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function kS(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)DS(l[s],a)}function Rh(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,A=l.inst;c=y(),A.destroy=c}l=l.next}while(l!==m)}}catch(k){dt(a,a.return,k)}}function va(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var A=c.inst,k=A.destroy;if(k!==void 0){A.destroy=void 0,m=a;var j=l;try{k()}catch(W){dt(m,j,W)}}}c=c.next}while(c!==y)}}catch(W){dt(a,a.return,W)}}function NS(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{kS(a,l)}catch(c){dt(s,s.return,c)}}}function VS(s,a,l){l.props=jo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){dt(s,a,c)}}function Ho(s,a){try{var l=s.ref;if(l!==null){var c=s.stateNode;switch(s.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof l=="function"?s.refCleanup=l(m):l.current=m}}catch(y){dt(s,a,y)}}function yr(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){dt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){dt(s,a,m)}else l.current=null}function MS(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){dt(s,s.return,m)}}function LS(s,a,l){try{var c=s.stateNode;k2(c,s.type,l,a),c[cn]=a}catch(m){dt(s,s.return,m)}}function US(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function Z_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||US(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ev(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(s,a):l.insertBefore(s,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(s,l)):(a=l,a.appendChild(s)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Zp));else if(c!==4&&c!==27&&(s=s.child,s!==null))for(ev(s,a,l),s=s.sibling;s!==null;)ev(s,a,l),s=s.sibling}function Fp(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&c!==27&&(s=s.child,s!==null))for(Fp(s,a,l),s=s.sibling;s!==null;)Fp(s,a,l),s=s.sibling}var ys=!1,Ut=!1,tv=!1,BS=typeof WeakSet=="function"?WeakSet:Set,wn=null,FS=!1;function u2(s,a){if(s=s.containerInfo,Pv=am,s=rT(s),r_(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var A=0,k=-1,j=-1,W=0,ce=0,fe=s,Z=null;t:for(;;){for(var le;fe!==l||m!==0&&fe.nodeType!==3||(k=A+m),fe!==y||c!==0&&fe.nodeType!==3||(j=A+c),fe.nodeType===3&&(A+=fe.nodeValue.length),(le=fe.firstChild)!==null;)Z=fe,fe=le;for(;;){if(fe===s)break t;if(Z===l&&++W===m&&(k=A),Z===y&&++ce===c&&(j=A),(le=fe.nextSibling)!==null)break;fe=Z,Z=fe.parentNode}fe=le}l=k===-1||j===-1?null:{start:k,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(xv={focusedElem:s,selectionRange:l},am=!1,wn=a;wn!==null;)if(a=wn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,wn=s;else for(;wn!==null;){switch(a=wn,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ie=jo(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ie,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){dt(l,l.return,Ne)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Nv(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Nv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,wn=s;break}wn=a.return}return Ie=FS,FS=!1,Ie}function jS(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:vs(s,l),c&4&&Rh(5,l);break;case 1:if(vs(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(k){dt(l,l.return,k)}else{var m=jo(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(k){dt(l,l.return,k)}}c&64&&NS(l),c&512&&Ho(l,l.return);break;case 3:if(vs(s,l),c&64&&(c=l.updateQueue,c!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{kS(c,s)}catch(k){dt(l,l.return,k)}}break;case 26:vs(s,l),c&512&&Ho(l,l.return);break;case 27:case 5:vs(s,l),a===null&&c&4&&MS(l),c&512&&Ho(l,l.return);break;case 12:vs(s,l);break;case 13:vs(s,l),c&4&&HS(s,l);break;case 22:if(m=l.memoizedState!==null||ys,!m){a=a!==null&&a.memoizedState!==null||Ut;var y=ys,A=Ut;ys=m,(Ut=a)&&!A?Ea(s,l,(l.subtreeFlags&8772)!==0):vs(s,l),ys=y,Ut=A}c&512&&(l.memoizedProps.mode==="manual"?Ho(l,l.return):yr(l,l.return));break;default:vs(s,l)}}function zS(s){var a=s.alternate;a!==null&&(s.alternate=null,zS(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Eo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tn=null,_r=!1;function _s(s,a,l){for(l=l.child;l!==null;)qS(s,a,l),l=l.sibling}function qS(s,a,l){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Qs,l)}catch{}switch(l.tag){case 26:Ut||yr(l,a),_s(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ut||yr(l,a);var c=tn,m=_r;for(tn=l.stateNode,_s(s,a,l),l=l.stateNode,a=l.attributes;a.length;)l.removeAttributeNode(a[0]);Eo(l),tn=c,_r=m;break;case 5:Ut||yr(l,a);case 6:m=tn;var y=_r;if(tn=null,_s(s,a,l),tn=m,_r=y,tn!==null)if(_r)try{s=tn,c=l.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)}catch(A){dt(l,a,A)}else try{tn.removeChild(l.stateNode)}catch(A){dt(l,a,A)}break;case 18:tn!==null&&(_r?(a=tn,l=l.stateNode,a.nodeType===8?kv(a.parentNode,l):a.nodeType===1&&kv(a,l),$h(a)):kv(tn,l.stateNode));break;case 4:c=tn,m=_r,tn=l.stateNode.containerInfo,_r=!0,_s(s,a,l),tn=c,_r=m;break;case 0:case 11:case 14:case 15:Ut||va(2,l,a),Ut||va(4,l,a),_s(s,a,l);break;case 1:Ut||(yr(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&VS(l,a,c)),_s(s,a,l);break;case 21:_s(s,a,l);break;case 22:Ut||yr(l,a),Ut=(c=Ut)||l.memoizedState!==null,_s(s,a,l),Ut=c;break;default:_s(s,a,l)}}function HS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{$h(s)}catch(l){dt(a,a.return,l)}}function c2(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new BS),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new BS),a;default:throw Error(r(435,s.tag))}}function nv(s,a){var l=c2(s);a.forEach(function(c){var m=T2.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function qr(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,A=a,k=A;e:for(;k!==null;){switch(k.tag){case 27:case 5:tn=k.stateNode,_r=!1;break e;case 3:tn=k.stateNode.containerInfo,_r=!0;break e;case 4:tn=k.stateNode.containerInfo,_r=!0;break e}k=k.return}if(tn===null)throw Error(r(160));qS(y,A,m),tn=null,_r=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)$S(a,s),a=a.sibling}var si=null;function $S(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:qr(a,s),Hr(s),c&4&&(va(3,s,s.return),Rh(3,s),va(5,s,s.return));break;case 1:qr(a,s),Hr(s),c&512&&(Ut||l===null||yr(l,l.return)),c&64&&ys&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=si;if(qr(a,s),Hr(s),c&512&&(Ut||l===null||yr(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[na]||y[_n]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),On(y,c,l),y[_n]=s,Pt(y),c=y;break e;case"link":var A=MA("link","href",m).get(c+(l.href||""));if(A){for(var k=0;k<A.length;k++)if(y=A[k],y.getAttribute("href")===(l.href==null?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(k,1);break t}}y=m.createElement(c),On(y,c,l),m.head.appendChild(y);break;case"meta":if(A=MA("meta","content",m).get(c+(l.content||""))){for(k=0;k<A.length;k++)if(y=A[k],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(k,1);break t}}y=m.createElement(c),On(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[_n]=s,Pt(y),c=y}s.stateNode=c}else LA(m,s.type,s.stateNode);else s.stateNode=VA(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?LA(m,s.type,s.stateNode):VA(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&LS(s,s.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&s.alternate===null){m=s.stateNode,y=s.memoizedProps;try{for(var j=m.firstChild;j;){var W=j.nextSibling,ce=j.nodeName;j[na]||ce==="HEAD"||ce==="BODY"||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&j.rel.toLowerCase()==="stylesheet"||m.removeChild(j),j=W}for(var fe=s.type,Z=m.attributes;Z.length;)m.removeAttributeNode(Z[0]);On(m,fe,y),m[_n]=s,m[cn]=y}catch(Ie){dt(s,s.return,Ie)}}case 5:if(qr(a,s),Hr(s),c&512&&(Ut||l===null||yr(l,l.return)),s.flags&32){m=s.stateNode;try{Nr(m,"")}catch(Ie){dt(s,s.return,Ie)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,LS(s,m,l!==null?l.memoizedProps:m)),c&1024&&(tv=!0);break;case 6:if(qr(a,s),Hr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(Ie){dt(s,s.return,Ie)}}break;case 3:if(rm=null,m=si,si=tm(a.containerInfo),qr(a,s),si=m,Hr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{$h(a.containerInfo)}catch(Ie){dt(s,s.return,Ie)}tv&&(tv=!1,GS(s));break;case 4:c=si,si=tm(s.stateNode.containerInfo),qr(a,s),Hr(s),si=c;break;case 12:qr(a,s),Hr(s);break;case 13:qr(a,s),Hr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(hv=ir()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,nv(s,c)));break;case 22:if(c&512&&(Ut||l===null||yr(l,l.return)),j=s.memoizedState!==null,W=l!==null&&l.memoizedState!==null,ce=ys,fe=Ut,ys=ce||j,Ut=fe||W,qr(a,s),Ut=fe,ys=ce,Hr(s),a=s.stateNode,a._current=s,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=j?a._visibility&-2:a._visibility|1,j&&(a=ys||Ut,l===null||W||a||lu(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(l=null,a=s;;){if(a.tag===5||a.tag===26||a.tag===27){if(l===null){W=l=a;try{if(m=W.stateNode,j)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=W.stateNode,k=W.memoizedProps.style;var le=k!=null&&k.hasOwnProperty("display")?k.display:null;A.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Ie){dt(W,W.return,Ie)}}}else if(a.tag===6){if(l===null){W=a;try{W.stateNode.nodeValue=j?"":W.memoizedProps}catch(Ie){dt(W,W.return,Ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,nv(s,l))));break;case 19:qr(a,s),Hr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,nv(s,c)));break;case 21:break;default:qr(a,s),Hr(s)}}function Hr(s){var a=s.flags;if(a&2){try{if(s.tag!==27){e:{for(var l=s.return;l!==null;){if(US(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 27:var m=c.stateNode,y=Z_(s);Fp(s,y,m);break;case 5:var A=c.stateNode;c.flags&32&&(Nr(A,""),c.flags&=-33);var k=Z_(s);Fp(s,k,A);break;case 3:case 4:var j=c.stateNode.containerInfo,W=Z_(s);ev(s,W,j);break;default:throw Error(r(161))}}}catch(ce){dt(s,s.return,ce)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function GS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;GS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function vs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)jS(s,a.alternate,a),a=a.sibling}function lu(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:va(4,a,a.return),lu(a);break;case 1:yr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&VS(a,a.return,l),lu(a);break;case 26:case 27:case 5:yr(a,a.return),lu(a);break;case 22:yr(a,a.return),a.memoizedState===null&&lu(a);break;default:lu(a)}s=s.sibling}}function Ea(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,y=a,A=y.flags;switch(y.tag){case 0:case 11:case 15:Ea(m,y,l),Rh(4,y);break;case 1:if(Ea(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(W){dt(c,c.return,W)}if(c=y,m=c.updateQueue,m!==null){var k=c.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)DS(j[m],k)}catch(W){dt(c,c.return,W)}}l&&A&64&&NS(y),Ho(y,y.return);break;case 26:case 27:case 5:Ea(m,y,l),l&&c===null&&A&4&&MS(y),Ho(y,y.return);break;case 12:Ea(m,y,l);break;case 13:Ea(m,y,l),l&&A&4&&HS(m,y);break;case 22:y.memoizedState===null&&Ea(m,y,l),Ho(y,y.return);break;default:Ea(m,y,l)}a=a.sibling}}function rv(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&yh(l))}function iv(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&yh(s))}function ba(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)KS(s,a,l,c),a=a.sibling}function KS(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:ba(s,a,l,c),m&2048&&Rh(9,a);break;case 3:ba(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&yh(s)));break;case 12:if(m&2048){ba(s,a,l,c),s=a.stateNode;try{var y=a.memoizedProps,A=y.id,k=y.onPostCommit;typeof k=="function"&&k(A,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){dt(a,a.return,j)}}else ba(s,a,l,c);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?ba(s,a,l,c):Ch(s,a):y._visibility&4?ba(s,a,l,c):(y._visibility|=4,uu(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&rv(a.alternate,a);break;case 24:ba(s,a,l,c),m&2048&&iv(a.alternate,a);break;default:ba(s,a,l,c)}}function uu(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,A=a,k=l,j=c,W=A.flags;switch(A.tag){case 0:case 11:case 15:uu(y,A,k,j,m),Rh(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&4?uu(y,A,k,j,m):Ch(y,A):(ce._visibility|=4,uu(y,A,k,j,m)),m&&W&2048&&rv(A.alternate,A);break;case 24:uu(y,A,k,j,m),m&&W&2048&&iv(A.alternate,A);break;default:uu(y,A,k,j,m)}a=a.sibling}}function Ch(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:Ch(l,c),m&2048&&rv(c.alternate,c);break;case 24:Ch(l,c),m&2048&&iv(c.alternate,c);break;default:Ch(l,c)}a=a.sibling}}var Ph=8192;function cu(s){if(s.subtreeFlags&Ph)for(s=s.child;s!==null;)WS(s),s=s.sibling}function WS(s){switch(s.tag){case 26:cu(s),s.flags&Ph&&s.memoizedState!==null&&J2(si,s.memoizedState,s.memoizedProps);break;case 5:cu(s);break;case 3:case 4:var a=si;si=tm(s.stateNode.containerInfo),cu(s),si=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Ph,Ph=16777216,cu(s),Ph=a):cu(s));break;default:cu(s)}}function QS(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function xh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,XS(c,s)}QS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)YS(s),s=s.sibling}function YS(s){switch(s.tag){case 0:case 11:case 15:xh(s),s.flags&2048&&va(9,s,s.return);break;case 3:xh(s);break;case 12:xh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&4&&(s.return===null||s.return.tag!==13)?(a._visibility&=-5,jp(s)):xh(s);break;default:xh(s)}}function jp(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,XS(c,s)}QS(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:va(8,a,a.return),jp(a);break;case 22:l=a.stateNode,l._visibility&4&&(l._visibility&=-5,jp(a));break;default:jp(a)}s=s.sibling}}function XS(s,a){for(;wn!==null;){var l=wn;switch(l.tag){case 0:case 11:case 15:va(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:yh(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,wn=c;else e:for(l=s;wn!==null;){c=wn;var m=c.sibling,y=c.return;if(zS(c),c===l){wn=null;break e}if(m!==null){m.return=y,wn=m;break e}wn=y}}}function h2(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(s,a,l,c){return new h2(s,a,l,c)}function sv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function wa(s,a){var l=s.alternate;return l===null?(l=$r(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&31457280,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function JS(s,a){s.flags&=31457282;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function zp(s,a,l,c,m,y){var A=0;if(c=s,typeof s=="function")sv(s)&&(A=1);else if(typeof s=="string")A=Y2(s,l,Et.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case d:return $o(l.children,m,y,a);case f:A=8,m|=24;break;case g:return s=$r(12,l,a,m|2),s.elementType=g,s.lanes=y,s;case I:return s=$r(13,l,a,m),s.elementType=I,s.lanes=y,s;case P:return s=$r(19,l,a,m),s.elementType=P,s.lanes=y,s;case L:return ZS(l,m,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:case T:A=10;break e;case v:A=9;break e;case w:A=11;break e;case U:A=14;break e;case M:A=16,c=null;break e}A=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return a=$r(A,l,a,m),a.elementType=s,a.type=c,a.lanes=y,a}function $o(s,a,l,c){return s=$r(7,s,c,a),s.lanes=l,s}function ZS(s,a,l,c){s=$r(22,s,c,a),s.elementType=L,s.lanes=l;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(r(456));if((m._pendingVisibility&2)===0){var A=ca(y,2);A!==null&&(m._pendingVisibility|=2,Xn(A,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(r(456));if((m._pendingVisibility&2)!==0){var A=ca(y,2);A!==null&&(m._pendingVisibility&=-3,Xn(A,y,2))}}};return s.stateNode=m,s}function av(s,a,l){return s=$r(6,s,null,a),s.lanes=l,s}function ov(s,a,l){return a=$r(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Es(s){s.flags|=4}function eA(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!UA(a)){if(a=zr.current,a!==null&&((Ye&4194176)===Ye?Ai!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||a!==Ai))throw ph=d_,yT;s.flags|=8192}}function qp(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Js():536870912,s.lanes|=a,du|=a)}function Oh(s,a){if(!et)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function xt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function d2(s,a,l){var c=a.pendingProps;switch(c_(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(a),null;case 1:return xt(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),gs(pn),Mn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(ch(a)?Es(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ii!==null&&(mv(ii),ii=null))),xt(a),null;case 26:return l=a.memoizedState,s===null?(Es(a),l!==null?(xt(a),eA(a,l)):(xt(a),a.flags&=-16777217)):l?l!==s.memoizedState?(Es(a),xt(a),eA(a,l)):(xt(a),a.flags&=-16777217):(s.memoizedProps!==c&&Es(a),xt(a),a.flags&=-16777217),null;case 27:Ln(a),l=at.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&Es(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return xt(a),null}s=Et.current,ch(a)?mT(a):(s=xA(m,c,l),a.stateNode=s,Es(a))}return xt(a),null;case 5:if(Ln(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&Es(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return xt(a),null}if(s=Et.current,ch(a))mT(a);else{switch(m=em(at.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[_n]=a,s[cn]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(On(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Es(a)}}return xt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&Es(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(s=at.current,ch(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=Yn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[_n]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||SA(s.nodeValue,l)),s||Vo(a)}else s=em(s).createTextNode(c),s[_n]=a,a.stateNode=s}return xt(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=ch(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[_n]=a}else hh(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;xt(a),m=!1}else ii!==null&&(mv(ii),ii=null),m=!0;if(!m)return a.flags&256?(ds(a),a):(ds(a),null)}if(ds(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),qp(a,a.updateQueue),xt(a),null;case 4:return Mn(),s===null&&Iv(a.stateNode.containerInfo),xt(a),null;case 10:return gs(a.type),xt(a),null;case 19:if(_t(fn),m=a.memoizedState,m===null)return xt(a),null;if(c=(a.flags&128)!==0,y=m.rendering,y===null)if(c)Oh(m,!1);else{if(Bt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Ip(s),y!==null){for(a.flags|=128,Oh(m,!1),s=y.updateQueue,a.updateQueue=s,qp(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)JS(l,s),l=l.sibling;return $e(fn,fn.current&1|2),a.child}s=s.sibling}m.tail!==null&&ir()>Hp&&(a.flags|=128,c=!0,Oh(m,!1),a.lanes=4194304)}else{if(!c)if(s=Ip(y),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,qp(a,s),Oh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!et)return xt(a),null}else 2*ir()-m.renderingStartTime>Hp&&l!==536870912&&(a.flags|=128,c=!0,Oh(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=ir(),a.sibling=null,s=fn.current,$e(fn,c?s&1|2:s&1),a):(xt(a),null);case 22:case 23:return ds(a),p_(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(xt(a),a.subtreeFlags&6&&(a.flags|=8192)):xt(a),l=a.updateQueue,l!==null&&qp(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&_t(Lo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),gs(pn),xt(a),null;case 25:return null}throw Error(r(156,a.tag))}function f2(s,a){switch(c_(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return gs(pn),Mn(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Ln(a),null;case 13:if(ds(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));hh()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return _t(fn),null;case 4:return Mn(),null;case 10:return gs(a.type),null;case 22:case 23:return ds(a),p_(),s!==null&&_t(Lo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return gs(pn),null;case 25:return null;default:return null}}function tA(s,a){switch(c_(a),a.tag){case 3:gs(pn),Mn();break;case 26:case 27:case 5:Ln(a);break;case 4:Mn();break;case 13:ds(a);break;case 19:_t(fn);break;case 10:gs(a.type);break;case 22:case 23:ds(a),p_(),s!==null&&_t(Lo);break;case 24:gs(pn)}}var p2={getCacheForType:function(s){var a=Bn(pn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},m2=typeof WeakMap=="function"?WeakMap:Map,Ot=0,mt=null,Fe=null,Ye=0,gt=0,vr=null,bs=!1,hu=!1,lv=!1,ws=0,Bt=0,Ta=0,Go=0,uv=0,Gr=0,du=0,Dh=null,Ri=null,cv=!1,hv=0,Hp=1/0,$p=null,Sa=null,Gp=!1,Ko=null,kh=0,dv=0,fv=null,Nh=0,pv=null;function Er(){if((Ot&2)!==0&&Ye!==0)return Ye&-Ye;if(R.T!==null){var s=ru;return s!==0?s:wv()}return Jf()}function nA(){Gr===0&&(Gr=(Ye&536870912)===0||et?Gc():536870912);var s=zr.current;return s!==null&&(s.flags|=32),Gr}function Xn(s,a,l){(s===mt&&gt===2||s.cancelPendingCommit!==null)&&(fu(s,0),Ts(s,Ye,Gr,!1)),Gt(s,l),((Ot&2)===0||s!==mt)&&(s===mt&&((Ot&2)===0&&(Go|=l),Bt===4&&Ts(s,Ye,Gr,!1)),Ci(s))}function rA(s,a,l){if((Ot&6)!==0)throw Error(r(327));var c=!l&&(a&60)===0&&(a&s.expiredLanes)===0||Xs(s,a),m=c?_2(s,a):_v(s,a,!0),y=c;do{if(m===0){hu&&!c&&Ts(s,a,0,!1);break}else if(m===6)Ts(s,a,0,!bs);else{if(l=s.current.alternate,y&&!g2(l)){m=_v(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var k=s;m=Dh;var j=k.current.memoizedState.isDehydrated;if(j&&(fu(k,A).flags|=256),A=_v(k,A,!1),A!==2){if(lv&&!j){k.errorRecoveryDisabledLanes|=y,Go|=y,m=4;break e}y=Ri,Ri=m,y!==null&&mv(y)}m=A}if(y=!1,m!==2)continue}}if(m===1){fu(s,0),Ts(s,a,0,!0);break}e:{switch(c=s,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){Ts(c,a,Gr,!bs);break e}break;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=l,c.finishedLanes=a,(a&62914560)===a&&(y=hv+300-ir(),10<y)){if(Ts(c,a,Gr,!bs),Dr(c,0)!==0)break e;c.timeoutHandle=RA(iA.bind(null,c,l,Ri,$p,cv,a,Gr,Go,du,bs,2,-0,0),y);break e}iA(c,l,Ri,$p,cv,a,Gr,Go,du,bs,0,-0,0)}}break}while(!0);Ci(s)}function mv(s){Ri===null?Ri=s:Ri.push.apply(Ri,s)}function iA(s,a,l,c,m,y,A,k,j,W,ce,fe,Z){var le=a.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(Fh={stylesheets:null,count:0,unsuspend:X2},WS(a),a=Z2(),a!==null)){s.cancelPendingCommit=a(hA.bind(null,s,l,c,m,A,k,j,1,fe,Z)),Ts(s,y,A,!W);return}hA(s,l,c,m,A,k,j,ce,fe,Z)}function g2(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!gr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ts(s,a,l,c){a&=~uv,a&=~Go,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var y=31-Kn(m),A=1<<y;c[y]=-1,m&=~A}l!==0&&Zs(s,l,a)}function Kp(){return(Ot&6)===0?(Vh(0),!1):!0}function gv(){if(Fe!==null){if(gt===0)var s=Fe.return;else s=Fe,ms=zo=null,w_(s),tu=null,mh=0,s=Fe;for(;s!==null;)tA(s.alternate,s),s=s.return;Fe=null}}function fu(s,a){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,V2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),gv(),mt=s,Fe=l=wa(s.current,null),Ye=a,gt=0,vr=null,bs=!1,hu=Xs(s,a),lv=!1,du=Gr=uv=Go=Ta=Bt=0,Ri=Dh=null,cv=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-Kn(c),y=1<<m;a|=s[m],c&=~y}return ws=a,yp(),l}function sA(s,a){Ue=null,R.H=Ii,a===fh?(a=ET(),gt=3):a===yT?(a=ET(),gt=4):gt=a===_S?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,vr=a,Fe===null&&(Bt=1,Lp(s,Br(a,s.current)))}function aA(){var s=R.H;return R.H=Ii,s===null?Ii:s}function oA(){var s=R.A;return R.A=p2,s}function yv(){Bt=4,bs||(Ye&4194176)!==Ye&&zr.current!==null||(hu=!0),(Ta&134217727)===0&&(Go&134217727)===0||mt===null||Ts(mt,Ye,Gr,!1)}function _v(s,a,l){var c=Ot;Ot|=2;var m=aA(),y=oA();(mt!==s||Ye!==a)&&($p=null,fu(s,a)),a=!1;var A=Bt;e:do try{if(gt!==0&&Fe!==null){var k=Fe,j=vr;switch(gt){case 8:gv(),A=6;break e;case 3:case 2:case 6:zr.current===null&&(a=!0);var W=gt;if(gt=0,vr=null,pu(s,k,j,W),l&&hu){A=0;break e}break;default:W=gt,gt=0,vr=null,pu(s,k,j,W)}}y2(),A=Bt;break}catch(ce){sA(s,ce)}while(!0);return a&&s.shellSuspendCounter++,ms=zo=null,Ot=c,R.H=m,R.A=y,Fe===null&&(mt=null,Ye=0,yp()),A}function y2(){for(;Fe!==null;)lA(Fe)}function _2(s,a){var l=Ot;Ot|=2;var c=aA(),m=oA();mt!==s||Ye!==a?($p=null,Hp=ir()+500,fu(s,a)):hu=Xs(s,a);e:do try{if(gt!==0&&Fe!==null){a=Fe;var y=vr;t:switch(gt){case 1:gt=0,vr=null,pu(s,a,y,1);break;case 2:if(_T(y)){gt=0,vr=null,uA(a);break}a=function(){gt===2&&mt===s&&(gt=7),Ci(s)},y.then(a,a);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:_T(y)?(gt=0,vr=null,uA(a)):(gt=0,vr=null,pu(s,a,y,7));break;case 5:var A=null;switch(Fe.tag){case 26:A=Fe.memoizedState;case 5:case 27:var k=Fe;if(!A||UA(A)){gt=0,vr=null;var j=k.sibling;if(j!==null)Fe=j;else{var W=k.return;W!==null?(Fe=W,Wp(W)):Fe=null}break t}}gt=0,vr=null,pu(s,a,y,5);break;case 6:gt=0,vr=null,pu(s,a,y,6);break;case 8:gv(),Bt=6;break e;default:throw Error(r(462))}}v2();break}catch(ce){sA(s,ce)}while(!0);return ms=zo=null,R.H=c,R.A=m,Ot=l,Fe!==null?0:(mt=null,Ye=0,yp(),Bt)}function v2(){for(;Fe!==null&&!Gy();)lA(Fe)}function lA(s){var a=xS(s.alternate,s,ws);s.memoizedProps=s.pendingProps,a===null?Wp(s):Fe=a}function uA(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=SS(l,a,a.pendingProps,a.type,void 0,Ye);break;case 11:a=SS(l,a,a.pendingProps,a.type.render,a.ref,Ye);break;case 5:w_(a);default:tA(l,a),a=Fe=JS(a,ws),a=xS(l,a,ws)}s.memoizedProps=s.pendingProps,a===null?Wp(s):Fe=a}function pu(s,a,l,c){ms=zo=null,w_(a),tu=null,mh=0;var m=a.return;try{if(o2(s,m,a,l,Ye)){Bt=1,Lp(s,Br(l,s.current)),Fe=null;return}}catch(y){if(m!==null)throw Fe=m,y;Bt=1,Lp(s,Br(l,s.current)),Fe=null;return}a.flags&32768?(et||c===1?s=!0:hu||(Ye&536870912)!==0?s=!1:(bs=s=!0,(c===2||c===3||c===6)&&(c=zr.current,c!==null&&c.tag===13&&(c.flags|=16384))),cA(a,s)):Wp(a)}function Wp(s){var a=s;do{if((a.flags&32768)!==0){cA(a,bs);return}s=a.return;var l=d2(a.alternate,a,ws);if(l!==null){Fe=l;return}if(a=a.sibling,a!==null){Fe=a;return}Fe=a=s}while(a!==null);Bt===0&&(Bt=5)}function cA(s,a){do{var l=f2(s.alternate,s);if(l!==null){l.flags&=32767,Fe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=l}while(s!==null);Bt=6,Fe=null}function hA(s,a,l,c,m,y,A,k,j,W){var ce=R.T,fe=ye.p;try{ye.p=2,R.T=null,E2(s,a,l,c,fe,m,y,A,k,j,W)}finally{R.T=ce,ye.p=fe}}function E2(s,a,l,c,m,y,A,k){do mu();while(Ko!==null);if((Ot&6)!==0)throw Error(r(327));var j=s.finishedWork;if(c=s.finishedLanes,j===null)return null;if(s.finishedWork=null,s.finishedLanes=0,j===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var W=j.lanes|j.childLanes;if(W|=o_,Yf(s,c,W,y,A,k),s===mt&&(Fe=mt=null,Ye=0),(j.subtreeFlags&10256)===0&&(j.flags&10256)===0||Gp||(Gp=!0,dv=W,fv=l,S2(es,function(){return mu(),null})),l=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||l?(l=R.T,R.T=null,y=ye.p,ye.p=2,A=Ot,Ot|=4,u2(s,j),$S(j,s),HN(xv,s.containerInfo),am=!!Pv,xv=Pv=null,s.current=j,jS(s,j.alternate,j),zc(),Ot=A,ye.p=y,R.T=l):s.current=j,Gp?(Gp=!1,Ko=s,kh=c):dA(s,W),W=s.pendingLanes,W===0&&(Sa=null),Hc(j.stateNode),Ci(s),a!==null)for(m=s.onRecoverableError,j=0;j<a.length;j++)W=a[j],m(W.value,{componentStack:W.stack});return(kh&3)!==0&&mu(),W=s.pendingLanes,(c&4194218)!==0&&(W&42)!==0?s===pv?Nh++:(Nh=0,pv=s):Nh=0,Vh(0),null}function dA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,yh(a)))}function mu(){if(Ko!==null){var s=Ko,a=dv;dv=0;var l=Xf(kh),c=R.T,m=ye.p;try{if(ye.p=32>l?32:l,R.T=null,Ko===null)var y=!1;else{l=fv,fv=null;var A=Ko,k=kh;if(Ko=null,kh=0,(Ot&6)!==0)throw Error(r(331));var j=Ot;if(Ot|=4,YS(A.current),KS(A,A.current,k,l),Ot=j,Vh(0,!1),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Qs,A)}catch{}y=!0}return y}finally{ye.p=m,R.T=c,dA(s,a)}}return!1}function fA(s,a,l){a=Br(l,a),a=M_(s.stateNode,a,2),s=_a(s,a,2),s!==null&&(Gt(s,2),Ci(s))}function dt(s,a,l){if(s.tag===3)fA(s,s,l);else for(;a!==null;){if(a.tag===3){fA(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Sa===null||!Sa.has(c))){s=Br(l,s),l=gS(2),c=_a(a,l,2),c!==null&&(yS(l,c,a,s),Gt(c,2),Ci(c));break}}a=a.return}}function vv(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new m2;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(lv=!0,m.add(l),s=b2.bind(null,s,a,l),a.then(s,s))}function b2(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,mt===s&&(Ye&l)===l&&(Bt===4||Bt===3&&(Ye&62914560)===Ye&&300>ir()-hv?(Ot&2)===0&&fu(s,0):uv|=l,du===Ye&&(du=0)),Ci(s)}function pA(s,a){a===0&&(a=Js()),s=ca(s,a),s!==null&&(Gt(s,a),Ci(s))}function w2(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),pA(s,l)}function T2(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),pA(s,l)}function S2(s,a){return ei(s,a)}var Qp=null,gu=null,Ev=!1,Yp=!1,bv=!1,Wo=0;function Ci(s){s!==gu&&s.next===null&&(gu===null?Qp=gu=s:gu=gu.next=s),Yp=!0,Ev||(Ev=!0,I2(A2))}function Vh(s,a){if(!bv&&Yp){bv=!0;do for(var l=!1,c=Qp;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var A=c.suspendedLanes,k=c.pingedLanes;y=(1<<31-Kn(42|s)+1)-1,y&=m&~(A&~k),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(l=!0,yA(c,y))}else y=Ye,y=Dr(c,c===mt?y:0),(y&3)===0||Xs(c,y)||(l=!0,yA(c,y));c=c.next}while(l);bv=!1}}function A2(){Yp=Ev=!1;var s=0;Wo!==0&&(N2()&&(s=Wo),Wo=0);for(var a=ir(),l=null,c=Qp;c!==null;){var m=c.next,y=mA(c,a);y===0?(c.next=null,l===null?Qp=m:l.next=m,m===null&&(gu=l)):(l=c,(s!==0||(y&3)!==0)&&(Yp=!0)),c=m}Vh(s)}function mA(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var A=31-Kn(y),k=1<<A,j=m[A];j===-1?((k&l)===0||(k&c)!==0)&&(m[A]=Nl(k,a)):j<=a&&(s.expiredLanes|=k),y&=~k}if(a=mt,l=Ye,l=Dr(s,s===a?l:0),c=s.callbackNode,l===0||s===a&&gt===2||s.cancelPendingCommit!==null)return c!==null&&c!==null&&kl(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Xs(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&kl(c),Xf(l)){case 2:case 8:l=yn;break;case 32:l=es;break;case 268435456:l=qc;break;default:l=es}return c=gA.bind(null,s),l=ei(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&kl(c),s.callbackPriority=2,s.callbackNode=null,2}function gA(s,a){var l=s.callbackNode;if(mu()&&s.callbackNode!==l)return null;var c=Ye;return c=Dr(s,s===mt?c:0),c===0?null:(rA(s,c,a),mA(s,ir()),s.callbackNode!=null&&s.callbackNode===l?gA.bind(null,s):null)}function yA(s,a){if(mu())return null;rA(s,a,!0)}function I2(s){M2(function(){(Ot&6)!==0?ei(un,s):s()})}function wv(){return Wo===0&&(Wo=Gc()),Wo}function _A(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:yi(""+s)}function vA(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function R2(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var y=_A((m[cn]||null).action),A=c.submitter;A&&(a=(a=A[cn]||null)?_A(a.formAction):A.getAttribute("formAction"),a!==null&&(y=a,A=null));var k=new jl("action","action",null,c,m);s.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Wo!==0){var j=A?vA(m,A):new FormData(m);O_(l,{pending:!0,data:j,method:m.method,action:y},null,j)}}else typeof y=="function"&&(k.preventDefault(),j=A?vA(m,A):new FormData(m),O_(l,{pending:!0,data:j,method:m.method,action:y},y,j))},currentTarget:m}]})}}for(var Tv=0;Tv<hT.length;Tv++){var Sv=hT[Tv],C2=Sv.toLowerCase(),P2=Sv[0].toUpperCase()+Sv.slice(1);ri(C2,"on"+P2)}ri(aT,"onAnimationEnd"),ri(oT,"onAnimationIteration"),ri(lT,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(GN,"onTransitionRun"),ri(KN,"onTransitionStart"),ri(WN,"onTransitionCancel"),ri(uT,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mh));function EA(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var A=c.length-1;0<=A;A--){var k=c[A],j=k.instance,W=k.currentTarget;if(k=k.listener,j!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=W;try{y(m)}catch(ce){Mp(ce)}m.currentTarget=null,y=j}else for(A=0;A<c.length;A++){if(k=c[A],j=k.instance,W=k.currentTarget,k=k.listener,j!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=W;try{y(m)}catch(ce){Mp(ce)}m.currentTarget=null,y=j}}}}function Ge(s,a){var l=a[vo];l===void 0&&(l=a[vo]=new Set);var c=s+"__bubble";l.has(c)||(bA(a,s,2,!1),l.add(c))}function Av(s,a,l){var c=0;a&&(c|=4),bA(l,s,c,a)}var Xp="_reactListening"+Math.random().toString(36).slice(2);function Iv(s){if(!s[Xp]){s[Xp]=!0,Wc.forEach(function(l){l!=="selectionchange"&&(x2.has(l)||Av(l,!1,s),Av(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Xp]||(a[Xp]=!0,Av("selectionchange",!1,a))}}function bA(s,a,l,c){switch(HA(a)){case 2:var m=nV;break;case 8:m=rV;break;default:m=Bv}l=m.bind(null,a,l,s),m=void 0,!Mr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Rv(s,a,l,c,m){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var k=c.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(A===4)for(A=c.return;A!==null;){var j=A.tag;if((j===3||j===4)&&(j=A.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;A=A.return}for(;k!==null;){if(A=ni(k),A===null)return;if(j=A.tag,j===5||j===6||j===26||j===27){c=y=A;continue e}k=k.parentNode}}c=c.return}np(function(){var W=y,ce=Fl(l),fe=[];e:{var Z=cT.get(s);if(Z!==void 0){var le=jl,Ie=s;switch(s){case"keypress":if(vi(l)===0)break e;case"keydown":case"keyup":le=Kl;break;case"focusin":Ie="focus",le=Hl;break;case"focusout":Ie="blur",le=Hl;break;case"beforeblur":case"afterblur":le=Hl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Zy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=cp;break;case aT:case oT:case lT:le=$l;break;case uT:le=dp;break;case"scroll":case"scrollend":le=rp;break;case"wheel":le=Wl;break;case"copy":case"cut":case"paste":le=Gl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=ah;break;case"toggle":case"beforetoggle":le=pp}var Ne=(a&4)!==0,Ft=!Ne&&(s==="scroll"||s==="scrollend"),Q=Ne?Z!==null?Z+"Capture":null:Z;Ne=[];for(var G=W,J;G!==null;){var he=G;if(J=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||J===null||Q===null||(he=So(G,Q),he!=null&&Ne.push(Lh(G,he,J))),Ft)break;G=G.return}0<Ne.length&&(Z=new le(Z,Ie,null,l,ce),fe.push({event:Z,listeners:Ne}))}}if((a&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",Z&&l!==Vr&&(Ie=l.relatedTarget||l.fromElement)&&(ni(Ie)||Ie[ts]))break e;if((le||Z)&&(Z=ce.window===ce?ce:(Z=ce.ownerDocument)?Z.defaultView||Z.parentWindow:window,le?(Ie=l.relatedTarget||l.toElement,le=W,Ie=Ie?ni(Ie):null,Ie!==null&&(Ft=ue(Ie),Ne=Ie.tag,Ie!==Ft||Ne!==5&&Ne!==27&&Ne!==6)&&(Ie=null)):(le=null,Ie=W),le!==Ie)){if(Ne=Lr,he="onMouseLeave",Q="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=ah,he="onPointerLeave",Q="onPointerEnter",G="pointer"),Ft=le==null?Z:ra(le),J=Ie==null?Z:ra(Ie),Z=new Ne(he,G+"leave",le,l,ce),Z.target=Ft,Z.relatedTarget=J,he=null,ni(ce)===W&&(Ne=new Ne(Q,G+"enter",Ie,l,ce),Ne.target=J,Ne.relatedTarget=Ft,he=Ne),Ft=he,le&&Ie)t:{for(Ne=le,Q=Ie,G=0,J=Ne;J;J=yu(J))G++;for(J=0,he=Q;he;he=yu(he))J++;for(;0<G-J;)Ne=yu(Ne),G--;for(;0<J-G;)Q=yu(Q),J--;for(;G--;){if(Ne===Q||Q!==null&&Ne===Q.alternate)break t;Ne=yu(Ne),Q=yu(Q)}Ne=null}else Ne=null;le!==null&&wA(fe,Z,le,Ne,!1),Ie!==null&&Ft!==null&&wA(fe,Ft,Ie,Ne,!0)}}e:{if(Z=W?ra(W):window,le=Z.nodeName&&Z.nodeName.toLowerCase(),le==="select"||le==="input"&&Z.type==="file")var Se=Qw;else if(dn(Z))if(Yw)Se=zN;else{Se=FN;var Be=BN}else le=Z.nodeName,!le||le.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&Zc(W.elementType)&&(Se=Qw):Se=jN;if(Se&&(Se=Se(s,W))){us(fe,Se,l,ce);break e}Be&&Be(s,Z,W),s==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&Bl(Z,"number",Z.value)}switch(Be=W?ra(W):window,s){case"focusin":(dn(Be)||Be.contentEditable==="true")&&(Ql=Be,i_=W,uh=null);break;case"focusout":uh=i_=Ql=null;break;case"mousedown":s_=!0;break;case"contextmenu":case"mouseup":case"dragend":s_=!1,iT(fe,l,ce);break;case"selectionchange":if($N)break;case"keydown":case"keyup":iT(fe,l,ce)}var Ce;if(wi)e:{switch(s){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else We?re(s,l)&&(xe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(S&&l.locale!=="ko"&&(We||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&We&&(Ce=th()):(_i=ce,ua="value"in _i?_i.value:_i.textContent,We=!0)),Be=Jp(W,xe),0<Be.length&&(xe=new ih(xe,s,null,l,ce),fe.push({event:xe,listeners:Be}),Ce?xe.data=Ce:(Ce=ge(l),Ce!==null&&(xe.data=Ce)))),(Ce=E?hn(s,l):Qe(s,l))&&(xe=Jp(W,"onBeforeInput"),0<xe.length&&(Be=new ih("onBeforeInput","beforeinput",null,l,ce),fe.push({event:Be,listeners:xe}),Be.data=Ce)),R2(fe,s,W,l,ce)}EA(fe,a)})}function Lh(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Jp(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=So(s,l),m!=null&&c.unshift(Lh(s,m,y)),m=So(s,a),m!=null&&c.push(Lh(s,m,y))),s=s.return}return c}function yu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function wA(s,a,l,c,m){for(var y=a._reactName,A=[];l!==null&&l!==c;){var k=l,j=k.alternate,W=k.stateNode;if(k=k.tag,j!==null&&j===c)break;k!==5&&k!==26&&k!==27||W===null||(j=W,m?(W=So(l,y),W!=null&&A.unshift(Lh(l,W,j))):m||(W=So(l,y),W!=null&&A.push(Lh(l,W,j)))),l=l.return}A.length!==0&&s.push({event:a,listeners:A})}var O2=/\r\n?/g,D2=/\u0000|\uFFFD/g;function TA(s){return(typeof s=="string"?s:""+s).replace(O2,`
`).replace(D2,"")}function SA(s,a){return a=TA(a),TA(s)===a}function Zp(){}function ct(s,a,l,c,m,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Nr(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Nr(s,""+c);break;case"className":aa(s,"class",c);break;case"tabIndex":aa(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":aa(s,l,c);break;case"style":tp(s,c,y);break;case"data":if(a!=="object"){aa(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=yi(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ct(s,a,"name",m.name,m,null),ct(s,a,"formEncType",m.formEncType,m,null),ct(s,a,"formMethod",m.formMethod,m,null),ct(s,a,"formTarget",m.formTarget,m,null)):(ct(s,a,"encType",m.encType,m,null),ct(s,a,"method",m.method,m,null),ct(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=yi(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Zp);break;case"onScroll":c!=null&&Ge("scroll",s);break;case"onScrollEnd":c!=null&&Ge("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=yi(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Ge("beforetoggle",s),Ge("toggle",s),sa(s,"popover",c);break;case"xlinkActuate":kr(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kr(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kr(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kr(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kr(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kr(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kr(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":sa(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Xy.get(l)||l,sa(s,l,c))}}function Cv(s,a,l,c,m,y){switch(l){case"style":tp(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Nr(s,c):(typeof c=="number"||typeof c=="bigint")&&Nr(s,""+c);break;case"onScroll":c!=null&&Ge("scroll",s);break;case"onScrollEnd":c!=null&&Ge("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Zp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ll.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=s[cn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):sa(s,l,c)}}}function On(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",s),Ge("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var A=l[y];if(A!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,y,A,l,null)}}m&&ct(s,a,"srcSet",l.srcSet,l,null),c&&ct(s,a,"src",l.src,l,null);return;case"input":Ge("invalid",s);var k=y=A=m=null,j=null,W=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":m=ce;break;case"type":A=ce;break;case"checked":j=ce;break;case"defaultChecked":W=ce;break;case"value":y=ce;break;case"defaultValue":k=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:ct(s,a,c,ce,l,null)}}wo(s,y,k,j,W,A,m,!1),bo(s);return;case"select":Ge("invalid",s),c=A=y=null;for(m in l)if(l.hasOwnProperty(m)&&(k=l[m],k!=null))switch(m){case"value":y=k;break;case"defaultValue":A=k;break;case"multiple":c=k;default:ct(s,a,m,k,l,null)}a=y,l=A,s.multiple=!!c,a!=null?Ze(s,!!c,a,!1):l!=null&&Ze(s,!!c,l,!0);return;case"textarea":Ge("invalid",s),y=m=c=null;for(A in l)if(l.hasOwnProperty(A)&&(k=l[A],k!=null))switch(A){case"value":c=k;break;case"defaultValue":m=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:ct(s,a,A,k,l,null)}la(s,c,m,y),bo(s);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(c=l[j],c!=null))switch(j){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ct(s,a,j,c,l,null)}return;case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":Ge("load",s);break;case"video":case"audio":for(c=0;c<Mh.length;c++)Ge(Mh[c],s);break;case"image":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"embed":case"source":case"link":Ge("error",s),Ge("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(c=l[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,W,c,l,null)}return;default:if(Zc(a)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&Cv(s,a,ce,c,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(c=l[k],c!=null&&ct(s,a,k,c,l,null))}function k2(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,A=null,k=null,j=null,W=null,ce=null;for(le in l){var fe=l[le];if(l.hasOwnProperty(le)&&fe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":j=fe;default:c.hasOwnProperty(le)||ct(s,a,le,null,c,fe)}}for(var Z in c){var le=c[Z];if(fe=l[Z],c.hasOwnProperty(Z)&&(le!=null||fe!=null))switch(Z){case"type":y=le;break;case"name":m=le;break;case"checked":W=le;break;case"defaultChecked":ce=le;break;case"value":A=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,a));break;default:le!==fe&&ct(s,a,Z,le,c,fe)}}oa(s,A,k,j,W,ce,y,m);return;case"select":le=A=k=Z=null;for(y in l)if(j=l[y],l.hasOwnProperty(y)&&j!=null)switch(y){case"value":break;case"multiple":le=j;default:c.hasOwnProperty(y)||ct(s,a,y,null,c,j)}for(m in c)if(y=c[m],j=l[m],c.hasOwnProperty(m)&&(y!=null||j!=null))switch(m){case"value":Z=y;break;case"defaultValue":k=y;break;case"multiple":A=y;default:y!==j&&ct(s,a,m,y,c,j)}a=k,l=A,c=le,Z!=null?Ze(s,!!l,Z,!1):!!c!=!!l&&(a!=null?Ze(s,!!l,a,!0):Ze(s,!!l,l?[]:"",!1));return;case"textarea":le=Z=null;for(k in l)if(m=l[k],l.hasOwnProperty(k)&&m!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ct(s,a,k,null,c,m)}for(A in c)if(m=c[A],y=l[A],c.hasOwnProperty(A)&&(m!=null||y!=null))switch(A){case"value":Z=m;break;case"defaultValue":le=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&ct(s,a,A,m,c,y)}To(s,Z,le);return;case"option":for(var Ie in l)if(Z=l[Ie],l.hasOwnProperty(Ie)&&Z!=null&&!c.hasOwnProperty(Ie))switch(Ie){case"selected":s.selected=!1;break;default:ct(s,a,Ie,null,c,Z)}for(j in c)if(Z=c[j],le=l[j],c.hasOwnProperty(j)&&Z!==le&&(Z!=null||le!=null))switch(j){case"selected":s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ct(s,a,j,Z,c,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)Z=l[Ne],l.hasOwnProperty(Ne)&&Z!=null&&!c.hasOwnProperty(Ne)&&ct(s,a,Ne,null,c,Z);for(W in c)if(Z=c[W],le=l[W],c.hasOwnProperty(W)&&Z!==le&&(Z!=null||le!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,a));break;default:ct(s,a,W,Z,c,le)}return;default:if(Zc(a)){for(var Ft in l)Z=l[Ft],l.hasOwnProperty(Ft)&&Z!==void 0&&!c.hasOwnProperty(Ft)&&Cv(s,a,Ft,void 0,c,Z);for(ce in c)Z=c[ce],le=l[ce],!c.hasOwnProperty(ce)||Z===le||Z===void 0&&le===void 0||Cv(s,a,ce,Z,c,le);return}}for(var Q in l)Z=l[Q],l.hasOwnProperty(Q)&&Z!=null&&!c.hasOwnProperty(Q)&&ct(s,a,Q,null,c,Z);for(fe in c)Z=c[fe],le=l[fe],!c.hasOwnProperty(fe)||Z===le||Z==null&&le==null||ct(s,a,fe,Z,c,le)}var Pv=null,xv=null;function em(s){return s.nodeType===9?s:s.ownerDocument}function AA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IA(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Ov(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Dv=null;function N2(){var s=window.event;return s&&s.type==="popstate"?s===Dv?!1:(Dv=s,!0):(Dv=null,!1)}var RA=typeof setTimeout=="function"?setTimeout:void 0,V2=typeof clearTimeout=="function"?clearTimeout:void 0,CA=typeof Promise=="function"?Promise:void 0,M2=typeof queueMicrotask=="function"?queueMicrotask:typeof CA<"u"?function(s){return CA.resolve(null).then(s).catch(L2)}:RA;function L2(s){setTimeout(function(){throw s})}function kv(s,a){var l=a,c=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(c===0){s.removeChild(m),$h(a);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=m}while(l);$h(a)}function Nv(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Nv(l),Eo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function U2(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[na])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ai(s.nextSibling),s===null)break}return null}function B2(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ai(s.nextSibling),s===null))return null;return s}function ai(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}function PA(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function xA(s,a,l){switch(a=em(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}var Kr=new Map,OA=new Set;function tm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Ss=ye.d;ye.d={f:F2,r:j2,D:z2,C:q2,L:H2,m:$2,X:K2,S:G2,M:W2};function F2(){var s=Ss.f(),a=Kp();return s||a}function j2(s){var a=ns(s);a!==null&&a.tag===5&&a.type==="form"?iS(a):Ss.r(s)}var _u=typeof document>"u"?null:document;function DA(s,a,l){var c=_u;if(c&&typeof a=="string"&&a){var m=Lt(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),OA.has(m)||(OA.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),On(a,"link",s),Pt(a),c.head.appendChild(a)))}}function z2(s){Ss.D(s),DA("dns-prefetch",s,null)}function q2(s,a){Ss.C(s,a),DA("preconnect",s,a)}function H2(s,a,l){Ss.L(s,a,l);var c=_u;if(c&&s&&a){var m='link[rel="preload"][as="'+Lt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Lt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Lt(l.imageSizes)+'"]')):m+='[href="'+Lt(s)+'"]';var y=m;switch(a){case"style":y=vu(s);break;case"script":y=Eu(s)}Kr.has(y)||(s=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Kr.set(y,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(Uh(y))||a==="script"&&c.querySelector(Bh(y))||(a=c.createElement("link"),On(a,"link",s),Pt(a),c.head.appendChild(a)))}}function $2(s,a){Ss.m(s,a);var l=_u;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Lt(c)+'"][href="'+Lt(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Eu(s)}if(!Kr.has(y)&&(s=b({rel:"modulepreload",href:s},a),Kr.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Bh(y)))return}c=l.createElement("link"),On(c,"link",s),Pt(c),l.head.appendChild(c)}}}function G2(s,a,l){Ss.S(s,a,l);var c=_u;if(c&&s){var m=ia(c).hoistableStyles,y=vu(s);a=a||"default";var A=m.get(y);if(!A){var k={loading:0,preload:null};if(A=c.querySelector(Uh(y)))k.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Kr.get(y))&&Vv(s,l);var j=A=c.createElement("link");Pt(j),On(j,"link",s),j._p=new Promise(function(W,ce){j.onload=W,j.onerror=ce}),j.addEventListener("load",function(){k.loading|=1}),j.addEventListener("error",function(){k.loading|=2}),k.loading|=4,nm(A,a,c)}A={type:"stylesheet",instance:A,count:1,state:k},m.set(y,A)}}}function K2(s,a){Ss.X(s,a);var l=_u;if(l&&s){var c=ia(l).hoistableScripts,m=Eu(s),y=c.get(m);y||(y=l.querySelector(Bh(m)),y||(s=b({src:s,async:!0},a),(a=Kr.get(m))&&Mv(s,a),y=l.createElement("script"),Pt(y),On(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function W2(s,a){Ss.M(s,a);var l=_u;if(l&&s){var c=ia(l).hoistableScripts,m=Eu(s),y=c.get(m);y||(y=l.querySelector(Bh(m)),y||(s=b({src:s,async:!0,type:"module"},a),(a=Kr.get(m))&&Mv(s,a),y=l.createElement("script"),Pt(y),On(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function kA(s,a,l,c){var m=(m=at.current)?tm(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=vu(l.href),l=ia(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=vu(l.href);var y=ia(m).hoistableStyles,A=y.get(s);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,A),(y=m.querySelector(Uh(s)))&&!y._p&&(A.instance=y,A.state.loading=5),Kr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Kr.set(s,l),y||Q2(m,s,l,A.state))),a&&c===null)throw Error(r(528,""));return A}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Eu(l),l=ia(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function vu(s){return'href="'+Lt(s)+'"'}function Uh(s){return'link[rel="stylesheet"]['+s+"]"}function NA(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function Q2(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),On(a,"link",l),Pt(a),s.head.appendChild(a))}function Eu(s){return'[src="'+Lt(s)+'"]'}function Bh(s){return"script[async]"+s}function VA(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+Lt(l.href)+'"]');if(c)return a.instance=c,Pt(c),c;var m=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Pt(c),On(c,"style",m),nm(c,l.precedence,s),a.instance=c;case"stylesheet":m=vu(l.href);var y=s.querySelector(Uh(m));if(y)return a.state.loading|=4,a.instance=y,Pt(y),y;c=NA(l),(m=Kr.get(m))&&Vv(c,m),y=(s.ownerDocument||s).createElement("link"),Pt(y);var A=y;return A._p=new Promise(function(k,j){A.onload=k,A.onerror=j}),On(y,"link",c),a.state.loading|=4,nm(y,l.precedence,s),a.instance=y;case"script":return y=Eu(l.src),(m=s.querySelector(Bh(y)))?(a.instance=m,Pt(m),m):(c=l,(m=Kr.get(y))&&(c=b({},l),Mv(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Pt(m),On(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,nm(c,l.precedence,s));return a.instance}function nm(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,A=0;A<c.length;A++){var k=c[A];if(k.dataset.precedence===a)y=k;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Vv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Mv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var rm=null;function MA(s,a,l){if(rm===null){var c=new Map,m=rm=new Map;m.set(l,c)}else m=rm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[na]||y[_n]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(a)||"";A=s+A;var k=c.get(A);k?k.push(y):c.set(A,[y])}}return c}function LA(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function Y2(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function UA(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Fh=null;function X2(){}function J2(s,a,l){if(Fh===null)throw Error(r(475));var c=Fh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=vu(l.href),y=s.querySelector(Uh(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=im.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=y,Pt(y);return}y=s.ownerDocument||s,l=NA(l),(m=Kr.get(m))&&Vv(l,m),y=y.createElement("link"),Pt(y);var A=y;A._p=new Promise(function(k,j){A.onload=k,A.onerror=j}),On(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=im.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function Z2(){if(Fh===null)throw Error(r(475));var s=Fh;return s.stylesheets&&s.count===0&&Lv(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Lv(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function im(){if(this.count--,this.count===0){if(this.stylesheets)Lv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var sm=null;function Lv(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,sm=new Map,a.forEach(eV,s),sm=null,im.call(s))}function eV(s,a){if(!(a.state.loading&4)){var l=sm.get(s);if(l)var c=l.get(null);else{l=new Map,sm.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var A=m[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),c=A)}c&&l.set(null,c)}m=a.instance,A=m.getAttribute("data-precedence"),y=l.get(A)||c,y===c&&l.set(null,m),l.set(A,m),this.count++,c=im.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var jh={$$typeof:T,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function tV(s,a,l,c,m,y,A,k){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.hiddenUpdates=Vl(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function BA(s,a,l,c,m,y,A,k,j,W,ce,fe){return s=new tV(s,a,l,A,k,j,W,fe),a=1,y===!0&&(a|=24),y=$r(3,null,null,a),s.current=y,y.stateNode=s,a=m_(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},Q_(y),s}function FA(s){return s?(s=Jl,s):Jl}function jA(s,a,l,c,m,y){m=FA(m),c.context===null?c.context=m:c.pendingContext=m,c=ya(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=_a(s,c,a),l!==null&&(Xn(l,s,a),Sh(l,s,a))}function zA(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Uv(s,a){zA(s,a),(s=s.alternate)&&zA(s,a)}function qA(s){if(s.tag===13){var a=ca(s,67108864);a!==null&&Xn(a,s,67108864),Uv(s,67108864)}}var am=!0;function nV(s,a,l,c){var m=R.T;R.T=null;var y=ye.p;try{ye.p=2,Bv(s,a,l,c)}finally{ye.p=y,R.T=m}}function rV(s,a,l,c){var m=R.T;R.T=null;var y=ye.p;try{ye.p=8,Bv(s,a,l,c)}finally{ye.p=y,R.T=m}}function Bv(s,a,l,c){if(am){var m=Fv(c);if(m===null)Rv(s,a,c,om,l),$A(s,c);else if(sV(m,s,a,l,c))c.stopPropagation();else if($A(s,c),a&4&&-1<iV.indexOf(s)){for(;m!==null;){var y=ns(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=ti(y.pendingLanes);if(A!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;A;){var j=1<<31-Kn(A);k.entanglements[1]|=j,A&=~j}Ci(y),(Ot&6)===0&&(Hp=ir()+500,Vh(0))}}break;case 13:k=ca(y,2),k!==null&&Xn(k,y,2),Kp(),Uv(y,2)}if(y=Fv(c),y===null&&Rv(s,a,c,om,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else Rv(s,a,c,null,l)}}function Fv(s){return s=Fl(s),jv(s)}var om=null;function jv(s){if(om=null,s=ni(s),s!==null){var a=ue(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=Te(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return om=s,null}function HA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gf()){case un:return 2;case yn:return 8;case es:case Kf:return 32;case qc:return 268435456;default:return 32}default:return 32}}var zv=!1,Aa=null,Ia=null,Ra=null,zh=new Map,qh=new Map,Ca=[],iV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $A(s,a){switch(s){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":zh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":qh.delete(a.pointerId)}}function Hh(s,a,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=ns(a),a!==null&&qA(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function sV(s,a,l,c,m){switch(a){case"focusin":return Aa=Hh(Aa,s,a,l,c,m),!0;case"dragenter":return Ia=Hh(Ia,s,a,l,c,m),!0;case"mouseover":return Ra=Hh(Ra,s,a,l,c,m),!0;case"pointerover":var y=m.pointerId;return zh.set(y,Hh(zh.get(y)||null,s,a,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,qh.set(y,Hh(qh.get(y)||null,s,a,l,c,m)),!0}return!1}function GA(s){var a=ni(s.target);if(a!==null){var l=ue(a);if(l!==null){if(a=l.tag,a===13){if(a=Te(l),a!==null){s.blockedOn=a,ta(s.priority,function(){if(l.tag===13){var c=Er(),m=ca(l,c);m!==null&&Xn(m,l,c),Uv(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function lm(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Fv(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Vr=c,l.target.dispatchEvent(c),Vr=null}else return a=ns(l),a!==null&&qA(a),s.blockedOn=l,!1;a.shift()}return!0}function KA(s,a,l){lm(s)&&l.delete(a)}function aV(){zv=!1,Aa!==null&&lm(Aa)&&(Aa=null),Ia!==null&&lm(Ia)&&(Ia=null),Ra!==null&&lm(Ra)&&(Ra=null),zh.forEach(KA),qh.forEach(KA)}function um(s,a){s.blockedOn===a&&(s.blockedOn=null,zv||(zv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aV)))}var cm=null;function WA(s){cm!==s&&(cm=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){cm===s&&(cm=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if(jv(c||l)===null)continue;break}var y=ns(l);y!==null&&(s.splice(a,3),a-=3,O_(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function $h(s){function a(j){return um(j,s)}Aa!==null&&um(Aa,s),Ia!==null&&um(Ia,s),Ra!==null&&um(Ra,s),zh.forEach(a),qh.forEach(a);for(var l=0;l<Ca.length;l++){var c=Ca[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Ca.length&&(l=Ca[0],l.blockedOn===null);)GA(l),l.blockedOn===null&&Ca.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],A=m[cn]||null;if(typeof y=="function")A||WA(l);else if(A){var k=null;if(y&&y.hasAttribute("formAction")){if(m=y,A=y[cn]||null)k=A.formAction;else if(jv(m)!==null)continue}else k=A.action;typeof k=="function"?l[c+1]=k:(l.splice(c,3),c-=3),WA(l)}}}function qv(s){this._internalRoot=s}hm.prototype.render=qv.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=Er();jA(l,c,s,a,null,null)},hm.prototype.unmount=qv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;s.tag===0&&mu(),jA(s.current,2,null,s,null,null),Kp(),a[ts]=null}};function hm(s){this._internalRoot=s}hm.prototype.unstable_scheduleHydration=function(s){if(s){var a=Jf();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Ca.length&&a!==0&&a<Ca[l].priority;l++);Ca.splice(l,0,s),l===0&&GA(s)}};var QA=e.version;if(QA!=="19.0.0")throw Error(r(527,QA,"19.0.0"));ye.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=ae(a),s=s!==null?be(s):null,s=s===null?null:s.stateNode,s};var oV={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:ni,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dm.isDisabled&&dm.supportsFiber)try{Qs=dm.inject(oV),Un=dm}catch{}}return Kh.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,c="",m=dS,y=fS,A=pS,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks)),a=BA(s,1,!1,null,null,l,c,m,y,A,k,null),s[ts]=a.current,Iv(s.nodeType===8?s.parentNode:s),new qv(a)},Kh.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var c=!1,m="",y=dS,A=fS,k=pS,j=null,W=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(j=l.unstable_transitionCallbacks),l.formState!==void 0&&(W=l.formState)),a=BA(s,1,!0,a,l??null,c,m,y,A,k,j,W),a.context=FA(null),l=a.current,c=Er(),m=ya(c),m.callback=null,_a(l,m,c),a.current.lanes=c,Gt(a,c),Ci(a),s[ts]=a.current,Iv(s),new hm(a)},Kh.version="19.0.0",Kh}var sI;function _V(){if(sI)return Gv.exports;sI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gv.exports=yV(),Gv.exports}var vV=_V();const zs=K.createContext();function V0({children:n,reducer:e,initialState:t}){const[r,i]=K.useReducer(e,t);return z.jsx(zs.Provider,{value:[r,i],children:n})}const Wu={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"},EV=()=>{};var aI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},bV=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],h=n[t++],d=((i&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},BC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,h=u?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let v=(h&15)<<2|f>>6,T=f&63;d||(T=64,u||(v=64)),r.push(t[g],t[_],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(UC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):bV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||f==null||_==null)throw new wV;const v=o<<2|h>>4;if(r.push(v),f!==64){const T=h<<4&240|f>>2;if(r.push(T),_!==64){const w=f<<6&192|_;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TV=function(n){const e=UC(n);return BC.encodeByteArray(e,!0)},eg=function(n){return TV(n).replace(/\./g,"")},zE=function(n){try{return BC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!SV(t)||(n[t]=tg(n[t],e[t]));return n}function SV(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=()=>FC().__FIREBASE_DEFAULTS__,IV=()=>{if(typeof process>"u"||typeof aI>"u")return;const n=aI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&zE(n[1]);return e&&JSON.parse(e)},Lg=()=>{try{return EV()||AV()||IV()||RV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},CV=n=>{var e,t;return(t=(e=Lg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jC=()=>{var n;return(n=Lg())===null||n===void 0?void 0:n.config},zC=n=>{var e;return(e=Lg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[eg(JSON.stringify(t)),eg(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function qE(){var n;const e=(n=Lg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DV(){return typeof window<"u"||qC()}function qC(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function kV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function HE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $C(){const n=Vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function GC(){return!qE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fd(){try{return typeof indexedDB=="object"}catch{return!1}}function NV(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="FirebaseError";class er extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=VV,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?MV(o,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new er(i,h,r)}}function MV(n,e){return n.replace(LV,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function UV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(lI(o)&&lI(u)){if(!Vs(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function lI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function _d(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function KC(n,e){const t=new BV(n,e);return t.subscribe.bind(t)}class BV{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");FV(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Yv),i.error===void 0&&(i.error=Yv),i.complete===void 0&&(i.complete=Yv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FV(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n){return n&&n._delegate?n._delegate:n}class Gi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new PV;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qV(e))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xo){return this.instances.has(e)}getOptions(e=Xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xo){return this.component?this.component.multipleInstances?e:Xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zV(n){return n===Xo?void 0:n}function qV(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jV(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=[];var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const QC={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},HV=je.INFO,$V={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},GV=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=$V[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ug{constructor(e){this.name=e,this._logLevel=HV,this._logHandler=GV,this._userLogHandler=null,$E.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}function KV(n){$E.forEach(e=>{e.setLogLevel(n)})}function WV(n,e){for(const t of $E){let r=null;e&&e.level&&(r=QC[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...u)=>{const h=u.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??i.logLevel)&&n({level:je[o].toLowerCase(),message:h,args:u,type:i.name})}}}const QV=(n,e)=>e.some(t=>n instanceof t);let uI,cI;function YV(){return uI||(uI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XV(){return cI||(cI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YC=new WeakMap,M0=new WeakMap,XC=new WeakMap,Xv=new WeakMap,GE=new WeakMap;function JV(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Fa(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&YC.set(t,n)}).catch(()=>{}),GE.set(e,n),e}function ZV(n){if(M0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});M0.set(n,e)}let L0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return M0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||XC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function eM(n){L0=n(L0)}function tM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Jv(this),e,...t);return XC.set(r,e.sort?e.sort():[e]),Fa(r)}:XV().includes(n)?function(...e){return n.apply(Jv(this),e),Fa(YC.get(this))}:function(...e){return Fa(n.apply(Jv(this),e))}}function nM(n){return typeof n=="function"?tM(n):(n instanceof IDBTransaction&&ZV(n),QV(n,YV())?new Proxy(n,L0):n)}function Fa(n){if(n instanceof IDBRequest)return JV(n);if(Xv.has(n))return Xv.get(n);const e=nM(n);return e!==n&&(Xv.set(n,e),GE.set(e,n)),e}const Jv=n=>GE.get(n);function rM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),h=Fa(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Fa(u.result),d.oldVersion,d.newVersion,Fa(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const iM=["get","getKey","getAll","getAllKeys","count"],sM=["put","add","delete","clear"],Zv=new Map;function hI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Zv.get(e))return Zv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=sM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iM.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),i&&d.done]))[0]};return Zv.set(e,o),o}eM(n=>({...n,get:(e,t,r)=>hI(e,t)||n.get(e,t,r),has:(e,t)=>!!hI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function oM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ng="@firebase/app",U0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Ug("@firebase/app"),lM="@firebase/app-compat",uM="@firebase/analytics-compat",cM="@firebase/analytics",hM="@firebase/app-check-compat",dM="@firebase/app-check",fM="@firebase/auth",pM="@firebase/auth-compat",mM="@firebase/database",gM="@firebase/data-connect",yM="@firebase/database-compat",_M="@firebase/functions",vM="@firebase/functions-compat",EM="@firebase/installations",bM="@firebase/installations-compat",wM="@firebase/messaging",TM="@firebase/messaging-compat",SM="@firebase/performance",AM="@firebase/performance-compat",IM="@firebase/remote-config",RM="@firebase/remote-config-compat",CM="@firebase/storage",PM="@firebase/storage-compat",xM="@firebase/firestore",OM="@firebase/vertexai",DM="@firebase/firestore-compat",kM="firebase",NM="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="[DEFAULT]",VM={[ng]:"fire-core",[lM]:"fire-core-compat",[cM]:"fire-analytics",[uM]:"fire-analytics-compat",[dM]:"fire-app-check",[hM]:"fire-app-check-compat",[fM]:"fire-auth",[pM]:"fire-auth-compat",[mM]:"fire-rtdb",[gM]:"fire-data-connect",[yM]:"fire-rtdb-compat",[_M]:"fire-fn",[vM]:"fire-fn-compat",[EM]:"fire-iid",[bM]:"fire-iid-compat",[wM]:"fire-fcm",[TM]:"fire-fcm-compat",[SM]:"fire-perf",[AM]:"fire-perf-compat",[IM]:"fire-rc",[RM]:"fire-rc-compat",[CM]:"fire-gcs",[PM]:"fire-gcs-compat",[xM]:"fire-fst",[DM]:"fire-fst-compat",[OM]:"fire-vertex","fire-js":"fire-js",[kM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new Map,Qu=new Map,Yu=new Map;function jd(n,e){try{n.container.addComponent(e)}catch(t){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function JC(n,e){n.container.addOrOverwriteComponent(e)}function Ka(n){const e=n.name;if(Yu.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;Yu.set(e,n);for(const t of Ga.values())jd(t,n);for(const t of Qu.values())jd(t,n);return!0}function Bg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function MM(n,e,t=$a){Bg(n,e).clearInstance(t)}function ZC(n){return n.options!==void 0}function Tt(n){return n==null?!1:n.settings!==void 0}function LM(){Yu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new Rl("app","Firebase",UM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eP=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(n,e){const t=zE(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class BM extends eP{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,i);else{const h=e;super(h.options,u,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&dI(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&dI(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ci(ng,U0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){WE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Xr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=NM;function KE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$a,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xr.create("bad-app-name",{appName:String(i)});if(t||(t=jC()),!t)throw Xr.create("no-options");const o=Ga.get(i);if(o){if(Vs(t,o.options)&&Vs(r,o.config))return o;throw Xr.create("duplicate-app",{appName:i})}const u=new WC(i);for(const d of Yu.values())u.addComponent(d);const h=new eP(t,r,u);return Ga.set(i,h),h}function FM(n,e){if(DV()&&!qC())throw Xr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;ZC(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=f=>[...f].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Xr.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),u=Qu.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new WC(o);for(const f of Yu.values())h.addComponent(f);const d=new BM(t,e,o,h);return Qu.set(o,d),d}function tP(n=$a){const e=Ga.get(n);if(!e&&n===$a&&jC())return KE();if(!e)throw Xr.create("no-app",{appName:n});return e}function jM(){return Array.from(Ga.values())}async function WE(n){let e=!1;const t=n.name;Ga.has(t)?(e=!0,Ga.delete(t)):Qu.has(t)&&n.decRefCount()<=0&&(Qu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function ci(n,e,t){var r;let i=(r=VM[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(h.join(" "));return}Ka(new Gi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function nP(n,e){if(n!==null&&typeof n!="function")throw Xr.create("invalid-log-argument");WV(n,e)}function rP(n){KV(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="firebase-heartbeat-database",qM=1,zd="firebase-heartbeat-store";let e0=null;function iP(){return e0||(e0=rM(zM,qM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xr.create("idb-open",{originalErrorMessage:n.message})})),e0}async function HM(n){try{const t=(await iP()).transaction(zd),r=await t.objectStore(zd).get(sP(n));return await t.done,r}catch(e){if(e instanceof er)Ms.warn(e.message);else{const t=Xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ms.warn(t.message)}}}async function fI(n,e){try{const r=(await iP()).transaction(zd,"readwrite");await r.objectStore(zd).put(e,sP(n)),await r.done}catch(t){if(t instanceof er)Ms.warn(t.message);else{const r=Xr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ms.warn(r.message)}}}function sP(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=1024,GM=30;class KM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>GM){const u=YM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ms.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pI(),{heartbeatsToSend:r,unsentEntries:i}=WM(this._heartbeatsCache.heartbeats),o=eg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ms.warn(t),""}}}function pI(){return new Date().toISOString().substring(0,10)}function WM(n,e=$M){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),mI(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),mI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class QM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fd()?NV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await HM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return fI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return fI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mI(n){return eg(JSON.stringify({version:2,heartbeats:n})).length}function YM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(n){Ka(new Gi("platform-logger",e=>new aM(e),"PRIVATE")),Ka(new Gi("heartbeat",e=>new KM(e),"PRIVATE")),ci(ng,U0,n),ci(ng,U0,"esm2017"),ci("fire-js","")}XM("");const JM=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:er,SDK_VERSION:lo,_DEFAULT_ENTRY_NAME:$a,_addComponent:jd,_addOrOverwriteComponent:JC,_apps:Ga,_clearComponents:LM,_components:Yu,_getProvider:Bg,_isFirebaseApp:ZC,_isFirebaseServerApp:Tt,_registerComponent:Ka,_removeServiceInstance:MM,_serverApps:Qu,deleteApp:WE,getApp:tP,getApps:jM,initializeApp:KE,initializeServerApp:FM,onLog:nP,registerVersion:ci,setLogLevel:rP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,t){this._delegate=e,this.firebase=t,jd(e,new Gi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),WE(this._delegate)))}_getService(e,t=$a){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=$a){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){jd(this._delegate,e)}_addOrOverwriteComponent(e){JC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},gI=new Rl("app-compat","Firebase",eL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:ci,setLogLevel:rP,onLog:nP,apps:null,SDK_VERSION:lo,INTERNAL:{registerComponent:h,removeApp:r,useAsService:d,modularAPIs:JM}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(f){delete e[f]}function i(f){if(f=f||$a,!oI(e,f))throw gI.create("no-app",{appName:f});return e[f]}i.App=n;function o(f,g={}){const _=KE(f,g);if(oI(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(f=>e[f])}function h(f){const g=f.name,_=g.replace("-compat","");if(Ka(f)&&f.type==="PUBLIC"){const v=(T=i())=>{if(typeof T[_]!="function")throw gI.create("invalid-app-argument",{appName:g});return T[_]()};f.serviceProps!==void 0&&tg(v,f.serviceProps),t[_]=v,n.prototype[_]=function(...T){return this._getService.bind(this,g).apply(this,f.multipleInstances?T:[])}}return f.type==="PUBLIC"?t[_]:null}function d(f,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(){const n=tL(ZM);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:aP,extendNamespace:e,createSubscribe:KC,ErrorFactory:Rl,deepExtend:tg});function e(t){tg(n,t)}return n}const nL=aP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=new Ug("@firebase/app-compat"),rL="@firebase/app-compat",iL="0.2.51";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(n){ci(rL,iL,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=FC();if(n.firebase!==void 0){yI.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&yI.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const uo=nL;sL();var aL="firebase",oL="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uo.registerVersion(aL,oL,"app-compat");function QE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const Wh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},bu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function oP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uL=lL,cL=oP,lP=new Rl("auth","Firebase",oP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=new Ug("@firebase/auth");function hL(n,...e){rg.logLevel<=je.WARN&&rg.warn(`Auth (${lo}): ${n}`,...e)}function Pm(n,...e){rg.logLevel<=je.ERROR&&rg.error(`Auth (${lo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n,...e){throw XE(n,...e)}function mn(n,...e){return XE(n,...e)}function YE(n,e,t){const r=Object.assign(Object.assign({},cL()),{[e]:t});return new Rl("auth","Firebase",r).create(e,{appName:n.name})}function In(n){return YE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rn(n,"argument-error"),YE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function XE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return lP.create(n,...e)}function me(n,e,...t){if(!n)throw XE(e,...t)}function Bi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pm(e),new Error(e)}function hi(n,e){n||Bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function JE(){return _I()==="http:"||_I()==="https:"}function _I(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JE()||HC()||"connection"in navigator)?navigator.onLine:!0}function fL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){this.shortDelay=e,this.longDelay=t,hi(t>e,"Short delay should be less than long delay!"),this.isMobile=OV()||HE()}get(){return dL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(n,e){hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=new gf(3e4,6e4);function Ht(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $t(n,e,t,r,i={}){return cP(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=wc(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},o);return kV()||(f.referrerPolicy="no-referrer"),uP.fetch()(hP(n,n.config.apiHost,t,h),f)})}async function cP(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},pL),e);try{const i=new yL(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw vd(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,f]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw vd(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw vd(n,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw YE(n,g,f);Rn(n,g)}}catch(i){if(i instanceof er)throw i;Rn(n,"network-request-failed",{message:String(i)})}}async function qs(n,e,t,r,i={}){const o=await $t(n,e,t,r,i);return"mfaPendingCredential"in o&&Rn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function hP(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?ZE(n.config,i):`${n.config.apiScheme}://${i}`}function gL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(mn(this.auth,"network-request-failed")),mL.get())})}}function vd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=mn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(n){return n!==void 0&&n.getResponse!==void 0}function EI(n){return n!==void 0&&n.enterprise!==void 0}class dP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(n){return(await $t(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function fP(n,e){return $t(n,"GET","/v2/recaptchaConfig",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(n,e){return $t(n,"POST","/v1/accounts:delete",e)}async function EL(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function pP(n,e){return $t(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bL(n,e=!1){const t=Pe(n),r=await t.getIdToken(e),i=Fg(r);me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Id(t0(i.auth_time)),issuedAtTime:Id(t0(i.iat)),expirationTime:Id(t0(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function t0(n){return Number(n)*1e3}function Fg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pm("JWT malformed, contained fewer than 3 sections"),null;try{const i=zE(t);return i?JSON.parse(i):(Pm("Failed to decode base64 JWT payload"),null)}catch(i){return Pm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function bI(n){const e=Fg(n);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof er&&wL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function wL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Id(this.lastLoginAt),this.creationTime=Id(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ls(n,pP(t,{idToken:r}));me(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?mP(o.providerUserInfo):[],h=AL(n.providerData,u),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new B0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function SL(n){const e=Pe(n);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mP(n){return n.map(e=>{var{providerId:t}=e,r=QE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(n,e){const t=await cP(n,{},async()=>{const r=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=hP(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",uP.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function RL(n,e){return $t(n,"POST","/v2/accounts:revokeToken",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");const t=bI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await IL(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new Fu;return r&&(me(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fu,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(n,e){me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ps{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=QE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new B0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ls(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return bL(this,e)}reload(){return SL(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tt(this.auth.app))return Promise.reject(In(this.auth));const e=await this.getIdToken();return await Ls(this,vL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,h,d,f,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(u=t.photoURL)!==null&&u!==void 0?u:void 0,I=(h=t.tenantId)!==null&&h!==void 0?h:void 0,P=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,U=(f=t.createdAt)!==null&&f!==void 0?f:void 0,M=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:L,emailVerified:$,isAnonymous:F,providerData:H,stsTokenManager:V}=t;me(L&&V,e,"internal-error");const C=Fu.fromJSON(this.name,V);me(typeof L=="string",e,"internal-error"),xa(_,e.name),xa(v,e.name),me(typeof $=="boolean",e,"internal-error"),me(typeof F=="boolean",e,"internal-error"),xa(T,e.name),xa(w,e.name),xa(I,e.name),xa(P,e.name),xa(U,e.name),xa(M,e.name);const R=new Ps({uid:L,auth:e,email:v,emailVerified:$,displayName:_,isAnonymous:F,photoURL:w,phoneNumber:T,tenantId:I,stsTokenManager:C,createdAt:U,lastLoginAt:M});return H&&Array.isArray(H)&&(R.providerData=H.map(b=>Object.assign({},b))),P&&(R._redirectEventId=P),R}static async _fromIdTokenResponse(e,t,r=!1){const i=new Fu;i.updateFromServerResponse(t);const o=new Ps({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?mP(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new Fu;h.updateFromIdToken(r);const d=new Ps({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new B0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new Map;function Ir(n){hi(n instanceof Function,"Expected a class definition");let e=wI.get(n);return e?(hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,wI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gP.type="NONE";const Xu=gP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(n,e,t){return`firebase:${n}:${e}:${t}`}class ju{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=cl(this.userKey,i.apiKey,o),this.fullPersistenceKey=cl("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ju(Ir(Xu),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Ir(Xu);const u=cl(r,e.config.apiKey,e.name);let h=null;for(const f of t)try{const g=await f._get(u);if(g){const _=Ps._fromJSON(e,g);f!==o&&(h=_),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new ju(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(u)}catch{}})),new ju(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bP(e))return"Blackberry";if(wP(e))return"Webos";if(_P(e))return"Safari";if((e.includes("chrome/")||vP(e))&&!e.includes("edge/"))return"Chrome";if(yf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yP(n=Vt()){return/firefox\//i.test(n)}function _P(n=Vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vP(n=Vt()){return/crios\//i.test(n)}function EP(n=Vt()){return/iemobile/i.test(n)}function yf(n=Vt()){return/android/i.test(n)}function bP(n=Vt()){return/blackberry/i.test(n)}function wP(n=Vt()){return/webos/i.test(n)}function _f(n=Vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CL(n=Vt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function PL(n=Vt()){var e;return _f(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xL(){return $C()&&document.documentMode===10}function TP(n=Vt()){return _f(n)||yf(n)||wP(n)||bP(n)||/windows phone/i.test(n)||EP(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(n,e=[]){let t;switch(n){case"Browser":t=TI(Vt());break;case"Worker":t=`${TI(Vt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${lo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(n,e={}){return $t(n,"GET","/v2/passwordPolicy",Ht(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=6;class NL{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:kL,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SI(this),this.idTokenSubscription=new SI(this),this.beforeStateQueue=new OL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ir(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ju.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await pP(this,{idToken:e}),r=await Ps._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tt(this.app))return Promise.reject(In(this));const t=e?Pe(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tt(this.app)?Promise.reject(In(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tt(this.app)?Promise.reject(In(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DL(this),t=new NL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await RL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ir(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await ju.create(this,[Ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Tt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&hL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Mt(n){return Pe(n)}class SI{constructor(e){this.auth=e,this.observer=null,this.addObserver=KC(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ML(n){vf=n}function eb(n){return vf.loadJS(n)}function LL(){return vf.recaptchaV2Script}function UL(){return vf.recaptchaEnterpriseScript}function BL(){return vf.gapiScript}function AP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=500,jL=6e4,fm=1e12;class zL{constructor(e){this.auth=e,this.counter=fm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new $L(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||fm;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||fm;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||fm;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class qL{constructor(){this.enterprise=new HL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class HL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class $L{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;me(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=GL(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},jL)},FL))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function GL(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const KL="recaptcha-enterprise",Rd="NO_RECAPTCHA";class IP{constructor(e){this.type=KL,this.auth=Mt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{fP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new dP(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,u(f.siteKey)}}).catch(d=>{h(d)})})}function i(o,u,h){const d=window.grecaptcha;EI(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{u(f)}).catch(()=>{u(Rd)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qL().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&EI(window.grecaptcha))i(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=UL();d.length!==0&&(d+=h),eb(d).then(()=>{i(h,o,u)}).catch(f=>{u(f)})}}).catch(h=>{u(h)})})}}async function Qh(n,e,t,r=!1,i=!1){const o=new IP(n);let u;if(i)u=Rd;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function ja(n,e,t,r,i){var o,u;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Qh(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Qh(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await Qh(n,e,t);return r(n,h).catch(async d=>{var f;if(((f=n._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await Qh(n,e,t,!1,!0);return r(n,g)}return Promise.reject(d)})}else{const h=await Qh(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(i+" provider is not supported.")}async function WL(n){const e=Mt(n),t=await fP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new dP(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new IP(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(n,e){const t=Bg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Vs(o,e??{}))return i;Rn(i,"already-initialized")}return t.initialize({options:e})}function YL(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ir);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RP(n,e,t){const r=Mt(n);me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=CP(e),{host:u,port:h}=XL(e),d=h===null?"":`:${h}`,f={url:`${o}//${u}${d}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),me(Vs(f,r.config.emulator)&&Vs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,i||JL()}function CP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function XL(n){const e=CP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:AI(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:AI(u)}}}function AI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function JL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,t){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(n,e){return $t(n,"POST","/v1/accounts:resetPassword",Ht(n,e))}async function ZL(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function e4(n,e){return $t(n,"POST","/v1/accounts:signUp",e)}async function t4(n,e){return $t(n,"POST","/v1/accounts:update",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(n,e){return qs(n,"POST","/v1/accounts:signInWithPassword",Ht(n,e))}async function jg(n,e){return $t(n,"POST","/v1/accounts:sendOobCode",Ht(n,e))}async function r4(n,e){return jg(n,e)}async function i4(n,e){return jg(n,e)}async function s4(n,e){return jg(n,e)}async function a4(n,e){return jg(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(n,e){return qs(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))}async function l4(n,e){return qs(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends Sc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new $d(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new $d(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ja(e,t,"signInWithPassword",n4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return o4(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ja(e,r,"signUpPassword",e4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return l4(e,{idToken:t,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ks(n,e){return qs(n,"POST","/v1/accounts:signInWithIdp",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="http://localhost";class Ki extends Sc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=QE(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Ki(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ks(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ks(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ks(e,t)}buildRequest(){const e={requestUri:u4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(n,e){return $t(n,"POST","/v1/accounts:sendVerificationCode",Ht(n,e))}async function c4(n,e){return qs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,e))}async function h4(n,e){const t=await qs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,e));if(t.temporaryProof)throw vd(n,"account-exists-with-different-credential",t);return t}const d4={USER_NOT_FOUND:"user-not-found"};async function f4(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return qs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,t),d4)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends Sc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new hl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new hl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return c4(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return h4(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return f4(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new hl({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m4(n){const e=Bu(_d(n)).link,t=e?Bu(_d(e)).deep_link_id:null,r=Bu(_d(n)).deep_link_id;return(r?Bu(_d(r)).link:null)||r||t||e||n}class zg{constructor(e){var t,r,i,o,u,h;const d=Bu(_d(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,_=p4((i=d.mode)!==null&&i!==void 0?i:null);me(f&&g&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=m4(e);try{return new zg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(e,t){return $d._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=zg.parseLink(t);return me(r,"argument-error"),$d._fromEmailAndCode(e,r.code,r.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends Hs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zu extends Ac{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return me("providerId"in t&&"signInMethod"in t,"argument-error"),Ki._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return me(e.idToken||e.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return zu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return zu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!i&&!t&&!o||!h)return null;try{return new zu(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Ac{constructor(){super("facebook.com")}static credential(e){return Ki._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ki._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Mi.credential(t,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Ac{constructor(){super("github.com")}static credential(e){return Ki._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="http://localhost";class Ju extends Sc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ks(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ks(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ks(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new Ju(r,o)}static _create(e,t){return new Ju(e,t)}buildRequest(){return{requestUri:g4,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="saml.";class ig extends Hs{constructor(e){me(e.startsWith(y4),"argument-error"),super(e)}static credentialFromResult(e){return ig.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ig.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Ju.fromJSON(e);return me(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Ju._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Ac{constructor(){super("twitter.com")}static credential(e,t){return Ki._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ui.credential(t,r)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(n,e){return qs(n,"POST","/v1/accounts:signUp",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Ps._fromIdTokenResponse(e,r,i),u=RI(r);return new Jr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=RI(r);return new Jr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function RI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(n){var e;if(Tt(n.app))return Promise.reject(In(n));const t=Mt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Jr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await xP(t,{returnSecureToken:!0}),i=await Jr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends er{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new sg(e,t,r,i)}}function OP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sg._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4(n,e){const t=Pe(n);await qg(!0,t,e);const{providerUserInfo:r}=await EL(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=DP(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function tb(n,e,t=!1){const r=await Ls(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Jr._forOperation(n,"link",r)}async function qg(n,e,t){await Hd(e);const r=DP(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";me(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(n,e,t=!1){const{auth:r}=n;if(Tt(r.app))return Promise.reject(In(r));const i="reauthenticate";try{const o=await Ls(n,OP(r,i,e,n),t);me(o.idToken,r,"internal-error");const u=Fg(o.idToken);me(u,r,"internal-error");const{sub:h}=u;return me(n.uid===h,r,"user-mismatch"),Jr._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Rn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(n,e,t=!1){if(Tt(n.app))return Promise.reject(In(n));const r="signIn",i=await OP(n,r,e),o=await Jr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function Hg(n,e){return NP(Mt(n),e)}async function VP(n,e){const t=Pe(n);return await qg(!1,t,e.providerId),tb(t,e)}async function MP(n,e){return kP(Pe(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(n,e){return qs(n,"POST","/v1/accounts:signInWithCustomToken",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(n,e){if(Tt(n.app))return Promise.reject(In(n));const t=Mt(n),r=await E4(t,{token:e,returnSecureToken:!0}),i=await Jr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?nb._fromServerResponse(e,t):"totpInfo"in t?rb._fromServerResponse(e,t):Rn(e,"internal-error")}}class nb extends Ef{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new nb(t)}}class rb extends Ef{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new rb(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(n,e,t){var r;me(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),me(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),me(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(me(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(me(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ib(n){const e=Mt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function w4(n,e,t){const r=Mt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&$g(r,i,t),await ja(r,i,"getOobCode",i4,"EMAIL_PASSWORD_PROVIDER")}async function T4(n,e,t){await PP(Pe(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ib(n),r})}async function S4(n,e){await t4(Pe(n),{oobCode:e})}async function LP(n,e){const t=Pe(n),r=await PP(t,{oobCode:e}),i=r.requestType;switch(me(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,t,"internal-error");default:me(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Ef._fromServerResponse(Mt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function A4(n,e){const{data:t}=await LP(Pe(n),e);return t.email}async function UP(n,e,t){if(Tt(n.app))return Promise.reject(In(n));const r=Mt(n),u=await ja(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xP,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&ib(n),d}),h=await Jr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function BP(n,e,t){return Tt(n.app)?Promise.reject(In(n)):Hg(Pe(n),co.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ib(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(n,e,t){const r=Mt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){me(h.handleCodeInApp,r,"argument-error"),h&&$g(r,u,h)}o(i,t),await ja(r,i,"getOobCode",s4,"EMAIL_PASSWORD_PROVIDER")}function R4(n,e){const t=zg.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function C4(n,e,t){if(Tt(n.app))return Promise.reject(In(n));const r=Pe(n),i=co.credentialWithLink(e,t||qd());return me(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Hg(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(n,e){return $t(n,"POST","/v1/accounts:createAuthUri",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(n,e){const t=JE()?qd():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await P4(Pe(n),r);return i||[]}async function O4(n,e){const t=Pe(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&$g(t.auth,i,e);const{email:o}=await r4(t.auth,i);o!==n.email&&await n.reload()}async function D4(n,e,t){const r=Pe(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&$g(r.auth,o,t);const{email:u}=await a4(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(n,e){return $t(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Pe(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Ls(r,k4(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function V4(n,e){const t=Pe(n);return Tt(t.auth.app)?Promise.reject(In(t.auth)):FP(t,e,null)}function M4(n,e){return FP(Pe(n),null,e)}async function FP(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Ls(n,ZL(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=Fg(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new qu(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new U4(o,i);case"github.com":return new B4(o,i);case"google.com":return new F4(o,i);case"twitter.com":return new j4(o,i,n.screenName||null);case"custom":case"anonymous":return new qu(o,null);default:return new qu(o,r,i)}}class qu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class jP extends qu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class U4 extends qu{constructor(e,t){super(e,"facebook.com",t)}}class B4 extends jP{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class F4 extends qu{constructor(e,t){super(e,"google.com",t)}}class j4 extends jP{constructor(e,t,r){super(e,"twitter.com",t,r)}}function z4(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:L4(t)}function q4(n,e,t,r){return Pe(n).onIdTokenChanged(e,t,r)}function H4(n,e,t){return Pe(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new sl("enroll",e,t)}static _fromMfaPendingCredential(e){return new sl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return sl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return sl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Mt(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(h=>Ef._fromServerResponse(r,h));me(i.mfaPendingCredential,r,"internal-error");const u=sl._fromMfaPendingCredential(i.mfaPendingCredential);return new sb(u,o,async h=>{const d=await h._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const f=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const g=await Jr._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return me(t.user,r,"internal-error"),Jr._forOperation(t.user,t.operationType,f);default:Rn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function $4(n,e){var t;const r=Pe(n),i=e;return me(e.customData.operationType,r,"argument-error"),me((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),sb._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:start",Ht(n,e))}function G4(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(n,e))}function K4(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(n,e))}class ab{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Ef._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new ab(e)}async getSession(){return sl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await Ls(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ls(this.user,K4(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const n0=new WeakMap;function W4(n){const e=Pe(n);return n0.has(e)||n0.set(e,ab._fromUser(e)),n0.get(e)}const ag="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ag,"1"),this.storage.removeItem(ag),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=1e3,Y4=10;class qP extends zP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);xL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Y4):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Q4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qP.type="LOCAL";const Gg=qP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP extends zP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HP.type="SESSION";const Wa=HP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Kg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async f=>f(t.origin,o)),d=await X4(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const f=bf("",20);i.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return window}function Z4(n){sn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){return typeof sn().WorkerGlobalScope<"u"&&typeof sn().importScripts=="function"}async function eU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tU(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function nU(){return ob()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="firebaseLocalStorageDb",rU=1,og="firebaseLocalStorage",GP="fbase_key";class wf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wg(n,e){return n.transaction([og],e?"readwrite":"readonly").objectStore(og)}function iU(){const n=indexedDB.deleteDatabase($P);return new wf(n).toPromise()}function F0(){const n=indexedDB.open($P,rU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(og,{keyPath:GP})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(og)?e(r):(r.close(),await iU(),e(await F0()))})})}async function PI(n,e,t){const r=Wg(n,!0).put({[GP]:e,value:t});return new wf(r).toPromise()}async function sU(n,e){const t=Wg(n,!1).get(e),r=await new wf(t).toPromise();return r===void 0?null:r.value}function xI(n,e){const t=Wg(n,!0).delete(e);return new wf(t).toPromise()}const aU=800,oU=3;class KP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await F0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>oU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kg._getInstance(nU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await eU(),!this.activeServiceWorker)return;this.sender=new J4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await F0();return await PI(e,ag,"1"),await xI(e,ag),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>PI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>sU(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Wg(i,!1).getAll();return new wf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KP.type="LOCAL";const Zu=KP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:start",Ht(n,e))}function lU(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:finalize",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=AP("rcb"),uU=new gf(3e4,6e4);class cU{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=sn().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return me(hU(t),e,"argument-error"),this.shouldResolveImmediately(t)&&vI(sn().grecaptcha)?Promise.resolve(sn().grecaptcha):new Promise((r,i)=>{const o=sn().setTimeout(()=>{i(mn(e,"network-request-failed"))},uU.get());sn()[r0]=()=>{sn().clearTimeout(o),delete sn()[r0];const h=sn().grecaptcha;if(!h||!vI(h)){i(mn(e,"internal-error"));return}const d=h.render;h.render=(f,g)=>{const _=d(f,g);return this.counter++,_},this.hostLanguage=t,r(h)};const u=`${LL()}?${wc({onload:r0,render:"explicit",hl:t})}`;eb(u).catch(()=>{clearTimeout(o),i(mn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=sn().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function hU(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class dU{async load(e){return new zL(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="recaptcha",fU={theme:"light",type:"image"};let pU=class{constructor(e,t,r=Object.assign({},fU)){this.parameters=r,this.type=Cd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mt(e),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;me(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dU:new cU,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),i(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=sn()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(JE()&&!ob(),this.auth,"internal-error"),await mU(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await _L(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function mU(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=hl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function gU(n,e,t){if(Tt(n.app))return Promise.reject(In(n));const r=Mt(n),i=await Qg(r,e,Pe(t));return new lb(i,o=>Hg(r,o))}async function yU(n,e,t){const r=Pe(n);await qg(!1,r,"phone");const i=await Qg(r.auth,e,Pe(t));return new lb(i,o=>VP(r,o))}async function _U(n,e,t){const r=Pe(n);if(Tt(r.auth.app))return Promise.reject(In(r.auth));const i=await Qg(r.auth,e,Pe(t));return new lb(i,o=>MP(r,o))}async function Qg(n,e,t){var r;if(!n._getRecaptchaConfig())try{await WL(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){me(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await ja(n,u,"mfaSmsEnrollment",async(g,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===Rd){me((t==null?void 0:t.type)===Cd,g,"argument-error");const v=await i0(g,_,t);return CI(g,v)}return CI(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{me(o.type==="signin",n,"internal-error");const u=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;me(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await ja(n,h,"mfaSmsSignIn",async(_,v)=>{if(v.phoneSignInInfo.captchaResponse===Rd){me((t==null?void 0:t.type)===Cd,_,"argument-error");const T=await i0(_,v,t);return OI(_,T)}return OI(_,v)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await ja(n,o,"sendVerificationCode",async(f,g)=>{if(g.captchaResponse===Rd){me((t==null?void 0:t.type)===Cd,f,"argument-error");const _=await i0(f,g,t);return II(f,_)}return II(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}}async function vU(n,e){const t=Pe(n);if(Tt(t.auth.app))return Promise.reject(In(t.auth));await tb(t,e)}async function i0(n,e,t){me(t.type===Cd,n,"argument-error");const r=await t.verify();me(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl=class xm{constructor(e){this.providerId=xm.PROVIDER_ID,this.auth=Mt(e)}verifyPhoneNumber(e,t){return Qg(this.auth,e,Pe(t))}static credential(e,t){return hl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return xm.credentialFromTaggedObject(t)}static credentialFromError(e){return xm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?hl._fromTokenResponse(t,r):null}};pl.PROVIDER_ID="phone";pl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n,e){return e?Ir(e):(me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub extends Sc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ks(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ks(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function EU(n){return NP(n.auth,new ub(n),n.bypassAuthState)}function bU(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),kP(t,new ub(n),n.bypassAuthState)}async function wU(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),tb(t,new ub(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EU;case"linkViaPopup":case"linkViaRedirect":return wU;case"reauthViaPopup":case"reauthViaRedirect":return bU;default:Rn(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=new gf(2e3,1e4);async function SU(n,e,t){if(Tt(n.app))return Promise.reject(mn(n,"operation-not-supported-in-this-environment"));const r=Mt(n);Tc(n,e,Hs);const i=Cl(r,t);return new xs(r,"signInViaPopup",e,i).executeNotNull()}async function AU(n,e,t){const r=Pe(n);if(Tt(r.auth.app))return Promise.reject(mn(r.auth,"operation-not-supported-in-this-environment"));Tc(r.auth,e,Hs);const i=Cl(r.auth,t);return new xs(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function IU(n,e,t){const r=Pe(n);Tc(r.auth,e,Hs);const i=Cl(r.auth,t);return new xs(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class xs extends WP{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=bf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TU.get())};e()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="pendingRedirect",Pd=new Map;class CU extends WP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Pd.get(this.auth._key());if(!e){try{const r=await PU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Pd.set(this.auth._key(),e)}return this.bypassAuthState||Pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PU(n,e){const t=YP(e),r=QP(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function cb(n,e){return QP(n)._set(YP(e),"true")}function xU(){Pd.clear()}function hb(n,e){Pd.set(n._key(),e)}function QP(n){return Ir(n._redirectPersistence)}function YP(n){return cl(RU,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(n,e,t){return DU(n,e,t)}async function DU(n,e,t){if(Tt(n.app))return Promise.reject(In(n));const r=Mt(n);Tc(n,e,Hs),await r._initializationPromise;const i=Cl(r,t);return await cb(i,r),i._openRedirect(r,e,"signInViaRedirect")}function kU(n,e,t){return NU(n,e,t)}async function NU(n,e,t){const r=Pe(n);if(Tc(r.auth,e,Hs),Tt(r.auth.app))return Promise.reject(In(r.auth));await r.auth._initializationPromise;const i=Cl(r.auth,t);await cb(i,r.auth);const o=await XP(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function VU(n,e,t){return MU(n,e,t)}async function MU(n,e,t){const r=Pe(n);Tc(r.auth,e,Hs),await r.auth._initializationPromise;const i=Cl(r.auth,t);await qg(!1,r,e.providerId),await cb(i,r.auth);const o=await XP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function LU(n,e){return await Mt(n)._initializationPromise,Yg(n,e,!1)}async function Yg(n,e,t=!1){if(Tt(n.app))return Promise.reject(In(n));const r=Mt(n),i=Cl(r,e),u=await new CU(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function XP(n){const e=bf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=10*60*1e3;class JP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ZP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(mn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UU&&this.cachedEventUids.clear(),this.cachedEventUids.has(DI(e))}saveEventToCache(e){this.cachedEventUids.add(DI(e)),this.lastProcessedEventTime=Date.now()}}function DI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ZP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(n,e={}){return $t(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jU=/^https?/;async function zU(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ex(n);for(const t of e)try{if(qU(t))return}catch{}Rn(n,"unauthorized-domain")}function qU(n){const e=qd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!jU.test(t))return!1;if(FU.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=new gf(3e4,6e4);function kI(){const n=sn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function $U(n){return new Promise((e,t)=>{var r,i,o;function u(){kI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kI(),t(mn(n,"network-request-failed"))},timeout:HU.get()})}if(!((i=(r=sn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=sn().gapi)===null||o===void 0)&&o.load)u();else{const h=AP("iframefcb");return sn()[h]=()=>{gapi.load?u():t(mn(n,"network-request-failed"))},eb(`${BL()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw Om=null,e})}let Om=null;function GU(n){return Om=Om||$U(n),Om}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=new gf(5e3,15e3),WU="__/auth/iframe",QU="emulator/auth/iframe",YU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JU(n){const e=n.config;me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ZE(e,QU):`https://${n.config.authDomain}/${WU}`,r={apiKey:e.apiKey,appName:n.name,v:lo},i=XU.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${wc(r).slice(1)}`}async function ZU(n){const e=await GU(n),t=sn().gapi;return me(t,n,"internal-error"),e.open({where:document.body,url:JU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=mn(n,"network-request-failed"),h=sn().setTimeout(()=>{o(u)},KU.get());function d(){sn().clearTimeout(h),i(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t5=500,n5=600,r5="_blank",i5="http://localhost";class NI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s5(n,e,t,r=t5,i=n5){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},e5),{width:r.toString(),height:i.toString(),top:o,left:u}),f=Vt().toLowerCase();t&&(h=vP(f)?r5:t),yP(f)&&(e=e||i5,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[T,w])=>`${v}${T}=${w},`,"");if(PL(f)&&h!=="_self")return a5(e||"",h),new NI(null);const _=window.open(e||"",h,g);me(_,n,"popup-blocked");try{_.focus()}catch{}return new NI(_)}function a5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="__/auth/handler",l5="emulator/auth/handler",u5=encodeURIComponent("fac");async function j0(n,e,t,r,i,o){me(n.config.authDomain,n,"auth-domain-config-required"),me(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:lo,eventId:i};if(e instanceof Hs){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",UV(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))u[g]=_}if(e instanceof Ac){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await n._getAppCheckToken(),f=d?`#${u5}=${encodeURIComponent(d)}`:"";return`${c5(n)}?${wc(h).slice(1)}${f}`}function c5({config:n}){return n.emulator?ZE(n,l5):`https://${n.authDomain}/${o5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="webStorageSupport";class h5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wa,this._completeRedirectFn=Yg,this._overrideRedirectResult=hb}async _openPopup(e,t,r,i){var o;hi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await j0(e,t,r,qd(),i);return s5(e,u,bf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await j0(e,t,r,qd(),i);return Z4(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(hi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ZU(e),r=new JP(e);return t.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(s0,{type:s0},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[s0];u!==void 0&&t(!!u),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return TP()||_P()||_f()}}const tx=h5;class d5{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Bi("unexpected MultiFactorSessionType")}}}class db extends d5{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new db(e)}_finalizeEnroll(e,t,r){return G4(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return lU(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class nx{constructor(){}static assertion(e){return db._fromCredential(e)}}nx.FACTOR_ID="phone";var VI="@firebase/auth",MI="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m5(n){Ka(new Gi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;me(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SP(n)},f=new VL(r,i,o,d);return YL(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ka(new Gi("auth-internal",e=>{const t=Mt(e.getProvider("auth").getImmediate());return(r=>new f5(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(VI,MI,p5(n)),ci(VI,MI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=5*60,y5=zC("authIdTokenMaxAge")||g5;let LI=null;const _5=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>y5)return;const i=t==null?void 0:t.token;LI!==i&&(LI=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function v5(n=tP()){const e=Bg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=QL(n,{popupRedirectResolver:tx,persistence:[Zu,Gg,Wa]}),r=zC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=_5(o.toString());H4(t,u,()=>u(t.currentUser)),q4(t,h=>u(h))}}const i=CV("auth");return i&&RP(t,`http://${i}`),t}function E5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ML({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=mn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",E5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m5("Browser");var UI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var za,rx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,C){function R(){}R.prototype=C.prototype,V.D=C.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(b,x,O){for(var D=Array(arguments.length-2),te=2;te<arguments.length;te++)D[te-2]=arguments[te];return C.prototype[x].apply(b,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,C,R){R||(R=0);var b=Array(16);if(typeof C=="string")for(var x=0;16>x;++x)b[x]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(x=0;16>x;++x)b[x]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=V.g[0],R=V.g[1],x=V.g[2];var O=V.g[3],D=C+(O^R&(x^O))+b[0]+3614090360&4294967295;C=R+(D<<7&4294967295|D>>>25),D=O+(x^C&(R^x))+b[1]+3905402710&4294967295,O=C+(D<<12&4294967295|D>>>20),D=x+(R^O&(C^R))+b[2]+606105819&4294967295,x=O+(D<<17&4294967295|D>>>15),D=R+(C^x&(O^C))+b[3]+3250441966&4294967295,R=x+(D<<22&4294967295|D>>>10),D=C+(O^R&(x^O))+b[4]+4118548399&4294967295,C=R+(D<<7&4294967295|D>>>25),D=O+(x^C&(R^x))+b[5]+1200080426&4294967295,O=C+(D<<12&4294967295|D>>>20),D=x+(R^O&(C^R))+b[6]+2821735955&4294967295,x=O+(D<<17&4294967295|D>>>15),D=R+(C^x&(O^C))+b[7]+4249261313&4294967295,R=x+(D<<22&4294967295|D>>>10),D=C+(O^R&(x^O))+b[8]+1770035416&4294967295,C=R+(D<<7&4294967295|D>>>25),D=O+(x^C&(R^x))+b[9]+2336552879&4294967295,O=C+(D<<12&4294967295|D>>>20),D=x+(R^O&(C^R))+b[10]+4294925233&4294967295,x=O+(D<<17&4294967295|D>>>15),D=R+(C^x&(O^C))+b[11]+2304563134&4294967295,R=x+(D<<22&4294967295|D>>>10),D=C+(O^R&(x^O))+b[12]+1804603682&4294967295,C=R+(D<<7&4294967295|D>>>25),D=O+(x^C&(R^x))+b[13]+4254626195&4294967295,O=C+(D<<12&4294967295|D>>>20),D=x+(R^O&(C^R))+b[14]+2792965006&4294967295,x=O+(D<<17&4294967295|D>>>15),D=R+(C^x&(O^C))+b[15]+1236535329&4294967295,R=x+(D<<22&4294967295|D>>>10),D=C+(x^O&(R^x))+b[1]+4129170786&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^x&(C^R))+b[6]+3225465664&4294967295,O=C+(D<<9&4294967295|D>>>23),D=x+(C^R&(O^C))+b[11]+643717713&4294967295,x=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(x^O))+b[0]+3921069994&4294967295,R=x+(D<<20&4294967295|D>>>12),D=C+(x^O&(R^x))+b[5]+3593408605&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^x&(C^R))+b[10]+38016083&4294967295,O=C+(D<<9&4294967295|D>>>23),D=x+(C^R&(O^C))+b[15]+3634488961&4294967295,x=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(x^O))+b[4]+3889429448&4294967295,R=x+(D<<20&4294967295|D>>>12),D=C+(x^O&(R^x))+b[9]+568446438&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^x&(C^R))+b[14]+3275163606&4294967295,O=C+(D<<9&4294967295|D>>>23),D=x+(C^R&(O^C))+b[3]+4107603335&4294967295,x=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(x^O))+b[8]+1163531501&4294967295,R=x+(D<<20&4294967295|D>>>12),D=C+(x^O&(R^x))+b[13]+2850285829&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^x&(C^R))+b[2]+4243563512&4294967295,O=C+(D<<9&4294967295|D>>>23),D=x+(C^R&(O^C))+b[7]+1735328473&4294967295,x=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(x^O))+b[12]+2368359562&4294967295,R=x+(D<<20&4294967295|D>>>12),D=C+(R^x^O)+b[5]+4294588738&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^x)+b[8]+2272392833&4294967295,O=C+(D<<11&4294967295|D>>>21),D=x+(O^C^R)+b[11]+1839030562&4294967295,x=O+(D<<16&4294967295|D>>>16),D=R+(x^O^C)+b[14]+4259657740&4294967295,R=x+(D<<23&4294967295|D>>>9),D=C+(R^x^O)+b[1]+2763975236&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^x)+b[4]+1272893353&4294967295,O=C+(D<<11&4294967295|D>>>21),D=x+(O^C^R)+b[7]+4139469664&4294967295,x=O+(D<<16&4294967295|D>>>16),D=R+(x^O^C)+b[10]+3200236656&4294967295,R=x+(D<<23&4294967295|D>>>9),D=C+(R^x^O)+b[13]+681279174&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^x)+b[0]+3936430074&4294967295,O=C+(D<<11&4294967295|D>>>21),D=x+(O^C^R)+b[3]+3572445317&4294967295,x=O+(D<<16&4294967295|D>>>16),D=R+(x^O^C)+b[6]+76029189&4294967295,R=x+(D<<23&4294967295|D>>>9),D=C+(R^x^O)+b[9]+3654602809&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^x)+b[12]+3873151461&4294967295,O=C+(D<<11&4294967295|D>>>21),D=x+(O^C^R)+b[15]+530742520&4294967295,x=O+(D<<16&4294967295|D>>>16),D=R+(x^O^C)+b[2]+3299628645&4294967295,R=x+(D<<23&4294967295|D>>>9),D=C+(x^(R|~O))+b[0]+4096336452&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~x))+b[7]+1126891415&4294967295,O=C+(D<<10&4294967295|D>>>22),D=x+(C^(O|~R))+b[14]+2878612391&4294967295,x=O+(D<<15&4294967295|D>>>17),D=R+(O^(x|~C))+b[5]+4237533241&4294967295,R=x+(D<<21&4294967295|D>>>11),D=C+(x^(R|~O))+b[12]+1700485571&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~x))+b[3]+2399980690&4294967295,O=C+(D<<10&4294967295|D>>>22),D=x+(C^(O|~R))+b[10]+4293915773&4294967295,x=O+(D<<15&4294967295|D>>>17),D=R+(O^(x|~C))+b[1]+2240044497&4294967295,R=x+(D<<21&4294967295|D>>>11),D=C+(x^(R|~O))+b[8]+1873313359&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~x))+b[15]+4264355552&4294967295,O=C+(D<<10&4294967295|D>>>22),D=x+(C^(O|~R))+b[6]+2734768916&4294967295,x=O+(D<<15&4294967295|D>>>17),D=R+(O^(x|~C))+b[13]+1309151649&4294967295,R=x+(D<<21&4294967295|D>>>11),D=C+(x^(R|~O))+b[4]+4149444226&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~x))+b[11]+3174756917&4294967295,O=C+(D<<10&4294967295|D>>>22),D=x+(C^(O|~R))+b[2]+718787259&4294967295,x=O+(D<<15&4294967295|D>>>17),D=R+(O^(x|~C))+b[9]+3951481745&4294967295,V.g[0]=V.g[0]+C&4294967295,V.g[1]=V.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+x&4294967295,V.g[3]=V.g[3]+O&4294967295}r.prototype.u=function(V,C){C===void 0&&(C=V.length);for(var R=C-this.blockSize,b=this.B,x=this.h,O=0;O<C;){if(x==0)for(;O<=R;)i(this,V,O),O+=this.blockSize;if(typeof V=="string"){for(;O<C;)if(b[x++]=V.charCodeAt(O++),x==this.blockSize){i(this,b),x=0;break}}else for(;O<C;)if(b[x++]=V[O++],x==this.blockSize){i(this,b),x=0;break}}this.h=x,this.o+=C},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var C=1;C<V.length-8;++C)V[C]=0;var R=8*this.o;for(C=V.length-8;C<V.length;++C)V[C]=R&255,R/=256;for(this.u(V),V=Array(16),C=R=0;4>C;++C)for(var b=0;32>b;b+=8)V[R++]=this.g[C]>>>b&255;return V};function o(V,C){var R=h;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=C(V)}function u(V,C){this.h=C;for(var R=[],b=!0,x=V.length-1;0<=x;x--){var O=V[x]|0;b&&O==C||(R[x]=O,b=!1)}this.g=R}var h={};function d(V){return-128<=V&&128>V?o(V,function(C){return new u([C|0],0>C?-1:0)}):new u([V|0],0>V?-1:0)}function f(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return P(f(-V));for(var C=[],R=1,b=0;V>=R;b++)C[b]=V/R|0,R*=4294967296;return new u(C,0)}function g(V,C){if(V.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(V.charAt(0)=="-")return P(g(V.substring(1),C));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(C,8)),b=_,x=0;x<V.length;x+=8){var O=Math.min(8,V.length-x),D=parseInt(V.substring(x,x+O),C);8>O?(O=f(Math.pow(C,O)),b=b.j(O).add(f(D))):(b=b.j(R),b=b.add(f(D)))}return b}var _=d(0),v=d(1),T=d(16777216);n=u.prototype,n.m=function(){if(I(this))return-P(this).m();for(var V=0,C=1,R=0;R<this.g.length;R++){var b=this.i(R);V+=(0<=b?b:4294967296+b)*C,C*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(w(this))return"0";if(I(this))return"-"+P(this).toString(V);for(var C=f(Math.pow(V,6)),R=this,b="";;){var x=$(R,C).g;R=U(R,x.j(C));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=x,w(R))return O+b;for(;6>O.length;)O="0"+O;b=O+b}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function w(V){if(V.h!=0)return!1;for(var C=0;C<V.g.length;C++)if(V.g[C]!=0)return!1;return!0}function I(V){return V.h==-1}n.l=function(V){return V=U(this,V),I(V)?-1:w(V)?0:1};function P(V){for(var C=V.g.length,R=[],b=0;b<C;b++)R[b]=~V.g[b];return new u(R,~V.h).add(v)}n.abs=function(){return I(this)?P(this):this},n.add=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0,x=0;x<=C;x++){var O=b+(this.i(x)&65535)+(V.i(x)&65535),D=(O>>>16)+(this.i(x)>>>16)+(V.i(x)>>>16);b=D>>>16,O&=65535,D&=65535,R[x]=D<<16|O}return new u(R,R[R.length-1]&-2147483648?-1:0)};function U(V,C){return V.add(P(C))}n.j=function(V){if(w(this)||w(V))return _;if(I(this))return I(V)?P(this).j(P(V)):P(P(this).j(V));if(I(V))return P(this.j(P(V)));if(0>this.l(T)&&0>V.l(T))return f(this.m()*V.m());for(var C=this.g.length+V.g.length,R=[],b=0;b<2*C;b++)R[b]=0;for(b=0;b<this.g.length;b++)for(var x=0;x<V.g.length;x++){var O=this.i(b)>>>16,D=this.i(b)&65535,te=V.i(x)>>>16,B=V.i(x)&65535;R[2*b+2*x]+=D*B,M(R,2*b+2*x),R[2*b+2*x+1]+=O*B,M(R,2*b+2*x+1),R[2*b+2*x+1]+=D*te,M(R,2*b+2*x+1),R[2*b+2*x+2]+=O*te,M(R,2*b+2*x+2)}for(b=0;b<C;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=C;b<2*C;b++)R[b]=0;return new u(R,0)};function M(V,C){for(;(V[C]&65535)!=V[C];)V[C+1]+=V[C]>>>16,V[C]&=65535,C++}function L(V,C){this.g=V,this.h=C}function $(V,C){if(w(C))throw Error("division by zero");if(w(V))return new L(_,_);if(I(V))return C=$(P(V),C),new L(P(C.g),P(C.h));if(I(C))return C=$(V,P(C)),new L(P(C.g),C.h);if(30<V.g.length){if(I(V)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var R=v,b=C;0>=b.l(V);)R=F(R),b=F(b);var x=H(R,1),O=H(b,1);for(b=H(b,2),R=H(R,2);!w(b);){var D=O.add(b);0>=D.l(V)&&(x=x.add(R),O=D),b=H(b,1),R=H(R,1)}return C=U(V,x.j(C)),new L(x,C)}for(x=_;0<=V.l(C);){for(R=Math.max(1,Math.floor(V.m()/C.m())),b=Math.ceil(Math.log(R)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),O=f(R),D=O.j(C);I(D)||0<D.l(V);)R-=b,O=f(R),D=O.j(C);w(O)&&(O=v),x=x.add(O),V=U(V,D)}return new L(x,V)}n.A=function(V){return $(this,V).h},n.and=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0;b<C;b++)R[b]=this.i(b)&V.i(b);return new u(R,this.h&V.h)},n.or=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0;b<C;b++)R[b]=this.i(b)|V.i(b);return new u(R,this.h|V.h)},n.xor=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0;b<C;b++)R[b]=this.i(b)^V.i(b);return new u(R,this.h^V.h)};function F(V){for(var C=V.g.length+1,R=[],b=0;b<C;b++)R[b]=V.i(b)<<1|V.i(b-1)>>>31;return new u(R,V.h)}function H(V,C){var R=C>>5;C%=32;for(var b=V.g.length-R,x=[],O=0;O<b;O++)x[O]=0<C?V.i(O+R)>>>C|V.i(O+R+1)<<32-C:V.i(O+R);return new u(x,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rx=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=g,za=u}).apply(typeof UI<"u"?UI:typeof self<"u"?self:typeof window<"u"?window:{});var pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ix,Ed,sx,Dm,z0,ax,ox,lx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,S){return p==Array.prototype||p==Object.prototype||(p[E]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof pm=="object"&&pm];for(var E=0;E<p.length;++E){var S=p[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(p,E){if(E)e:{var S=r;p=p.split(".");for(var N=0;N<p.length-1;N++){var Y=p[N];if(!(Y in S))break e;S=S[Y]}p=p[p.length-1],N=S[p],E=E(N),E!=N&&E!=null&&e(S,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var S=0,N=!1,Y={next:function(){if(!N&&S<p.length){var re=S++;return{value:E(re,p[re]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function f(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,S){return p.call.apply(p.bind,arguments)}function _(p,E,S){if(!p)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,N),p.apply(E,Y)}}return function(){return p.apply(E,arguments)}}function v(p,E,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function T(p,E){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),p.apply(this,N)}}function w(p,E){function S(){}S.prototype=E.prototype,p.aa=E.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(N,Y,re){for(var ge=Array(arguments.length-2),We=2;We<arguments.length;We++)ge[We-2]=arguments[We];return E.prototype[Y].apply(N,ge)}}function I(p){const E=p.length;if(0<E){const S=Array(E);for(let N=0;N<E;N++)S[N]=p[N];return S}return[]}function P(p,E){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(d(N)){const Y=p.length||0,re=N.length||0;p.length=Y+re;for(let ge=0;ge<re;ge++)p[Y+ge]=N[ge]}else p.push(N)}}class U{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function M(p){return/^[\s\xa0]*$/.test(p)}function L(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var F=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function H(p,E,S){for(const N in p)E.call(S,p[N],N,p)}function V(p,E){for(const S in p)E.call(void 0,p[S],S,p)}function C(p){const E={};for(const S in p)E[S]=p[S];return E}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(p,E){let S,N;for(let Y=1;Y<arguments.length;Y++){N=arguments[Y];for(S in N)p[S]=N[S];for(let re=0;re<R.length;re++)S=R[re],Object.prototype.hasOwnProperty.call(N,S)&&(p[S]=N[S])}}function x(p){var E=1;p=p.split(":");const S=[];for(;0<E&&p.length;)S.push(p.shift()),E--;return p.length&&S.push(p.join(":")),S}function O(p){h.setTimeout(()=>{throw p},0)}function D(){var p=Te;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class te{constructor(){this.h=this.g=null}add(E,S){const N=B.get();N.set(E,S),this.h?this.h.next=N:this.g=N,this.h=N}}var B=new U(()=>new ee,p=>p.reset());class ee{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ue=!1,Te=new te,q=()=>{const p=h.Promise.resolve(void 0);ie=()=>{p.then(ae)}};var ae=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(S){O(S)}var E=B;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}ue=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};h.addEventListener("test",S,E),h.removeEventListener("test",S,E)}catch{}return p}();function Oe(p,E){if(ve.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,N=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(F){e:{try{$(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else S=="mouseover"?E=p.fromElement:S=="mouseout"&&(E=p.toElement);this.relatedTarget=E,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:De[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Oe.aa.h.call(this)}}w(Oe,ve);var De={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),ze=0;function _t(p,E,S,N,Y){this.listener=p,this.proxy=null,this.src=E,this.type=S,this.capture=!!N,this.ha=Y,this.key=++ze,this.da=this.fa=!1}function $e(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Et(p){this.src=p,this.g={},this.h=0}Et.prototype.add=function(p,E,S,N,Y){var re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);var ge=at(p,E,N,Y);return-1<ge?(E=p[ge],S||(E.fa=!1)):(E=new _t(E,this.src,re,!!N,Y),E.fa=S,p.push(E)),E};function Je(p,E){var S=E.type;if(S in p.g){var N=p.g[S],Y=Array.prototype.indexOf.call(N,E,void 0),re;(re=0<=Y)&&Array.prototype.splice.call(N,Y,1),re&&($e(E),p.g[S].length==0&&(delete p.g[S],p.h--))}}function at(p,E,S,N){for(var Y=0;Y<p.length;++Y){var re=p[Y];if(!re.da&&re.listener==E&&re.capture==!!S&&re.ha==N)return Y}return-1}var Jt="closure_lm_"+(1e6*Math.random()|0),fr={};function Mn(p,E,S,N,Y){if(Array.isArray(E)){for(var re=0;re<E.length;re++)Mn(p,E[re],S,N,Y);return null}return S=Gf(S),p&&p[Ct]?p.K(E,S,f(N)?!!N.capture:!1,Y):Or(p,E,S,!1,N,Y)}function Or(p,E,S,N,Y,re){if(!E)throw Error("Invalid event type");var ge=f(Y)?!!Y.capture:!!Y,We=zc(p);if(We||(p[Jt]=We=new Et(p)),S=We.add(E,S,N,ge,re),S.proxy)return S;if(N=Ln(),S.proxy=N,N.src=p,N.listener=S,p.addEventListener)ye||(Y=ge),Y===void 0&&(Y=!1),p.addEventListener(E.toString(),N,Y);else if(p.attachEvent)p.attachEvent(kl(E.toString()),N);else if(p.addListener&&p.removeListener)p.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ln(){function p(S){return E.call(p.src,p.listener,S)}const E=Gy;return p}function rr(p,E,S,N,Y){if(Array.isArray(E))for(var re=0;re<E.length;re++)rr(p,E[re],S,N,Y);else N=f(N)?!!N.capture:!!N,S=Gf(S),p&&p[Ct]?(p=p.i,E=String(E).toString(),E in p.g&&(re=p.g[E],S=at(re,S,N,Y),-1<S&&($e(re[S]),Array.prototype.splice.call(re,S,1),re.length==0&&(delete p.g[E],p.h--)))):p&&(p=zc(p))&&(E=p.g[E.toString()],p=-1,E&&(p=at(E,S,N,Y)),(S=-1<p?E[p]:null)&&ei(S))}function ei(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[Ct])Je(E.i,p);else{var S=p.type,N=p.proxy;E.removeEventListener?E.removeEventListener(S,N,p.capture):E.detachEvent?E.detachEvent(kl(S),N):E.addListener&&E.removeListener&&E.removeListener(N),(S=zc(E))?(Je(S,p),S.h==0&&(S.src=null,E[Jt]=null)):$e(p)}}}function kl(p){return p in fr?fr[p]:fr[p]="on"+p}function Gy(p,E){if(p.da)p=!0;else{E=new Oe(E,this);var S=p.listener,N=p.ha||p.src;p.fa&&ei(p),p=S.call(N,E)}return p}function zc(p){return p=p[Jt],p instanceof Et?p:null}var ir="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gf(p){return typeof p=="function"?p:(p[ir]||(p[ir]=function(E){return p.handleEvent(E)}),p[ir])}function un(){be.call(this),this.i=new Et(this),this.M=this,this.F=null}w(un,be),un.prototype[Ct]=!0,un.prototype.removeEventListener=function(p,E,S,N){rr(this,p,E,S,N)};function yn(p,E){var S,N=p.F;if(N)for(S=[];N;N=N.F)S.push(N);if(p=p.M,N=E.type||E,typeof E=="string")E=new ve(E,p);else if(E instanceof ve)E.target=E.target||p;else{var Y=E;E=new ve(N,p),b(E,Y)}if(Y=!0,S)for(var re=S.length-1;0<=re;re--){var ge=E.g=S[re];Y=es(ge,N,!0,E)&&Y}if(ge=E.g=p,Y=es(ge,N,!0,E)&&Y,Y=es(ge,N,!1,E)&&Y,S)for(re=0;re<S.length;re++)ge=E.g=S[re],Y=es(ge,N,!1,E)&&Y}un.prototype.N=function(){if(un.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var S=p.g[E],N=0;N<S.length;N++)$e(S[N]);delete p.g[E],p.h--}}this.F=null},un.prototype.K=function(p,E,S,N){return this.i.add(String(p),E,!1,S,N)},un.prototype.L=function(p,E,S,N){return this.i.add(String(p),E,!0,S,N)};function es(p,E,S,N){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,re=0;re<E.length;++re){var ge=E[re];if(ge&&!ge.da&&ge.capture==S){var We=ge.listener,hn=ge.ha||ge.src;ge.fa&&Je(p.i,ge),Y=We.call(hn,N)!==!1&&Y}}return Y&&!N.defaultPrevented}function Kf(p,E,S){if(typeof p=="function")S&&(p=v(p,S));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:h.setTimeout(p,E||0)}function qc(p){p.g=Kf(()=>{p.g=null,p.i&&(p.i=!1,qc(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Ky extends be{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:qc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _o(p){be.call(this),this.h=p,this.g={}}w(_o,be);var Qs=[];function Un(p){H(p.g,function(E,S){this.g.hasOwnProperty(S)&&ei(E)},p),p.g={}}_o.prototype.N=function(){_o.aa.N.call(this),Un(this)},_o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hc=h.JSON.stringify,fi=h.JSON.parse,Kn=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function $c(){}$c.prototype.h=null;function Wf(p){return p.h||(p.h=p.i())}function Qf(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ys(){ve.call(this,"d")}w(Ys,ve);function ti(){ve.call(this,"c")}w(ti,ve);var Dr={},Xs=null;function Nl(){return Xs=Xs||new un}Dr.La="serverreachability";function Gc(p){ve.call(this,Dr.La,p)}w(Gc,ve);function Js(p){const E=Nl();yn(E,new Gc(E))}Dr.STAT_EVENT="statevent";function Vl(p,E){ve.call(this,Dr.STAT_EVENT,p),this.stat=E}w(Vl,ve);function Gt(p){const E=Nl();yn(E,new Vl(E,p))}Dr.Ma="timingevent";function Yf(p,E){ve.call(this,Dr.Ma,p),this.size=E}w(Yf,ve);function Zs(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},E)}function ea(){this.g=!0}ea.prototype.xa=function(){this.g=!1};function Xf(p,E,S,N,Y,re){p.info(function(){if(p.g)if(re)for(var ge="",We=re.split("&"),hn=0;hn<We.length;hn++){var Qe=We[hn].split("=");if(1<Qe.length){var En=Qe[0];Qe=Qe[1];var dn=En.split("_");ge=2<=dn.length&&dn[1]=="type"?ge+(En+"="+Qe+"&"):ge+(En+"=redacted&")}}else ge=null;else ge=re;return"XMLHTTP REQ ("+N+") [attempt "+Y+"]: "+E+`
`+S+`
`+ge})}function Jf(p,E,S,N,Y,re,ge){p.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Y+"]: "+E+`
`+S+`
`+re+" "+ge})}function ta(p,E,S,N){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+_n(p,S)+(N?" "+N:"")})}function mi(p,E){p.info(function(){return"TIMEOUT: "+E})}ea.prototype.info=function(){};function _n(p,E){if(!p.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var N=S[p];if(!(2>N.length)){var Y=N[1];if(Array.isArray(Y)&&!(1>Y.length)){var re=Y[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return Hc(S)}catch{return E}}var cn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ts={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vo;function Ml(){}w(Ml,$c),Ml.prototype.g=function(){return new XMLHttpRequest},Ml.prototype.i=function(){return{}},vo=new Ml;function gi(p,E,S,N){this.j=p,this.i=E,this.l=S,this.R=N||1,this.U=new _o(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kc}function Kc(){this.i=null,this.g="",this.h=!1}var na={},Eo={};function ni(p,E,S){p.L=1,p.v=To(Lt(E)),p.m=S,p.P=!0,ns(p,null)}function ns(p,E){p.F=Date.now(),Pt(p),p.A=Lt(p.v);var S=p.A,N=p.R;Array.isArray(N)||(N=[String(N)]),ss(S.i,"t",N),p.C=0,S=p.j.J,p.h=new Kc,p.g=dp(p.j,S?E:null,!p.m),0<p.O&&(p.M=new Ky(v(p.Y,p,p.g),p.O)),E=p.U,S=p.g,N=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Qs[0]=Y.toString()),Y=Qs);for(var re=0;re<Y.length;re++){var ge=Mn(S,Y[re],N||E.handleEvent,!1,E.h||E);if(!ge)break;E.g[ge.key]=ge}E=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Js(),Xf(p.i,p.u,p.A,p.l,p.R,p.m)}gi.prototype.ca=function(p){p=p.target;const E=this.M;E&&Lr(p)==3?E.j():this.Y(p)},gi.prototype.Y=function(p){try{if(p==this.g)e:{const dn=Lr(this.g);var E=this.g.Ba();const us=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||ip(this.g)))){this.J||dn!=4||E==7||(E==8||0>=us?Js(3):Js(2)),Ll(this);var S=this.g.Z();this.X=S;t:if(ra(this)){var N=ip(this.g);p="";var Y=N.length,re=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sr(this),pr(this);var ge="";break t}this.h.i=new h.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,p+=this.h.i.decode(N[E],{stream:!(re&&E==Y-1)});N.length=0,this.h.g+=p,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=S==200,Jf(this.i,this.u,this.A,this.l,this.R,dn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,hn=this.g;if((We=hn.g?hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(We)){var Qe=We;break t}}Qe=null}if(S=Qe)ta(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mr(this,S);else{this.o=!1,this.s=3,Gt(12),sr(this),pr(this);break e}}if(this.P){S=!0;let Cn;for(;!this.J&&this.C<ge.length;)if(Cn=ia(this,ge),Cn==Eo){dn==4&&(this.s=4,Gt(14),S=!1),ta(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==na){this.s=4,Gt(15),ta(this.i,this.l,ge,"[Invalid Chunk]"),S=!1;break}else ta(this.i,this.l,Cn,null),mr(this,Cn);if(ra(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||ge.length!=0||this.h.h||(this.s=1,Gt(16),S=!1),this.o=this.o&&S,!S)ta(this.i,this.l,ge,"[Invalid Chunked Response]"),sr(this),pr(this);else if(0<ge.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),xo(En),En.M=!0,Gt(11))}}else ta(this.i,this.l,ge,null),mr(this,ge);dn==4&&sr(this),this.o&&!this.J&&(dn==4?up(this.j,this):(this.o=!1,Pt(this)))}else Zy(this.g),S==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),sr(this),pr(this)}}}catch{}finally{}};function ra(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function ia(p,E){var S=p.C,N=E.indexOf(`
`,S);return N==-1?Eo:(S=Number(E.substring(S,N)),isNaN(S)?na:(N+=1,N+S>E.length?Eo:(E=E.slice(N,N+S),p.C=N+S,E)))}gi.prototype.cancel=function(){this.J=!0,sr(this)};function Pt(p){p.S=Date.now()+p.I,Wc(p,p.I)}function Wc(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Zs(v(p.ba,p),E)}function Ll(p){p.B&&(h.clearTimeout(p.B),p.B=null)}gi.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(mi(this.i,this.A),this.L!=2&&(Js(),Gt(17)),sr(this),this.s=2,pr(this)):Wc(this,this.S-p)};function pr(p){p.j.G==0||p.J||up(p.j,p)}function sr(p){Ll(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,Un(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function mr(p,E){try{var S=p.j;if(S.G!=0&&(S.g==p||sa(S.h,p))){if(!p.K&&sa(S.h,p)&&S.G==3){try{var N=S.Da.g.parse(E)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Y=N;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)Kl(S),$l(S);else break e;sh(S),Gt(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=Zs(v(S.Za,S),6e3));if(1>=Zf(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ls(S,11)}else if((p.K||S.g==p)&&Kl(S),!M(E))for(Y=S.Da.g.parse(E),E=0;E<Y.length;E++){let Qe=Y[E];if(S.T=Qe[0],Qe=Qe[1],S.G==2)if(Qe[0]=="c"){S.K=Qe[1],S.ia=Qe[2];const En=Qe[3];En!=null&&(S.la=En,S.j.info("VER="+S.la));const dn=Qe[4];dn!=null&&(S.Aa=dn,S.j.info("SVER="+S.Aa));const us=Qe[5];us!=null&&typeof us=="number"&&0<us&&(N=1.5*us,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const Cn=p.g;if(Cn){const Ti=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var re=N.h;re.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(aa(re,re.h),re.h=null))}if(N.D){const oh=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;oh&&(N.ya=oh,Ze(N.I,N.D,oh))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var ge=p;if(N.qa=hp(N,N.J?N.ia:null,N.W),ge.K){kr(N.h,ge);var We=ge,hn=N.L;hn&&(We.I=hn),We.B&&(Ll(We),Pt(We)),N.g=ge}else op(N);0<S.i.length&&Gl(S)}else Qe[0]!="stop"&&Qe[0]!="close"||ls(S,7);else S.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ls(S,7):rh(S):Qe[0]!="noop"&&S.l&&S.l.ta(Qe),S.v=0)}}Js(4)}catch{}}var Wy=class{constructor(p,E){this.g=p,this.map=E}};function Qc(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yc(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Zf(p){return p.h?1:p.g?p.g.size:0}function sa(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function aa(p,E){p.g?p.g.add(E):p.h=E}function kr(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Qc.prototype.cancel=function(){if(this.i=Wn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Wn(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const S of p.g.values())E=E.concat(S.D);return E}return I(p.i)}function ep(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var E=[],S=p.length,N=0;N<S;N++)E.push(p[N]);return E}E=[],S=0;for(N in p)E[S++]=p[N];return E}function Qy(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var E=[];p=p.length;for(var S=0;S<p;S++)E.push(S);return E}E=[],S=0;for(const N in p)E[S++]=N;return E}}}function bo(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var S=Qy(p),N=ep(p),Y=N.length,re=0;re<Y;re++)E.call(void 0,N[re],S&&S[re],p)}var Xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ul(p,E){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var N=p[S].indexOf("="),Y=null;if(0<=N){var re=p[S].substring(0,N);Y=p[S].substring(N+1)}else re=p[S];E(re,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function rs(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof rs){this.h=p.h,oa(this,p.j),this.o=p.o,this.g=p.g,wo(this,p.s),this.l=p.l;var E=p.i,S=new yi;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),Bl(this,S),this.m=p.m}else p&&(E=String(p).match(Xc))?(this.h=!1,oa(this,E[1]||"",!0),this.o=la(E[2]||""),this.g=la(E[3]||"",!0),wo(this,E[4]),this.l=la(E[5]||"",!0),Bl(this,E[6]||"",!0),this.m=la(E[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}rs.prototype.toString=function(){var p=[],E=this.j;E&&p.push(Nr(E,Jc,!0),":");var S=this.g;return(S||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Nr(E,Jc,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(Nr(S,S.charAt(0)=="/"?Zc:tp,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",Nr(S,Jy)),p.join("")};function Lt(p){return new rs(p)}function oa(p,E,S){p.j=S?la(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function wo(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function Bl(p,E,S){E instanceof yi?(p.i=E,eh(p.i,p.h)):(S||(E=Nr(E,Xy)),p.i=new yi(E,p.h))}function Ze(p,E,S){p.i.set(E,S)}function To(p){return Ze(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function la(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Nr(p,E,S){return typeof p=="string"?(p=encodeURI(p).replace(E,Yy),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Yy(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Jc=/[#\/\?@]/g,tp=/[#\?:]/g,Zc=/[#\?]/g,Xy=/[#\?@]/g,Jy=/#/g;function yi(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Vr(p){p.g||(p.g=new Map,p.h=0,p.i&&Ul(p.i,function(E,S){p.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=yi.prototype,n.add=function(p,E){Vr(this),this.i=null,p=as(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(E),this.h+=1,this};function Fl(p,E){Vr(p),E=as(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function is(p,E){return Vr(p),E=as(p,E),p.g.has(E)}n.forEach=function(p,E){Vr(this),this.g.forEach(function(S,N){S.forEach(function(Y){p.call(E,Y,N,this)},this)},this)},n.na=function(){Vr(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let N=0;N<E.length;N++){const Y=p[N];for(let re=0;re<Y.length;re++)S.push(E[N])}return S},n.V=function(p){Vr(this);let E=[];if(typeof p=="string")is(this,p)&&(E=E.concat(this.g.get(as(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)E=E.concat(p[S])}return E},n.set=function(p,E){return Vr(this),this.i=null,p=as(this,p),is(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function ss(p,E,S){Fl(p,E),0<S.length&&(p.i=null,p.g.set(as(p,E),I(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var N=E[S];const re=encodeURIComponent(String(N)),ge=this.V(N);for(N=0;N<ge.length;N++){var Y=re;ge[N]!==""&&(Y+="="+encodeURIComponent(String(ge[N]))),p.push(Y)}}return this.i=p.join("&")};function as(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function eh(p,E){E&&!p.j&&(Vr(p),p.i=null,p.g.forEach(function(S,N){var Y=N.toLowerCase();N!=Y&&(Fl(this,N),ss(this,Y,S))},p)),p.j=E}function np(p,E){const S=new ea;if(h.Image){const N=new Image;N.onload=T(Mr,S,"TestLoadImage: loaded",!0,E,N),N.onerror=T(Mr,S,"TestLoadImage: error",!1,E,N),N.onabort=T(Mr,S,"TestLoadImage: abort",!1,E,N),N.ontimeout=T(Mr,S,"TestLoadImage: timeout",!1,E,N),h.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=p}else E(!1)}function So(p,E){const S=new ea,N=new AbortController,Y=setTimeout(()=>{N.abort(),Mr(S,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:N.signal}).then(re=>{clearTimeout(Y),re.ok?Mr(S,"TestPingServer: ok",!0,E):Mr(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),Mr(S,"TestPingServer: error",!1,E)})}function Mr(p,E,S,N,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),N(S)}catch{}}function Ao(){this.g=new Kn}function _i(p,E,S){const N=S||"";try{bo(p,function(Y,re){let ge=Y;f(Y)&&(ge=Hc(Y)),E.push(N+re+"="+encodeURIComponent(ge))})}catch(Y){throw E.push(N+"type="+encodeURIComponent("_badmap")),Y}}function ua(p){this.l=p.Ub||null,this.j=p.eb||!1}w(ua,$c),ua.prototype.g=function(){return new os(this.l,this.j)},ua.prototype.i=function(p){return function(){return p}}({});function os(p,E){un.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(os,un),n=os.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,Ei(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||h).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;th(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function th(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?vi(this):Ei(this),this.readyState==3&&th(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,vi(this))},n.Qa=function(p){this.g&&(this.response=p,vi(this))},n.ga=function(){this.g&&vi(this)};function vi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Ei(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=E.next();return p.join(`\r
`)};function Ei(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function nh(p){let E="";return H(p,function(S,N){E+=N,E+=":",E+=S,E+=`\r
`}),E}function vn(p,E,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=nh(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):Ze(p,E,S))}function st(p){un.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(st,un);var jl=/^https?$/i,Io=["POST","PUT"];n=st.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vo.g(),this.v=this.o?Wf(this.o):Wf(vo),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(re){rp(this,re);return}if(p=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Y in N)S.set(Y,N[Y]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const re of N.keys())S.set(re,N.get(re));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(re=>re.toLowerCase()=="content-type"),Y=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Io,E,void 0))||N||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of S)this.g.setRequestHeader(re,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ro(this),this.u=!0,this.g.send(p),this.u=!1}catch(re){rp(this,re)}};function rp(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,zl(p),bi(p)}function zl(p){p.A||(p.A=!0,yn(p,"complete"),yn(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,yn(this,"complete"),yn(this,"abort"),bi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ql(this):this.bb())},n.bb=function(){ql(this)};function ql(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Lr(p)!=4||p.Z()!=2)){if(p.u&&Lr(p)==4)Kf(p.Ea,0,p);else if(yn(p,"readystatechange"),Lr(p)==4){p.h=!1;try{const ge=p.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var N;if(N=ge===0){var Y=String(p.D).match(Xc)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),N=!jl.test(Y?Y.toLowerCase():"")}S=N}if(S)yn(p,"complete"),yn(p,"success");else{p.m=6;try{var re=2<Lr(p)?p.g.statusText:""}catch{re=""}p.l=re+" ["+p.Z()+"]",zl(p)}}finally{bi(p)}}}}function bi(p,E){if(p.g){Ro(p);const S=p.g,N=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||yn(p,"ready");try{S.onreadystatechange=N}catch{}}}function Ro(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Lr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),fi(E)}};function ip(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Zy(p){const E={};p=(p.g&&2<=Lr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<p.length;N++){if(M(p[N]))continue;var S=x(p[N]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const re=E[Y]||[];E[Y]=re,re.push(S)}V(E,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Co(p,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||E}function Hl(p){this.Aa=0,this.i=[],this.j=new ea,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Co("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Co("baseRetryDelayMs",5e3,p),this.cb=Co("retryDelaySeedMs",1e4,p),this.Wa=Co("forwardChannelMaxRetries",2,p),this.wa=Co("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Qc(p&&p.concurrentRequestLimit),this.Da=new Ao,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Hl.prototype,n.la=8,n.G=1,n.connect=function(p,E,S,N){Gt(0),this.W=p,this.H=E||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=hp(this,null,this.W),Gl(this)};function rh(p){if(sp(p),p.G==3){var E=p.U++,S=Lt(p.I);if(Ze(S,"SID",p.K),Ze(S,"RID",E),Ze(S,"TYPE","terminate"),Po(p,S),E=new gi(p,p.j,E),E.L=2,E.v=To(Lt(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=E.v,S=!0),S||(E.g=dp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Pt(E)}cp(p)}function $l(p){p.g&&(xo(p),p.g.cancel(),p.g=null)}function sp(p){$l(p),p.u&&(h.clearTimeout(p.u),p.u=null),Kl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function Gl(p){if(!Yc(p.h)&&!p.s){p.s=!0;var E=p.Ga;ie||q(),ue||(ie(),ue=!0),Te.add(E,p),p.B=0}}function e_(p,E){return Zf(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Zs(v(p.Ga,p,E),ah(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new gi(this,this.j,p);let re=this.o;if(this.S&&(re?(re=C(re),b(re,this.S)):re=this.S),this.m!==null||this.O||(Y.H=re,re=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(E+=N,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=ap(this,Y,E),S=Lt(this.I),Ze(S,"RID",p),Ze(S,"CVER",22),this.D&&Ze(S,"X-HTTP-Session-Id",this.D),Po(this,S),re&&(this.O?E="headers="+encodeURIComponent(String(nh(re)))+"&"+E:this.m&&vn(S,this.m,re)),aa(this.h,Y),this.Ua&&Ze(S,"TYPE","init"),this.P?(Ze(S,"$req",E),Ze(S,"SID","null"),Y.T=!0,ni(Y,S,null)):ni(Y,S,E),this.G=2}}else this.G==3&&(p?ih(this,p):this.i.length==0||Yc(this.h)||ih(this))};function ih(p,E){var S;E?S=E.l:S=p.U++;const N=Lt(p.I);Ze(N,"SID",p.K),Ze(N,"RID",S),Ze(N,"AID",p.T),Po(p,N),p.m&&p.o&&vn(N,p.m,p.o),S=new gi(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),E&&(p.i=E.D.concat(p.i)),E=ap(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),aa(p.h,S),ni(S,N,E)}function Po(p,E){p.H&&H(p.H,function(S,N){Ze(E,N,S)}),p.l&&bo({},function(S,N){Ze(E,N,S)})}function ap(p,E,S){S=Math.min(p.i.length,S);var N=p.l?v(p.l.Na,p.l,p):null;e:{var Y=p.i;let re=-1;for(;;){const ge=["count="+S];re==-1?0<S?(re=Y[0].g,ge.push("ofs="+re)):re=0:ge.push("ofs="+re);let We=!0;for(let hn=0;hn<S;hn++){let Qe=Y[hn].g;const En=Y[hn].map;if(Qe-=re,0>Qe)re=Math.max(0,Y[hn].g-100),We=!1;else try{_i(En,ge,"req"+Qe+"_")}catch{N&&N(En)}}if(We){N=ge.join("&");break e}}}return p=p.i.splice(0,S),E.D=p,N}function op(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;ie||q(),ue||(ie(),ue=!0),Te.add(E,p),p.v=0}}function sh(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Zs(v(p.Fa,p),ah(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,lp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Zs(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),$l(this),lp(this))};function xo(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function lp(p){p.g=new gi(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Lt(p.qa);Ze(E,"RID","rpc"),Ze(E,"SID",p.K),Ze(E,"AID",p.T),Ze(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ze(E,"TO",p.ja),Ze(E,"TYPE","xmlhttp"),Po(p,E),p.m&&p.o&&vn(E,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=To(Lt(E)),S.m=null,S.P=!0,ns(S,p)}n.Za=function(){this.C!=null&&(this.C=null,$l(this),sh(this),Gt(19))};function Kl(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function up(p,E){var S=null;if(p.g==E){Kl(p),xo(p),p.g=null;var N=2}else if(sa(p.h,E))S=E.D,kr(p.h,E),N=1;else return;if(p.G!=0){if(E.o)if(N==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Y=p.B;N=Nl(),yn(N,new Yf(N,S)),Gl(p)}else op(p);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(N==1&&e_(p,E)||N==2&&sh(p)))switch(S&&0<S.length&&(E=p.h,E.i=E.i.concat(S)),Y){case 1:ls(p,5);break;case 4:ls(p,10);break;case 3:ls(p,6);break;default:ls(p,2)}}}function ah(p,E){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*E}function ls(p,E){if(p.j.info("Error code "+E),E==2){var S=v(p.fb,p),N=p.Xa;const Y=!N;N=new rs(N||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||oa(N,"https"),To(N),Y?np(N.toString(),S):So(N.toString(),S)}else Gt(2);p.G=0,p.l&&p.l.sa(E),cp(p),sp(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function cp(p){if(p.G=0,p.ka=[],p.l){const E=Wn(p.h);(E.length!=0||p.i.length!=0)&&(P(p.ka,E),P(p.ka,p.i),p.h.i.length=0,I(p.i),p.i.length=0),p.l.ra()}}function hp(p,E,S){var N=S instanceof rs?Lt(S):new rs(S);if(N.g!="")E&&(N.g=E+"."+N.g),wo(N,N.s);else{var Y=h.location;N=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var re=new rs(null);N&&oa(re,N),E&&(re.g=E),Y&&wo(re,Y),S&&(re.l=S),N=re}return S=p.D,E=p.ya,S&&E&&Ze(N,S,E),Ze(N,"VER",p.la),Po(p,N),N}function dp(p,E,S){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new st(new ua({eb:S})):new st(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fp(){}n=fp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wl(){}Wl.prototype.g=function(p,E){return new Qn(p,E)};function Qn(p,E){un.call(this),this.g=new Hl(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!M(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!M(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new wi(this)}w(Qn,un),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){rh(this.g)},Qn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=Hc(p),p=S);E.i.push(new Wy(E.Ya++,p)),E.G==3&&Gl(E)},Qn.prototype.N=function(){this.g.l=null,delete this.j,rh(this.g),delete this.g,Qn.aa.N.call(this)};function pp(p){Ys.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const S in E){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}w(pp,Ys);function mp(){ti.call(this),this.status=1}w(mp,ti);function wi(p){this.g=p}w(wi,fp),wi.prototype.ua=function(){yn(this.g,"a")},wi.prototype.ta=function(p){yn(this.g,new pp(p))},wi.prototype.sa=function(p){yn(this.g,new mp)},wi.prototype.ra=function(){yn(this.g,"b")},Wl.prototype.createWebChannel=Wl.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,lx=function(){return new Wl},ox=function(){return Nl()},ax=Dr,z0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cn.NO_ERROR=0,cn.TIMEOUT=8,cn.HTTP_ERROR=6,Dm=cn,ts.COMPLETE="complete",sx=ts,Qf.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",un.prototype.listen=un.prototype.K,Ed=Qf,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,ix=st}).apply(typeof pm<"u"?pm:typeof self<"u"?self:typeof window<"u"?window:{});const BI="@firebase/firestore",FI="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let An=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Ug("@firebase/firestore");function Nu(){return Qa.logLevel}function b5(n){Qa.setLogLevel(n)}function pe(n,...e){if(Qa.logLevel<=je.DEBUG){const t=e.map(fb);Qa.debug(`Firestore (${Ic}): ${n}`,...t)}}function Wt(n,...e){if(Qa.logLevel<=je.ERROR){const t=e.map(fb);Qa.error(`Firestore (${Ic}): ${n}`,...t)}}function Wi(n,...e){if(Qa.logLevel<=je.WARN){const t=e.map(fb);Qa.warn(`Firestore (${Ic}): ${n}`,...t)}}function fb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n="Unexpected state"){const e=`FIRESTORE (${Ic}) INTERNAL ASSERTION FAILED: `+n;throw Wt(e),new Error(e)}function Ae(n,e){n||we()}function w5(n,e){n||we()}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class S5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class A5{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vn,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},h=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new ux(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new An(e)}}class I5{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class R5{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new I5(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C5{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new jI(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string"),this.R=t.token,new jI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=P5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function ec(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function hx(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=-62135596800,qI=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*qI);return new It(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zI)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qI}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new It(0,0))}static max(){return new Re(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="__name__";class Oi{constructor(e,t,r){t===void 0?t=0:t>e.length&&we(),r===void 0?r=e.length-t:r>e.length-t&&we(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Oi.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Oi.isNumericId(e),i=Oi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return za.fromString(e.substring(4,e.length-2))}}class qe extends Oi{construct(e,t,r){return new qe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new qe(t)}static emptyPath(){return new qe([])}}const x5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Oi{construct(e,t,r){return new St(e,t,r)}static isValidIdentifier(e){return x5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HI}static keyField(){return new St([HI])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(t)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(qe.fromString(e))}static fromName(e){return new _e(qe.fromString(e).popFirst(5))}static empty(){return new _e(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=-1;class lg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function q0(n){return n.fields.find(e=>e.kind===2)}function Jo(n){return n.fields.filter(e=>e.kind!==2)}lg.UNKNOWN_ID=-1;class km{constructor(e,t){this.fieldPath=e,this.kind=t}}class Gd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Gd(0,xr.min())}}function dx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(r===1e9?new It(t+1,0):new It(t,r));return new xr(i,_e.empty(),e)}function fx(n){return new xr(n.readTime,n.key,tc)}class xr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xr(Re.min(),_e.empty(),tc)}static max(){return new xr(Re.max(),_e.empty(),tc)}}function pb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==px)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},d=>r(d))}),u=!0,o===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next(g=>{u[f]=g,++h,h===o&&r(u)},g=>i(g))}})}static doWhile(e,t){return new X((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="SimpleDb";class Xg{static open(e,t,r,i){try{return new Xg(t,e.transaction(i,r))}catch(o){throw new xd(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Vn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new xd(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=mb(r.target.error);this.m.reject(new xd(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(pe(Tr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new D5(t)}}class qi{static delete(e){return pe(Tr,"Removing database:",e),el(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Fd())return!1;if(qi.v())return!0;const e=Vt(),t=qi.C(e),r=0<t&&t<10,i=gx(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,qi.C(Vt())===12.2&&Wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(pe(Tr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const u=o.target.result;t(u)},i.onblocked=()=>{r(new xd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new de(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new de(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new xd(e,u))},i.onupgradeneeded=o=>{pe(Tr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.O.B(u,i.transaction,o.oldVersion,this.version).next(()=>{pe(Tr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.N(e);const h=Xg.open(this.db,e,o?"readonly":"readwrite",r),d=i(h).next(f=>(h.S(),f)).catch(f=>(h.abort(f),X.reject(f))).toPromise();return d.catch(()=>{}),await h.p,d}catch(h){const d=h,f=d.name!=="FirebaseError"&&u<3;if(pe(Tr,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function gx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class O5{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return el(this.q.delete())}}class xd extends de{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fo(n){return n.name==="IndexedDbTransactionError"}class D5{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(pe(Tr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(pe(Tr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),el(r)}add(e){return pe(Tr,"ADD",this.store.name,e,e),el(this.store.add(e))}get(e){return el(this.store.get(e)).next(t=>(t===void 0&&(t=null),pe(Tr,"GET",this.store.name,e,t),t))}delete(e){return pe(Tr,"DELETE",this.store.name,e),el(this.store.delete(e))}count(){return pe(Tr,"COUNT",this.store.name),el(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new X((u,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{u(d.target.result)}})}{const o=this.cursor(r),u=[];return this.j(o,(h,d)=>{u.push(d)}).next(()=>u)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,t){pe(Tr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(o,u,h)=>h.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new X((r,i)=>{t.onerror=o=>{const u=mb(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}j(e,t){const r=[];return new X((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const d=new O5(h),f=t(h.primaryKey,h.value,d);if(f instanceof X){const g=f.catch(_=>(d.done(),X.reject(_)));r.push(g)}d.isDone?i():d.U===null?h.continue():h.continue(d.U)}}).next(()=>X.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function el(n){return new X((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=mb(r.target.error);t(i)}})}let $I=!1;function mb(n){const e=qi.C(Vt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $I||($I=!0,setTimeout(()=>{throw r},0)),r}}return n}const Od="IndexBackfiller";class k5{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){pe(Od,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();pe(Od,`Documents written: ${t}`)}catch(t){fo(t)?pe(Od,"Ignoring IndexedDB error during index backfill: ",t):await ho(t)}await this.te(6e4)})}}class N5{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,o=!0;return X.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return pe(Od,`Processing collection: ${u}`),this.ie(e,u,i).next(h=>{i-=h,r.add(u)});o=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.se(i,o)).next(h=>(pe(Od,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}se(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=fx(o);pb(u,r)>0&&(r=u)}),new xr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}lr.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=-1;function Tf(n){return n==null}function Kd(n){return n===0&&1/n==-1/0}function yx(n){return typeof n=="number"&&Number.isInteger(n)&&!Kd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="";function $n(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=GI(e)),e=V5(n.get(t),e);return GI(e)}function V5(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case ug:t+="";break;default:t+=o}}return t}function GI(n){return n+ug+""}function Fi(n){const e=n.length;if(Ae(e>=2),e===2)return Ae(n.charAt(0)===ug&&n.charAt(1)===""),qe.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf(ug,o);switch((u<0||u>t)&&we(),n.charAt(u+1)){case"":const h=n.substring(o,u);let d;i.length===0?d=h:(i+=h,d=i,i=""),r.push(d);break;case"":i+=n.substring(o,u),i+="\0";break;case"":i+=n.substring(o,u+1);break;default:we()}o=u+2}return new qe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="remoteDocuments",Sf="owner",wu="owner",Wd="mutationQueues",M5="userId",li="mutations",KI="batchId",al="userMutationsIndex",WI=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(n,e){return[n,$n(e)]}function _x(n,e,t){return[n,$n(e),t]}const L5={},nc="documentMutations",cg="remoteDocumentsV14",U5=["prefixPath","collectionGroup","readTime","documentId"],Vm="documentKeyIndex",B5=["prefixPath","collectionGroup","documentId"],vx="collectionGroupIndex",F5=["collectionGroup","readTime","prefixPath","documentId"],Qd="remoteDocumentGlobal",H0="remoteDocumentGlobalKey",rc="targets",Ex="queryTargetsIndex",j5=["canonicalId","targetId"],ic="targetDocuments",z5=["targetId","path"],gb="documentTargetsIndex",q5=["path","targetId"],hg="targetGlobalKey",dl="targetGlobal",Yd="collectionParents",H5=["collectionId","parent"],sc="clientMetadata",$5="clientId",Jg="bundles",G5="bundleId",Zg="namedQueries",K5="name",yb="indexConfiguration",W5="indexId",$0="collectionGroupIndex",Q5="collectionGroup",dg="indexState",Y5=["indexId","uid"],bx="sequenceNumberIndex",X5=["uid","sequenceNumber"],fg="indexEntries",J5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wx="documentKeyIndex",Z5=["indexId","uid","orderedDocumentKey"],ey="documentOverlays",eB=["userId","collectionPath","documentId"],G0="collectionPathOverlayIndex",tB=["userId","collectionPath","largestBatchId"],Tx="collectionGroupOverlayIndex",nB=["userId","collectionGroup","largestBatchId"],_b="globals",rB="name",Sx=[Wd,li,nc,Zo,rc,Sf,dl,ic,sc,Qd,Yd,Jg,Zg],iB=[...Sx,ey],Ax=[Wd,li,nc,cg,rc,Sf,dl,ic,sc,Qd,Yd,Jg,Zg,ey],Ix=Ax,vb=[...Ix,yb,dg,fg],sB=vb,aB=[...vb,_b];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends mx{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function gn(n,e){const t=Ee(n);return qi.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function po(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Rx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||Dn.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mm(this.root,e,this.comparator,!1)}getReverseIterator(){return new mm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mm(this.root,e,this.comparator,!0)}}class mm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Dn.RED,this.left=i??Dn.EMPTY,this.right=o??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Dn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new YI(this.data.getIterator())}getIteratorFrom(e){return new YI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lt(this.comparator);return t.data=e,t}}class YI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new ur([])}unionWith(e){let t=new lt(St.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ur(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Cx("Invalid base64 string: "+o):o}}(e);return new qt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const lB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(n){if(Ae(!!n),typeof n=="string"){let e=0;const t=lB.exec(n);if(Ae(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bs(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="server_timestamp",xx="__type__",Ox="__previous_value__",Dx="__local_write_time__";function ty(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[xx])===null||t===void 0?void 0:t.stringValue)===Px}function ny(n){const e=n.mapValue.fields[Ox];return ty(e)?ny(e):e}function Xd(n){const e=Us(n.mapValue.fields[Dx].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,t,r,i,o,u,h,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=f}}const W0="(default)";class Ya{constructor(e,t){this.projectId=e,this.database=t||W0}static empty(){return new Ya("","")}get isDefaultDatabase(){return this.database===W0}isEqual(e){return e instanceof Ya&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="__type__",kx="__max__",La={mapValue:{fields:{__type__:{stringValue:kx}}}},bb="__vector__",ac="value",Mm={nullValue:"NULL_VALUE"};function Xa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ty(n)?4:Nx(n)?9007199254740991:ry(n)?10:11:we()}function Qi(n,e){if(n===e)return!0;const t=Xa(n);if(t!==Xa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xd(n).isEqual(Xd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Us(i.timestampValue),h=Us(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Bs(i.bytesValue).isEqual(Bs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=wt(i.doubleValue),h=wt(o.doubleValue);return u===h?Kd(u)===Kd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return ec(n.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(QI(u)!==QI(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Qi(u[d],h[d])))return!1;return!0}(n,e);default:return we()}}function Jd(n,e){return(n.values||[]).find(t=>Qi(t,e))!==void 0}function Ja(n,e){if(n===e)return 0;const t=Xa(n),r=Xa(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=wt(o.integerValue||o.doubleValue),d=wt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return XI(n.timestampValue,e.timestampValue);case 4:return XI(Xd(n),Xd(e));case 5:return ke(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Bs(o),d=Bs(u);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),d=u.split("/");for(let f=0;f<h.length&&f<d.length;f++){const g=ke(h[f],d[f]);if(g!==0)return g}return ke(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=ke(wt(o.latitude),wt(u.latitude));return h!==0?h:ke(wt(o.longitude),wt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return JI(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,d,f,g;const _=o.fields||{},v=u.fields||{},T=(h=_[ac])===null||h===void 0?void 0:h.arrayValue,w=(d=v[ac])===null||d===void 0?void 0:d.arrayValue,I=ke(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0);return I!==0?I:JI(T,w)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===La.mapValue&&u===La.mapValue)return 0;if(o===La.mapValue)return 1;if(u===La.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),f=u.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const v=ke(d[_],g[_]);if(v!==0)return v;const T=Ja(h[d[_]],f[g[_]]);if(T!==0)return T}return ke(d.length,g.length)}(n.mapValue,e.mapValue);default:throw we()}}function XI(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Us(n),r=Us(e),i=ke(t.seconds,r.seconds);return i!==0?i:ke(t.nanos,r.nanos)}function JI(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Ja(t[i],r[i]);if(o)return o}return ke(t.length,r.length)}function oc(n){return Q0(n)}function Q0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Us(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Bs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Q0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${Q0(t.fields[u])}`;return i+"}"}(n.mapValue):we()}function Lm(n){switch(Xa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ny(n);return e?16+Lm(e):16;case 5:return 2*n.stringValue.length;case 6:return Bs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Lm(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return po(r.fields,(o,u)=>{i+=o.length+Lm(u)}),i}(n.mapValue);default:throw we()}}function ml(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Y0(n){return!!n&&"integerValue"in n}function Zd(n){return!!n&&"arrayValue"in n}function ZI(n){return!!n&&"nullValue"in n}function eR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Um(n){return!!n&&"mapValue"in n}function ry(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Eb])===null||t===void 0?void 0:t.stringValue)===bb}function Dd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return po(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Dd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Nx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===kx}const Vx={mapValue:{fields:{[Eb]:{stringValue:bb},[ac]:{arrayValue:{}}}}};function cB(n){return"nullValue"in n?Mm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ml(Ya.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?ry(n)?Vx:{mapValue:{}}:we()}function hB(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ml(Ya.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?Vx:"mapValue"in n?ry(n)?{mapValue:{}}:La:we()}function tR(n,e){const t=Ja(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function nR(n,e){const t=Ja(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Um(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dd(t)}setAll(e){let t=St.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Dd(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Um(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Um(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){po(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Nn(Dd(this.value))}}function Mx(n){const e=[];return po(n.fields,(t,r)=>{const i=new St([t]);if(Um(r)){const o=Mx(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t,r,i,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new vt(e,0,Re.min(),Re.min(),Re.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,i){return new vt(e,1,t,Re.min(),r,i,0)}static newNoDocument(e,t){return new vt(e,2,t,Re.min(),Re.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,Re.min(),Re.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t){this.position=e,this.inclusive=t}}function rR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=Ja(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t="asc"){this.field=e,this.dir=t}}function dB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{}class He extends Lx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new fB(e,t,r):t==="array-contains"?new gB(e,r):t==="in"?new qx(e,r):t==="not-in"?new yB(e,r):t==="array-contains-any"?new _B(e,r):new He(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new pB(e,r):new mB(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ja(t,this.value)):t!==null&&Xa(this.value)===Xa(t)&&this.matchesComparison(Ja(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends Lx{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ot(e,t)}matches(e){return lc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function lc(n){return n.op==="and"}function X0(n){return n.op==="or"}function wb(n){return Ux(n)&&lc(n)}function Ux(n){for(const e of n.filters)if(e instanceof ot)return!1;return!0}function J0(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+oc(n.value);if(wb(n))return n.filters.map(e=>J0(e)).join(",");{const e=n.filters.map(t=>J0(t)).join(",");return`${n.op}(${e})`}}function Bx(n,e){return n instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&Qi(r.value,i.value)}(n,e):n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,h)=>o&&Bx(u,i.filters[h]),!0):!1}(n,e):void we()}function Fx(n,e){const t=n.filters.concat(e);return ot.create(t,n.op)}function jx(n){return n instanceof He?function(t){return`${t.field.canonicalString()} ${t.op} ${oc(t.value)}`}(n):n instanceof ot?function(t){return t.op.toString()+" {"+t.getFilters().map(jx).join(" ,")+"}"}(n):"Filter"}class fB extends He{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class pB extends He{constructor(e,t){super(e,"in",t),this.keys=zx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mB extends He{constructor(e,t){super(e,"not-in",t),this.keys=zx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class gB extends He{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zd(t)&&Jd(t.arrayValue,this.value)}}class qx extends He{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Jd(this.value.arrayValue,t)}}class yB extends He{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Jd(this.value.arrayValue,t)}}class _B extends He{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Jd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.le=null}}function Z0(n,e=null,t=[],r=[],i=null,o=null,u=null){return new vB(n,e,t,r,i,o,u)}function gl(n){const e=Ee(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>J0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>oc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>oc(r)).join(",")),e.le=t}return e.le}function Af(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Bx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iR(n.startAt,e.startAt)&&iR(n.endAt,e.endAt)}function pg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function mg(n,e){return n.filters.filter(t=>t instanceof He&&t.field.isEqual(e))}function sR(n,e,t){let r=Mm,i=!0;for(const o of mg(n,e)){let u=Mm,h=!0;switch(o.op){case"<":case"<=":u=cB(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Mm}tR({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];tR({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}function aR(n,e,t){let r=La,i=!0;for(const o of mg(n,e)){let u=La,h=!0;switch(o.op){case">=":case">":u=hB(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=La}nR({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];nR({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Hx(n,e,t,r,i,o,u,h){return new $s(n,e,t,r,i,o,u,h)}function Rc(n){return new $s(n)}function oR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Tb(n){return n.collectionGroup!==null}function Hu(n){const e=Ee(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new lt(St.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(h=h.add(f.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new ef(o,r))}),t.has(St.keyField().canonicalString())||e.he.push(new ef(St.keyField(),r))}return e.he}function tr(n){const e=Ee(n);return e.Pe||(e.Pe=EB(e,Hu(n))),e.Pe}function EB(n,e){if(n.limitType==="F")return Z0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ef(i.field,o)});const t=n.endAt?new Za(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Za(n.startAt.position,n.startAt.inclusive):null;return Z0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function eE(n,e){const t=n.filters.concat([e]);return new $s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gg(n,e,t){return new $s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function If(n,e){return Af(tr(n),tr(e))&&n.limitType===e.limitType}function $x(n){return`${gl(tr(n))}|lt:${n.limitType}`}function Vu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>jx(i)).join(", ")}]`),Tf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>oc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>oc(i)).join(",")),`Target(${r})`}(tr(n))}; limitType=${n.limitType})`}function Rf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Hu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,h,d){const f=rR(u,h,d);return u.inclusive?f<=0:f<0}(r.startAt,Hu(r),i)||r.endAt&&!function(u,h,d){const f=rR(u,h,d);return u.inclusive?f>=0:f>0}(r.endAt,Hu(r),i))}(n,e)}function Gx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Kx(n){return(e,t)=>{let r=!1;for(const i of Hu(n)){const o=bB(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function bB(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,u,h){const d=u.data.field(o),f=h.data.field(o);return d!==null&&f!==null?Ja(d,f):we()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Rx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=new yt(_e.comparator);function cr(){return wB}const Wx=new yt(_e.comparator);function bd(...n){let e=Wx;for(const t of n)e=e.insert(t.key,t);return e}function Qx(n){let e=Wx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ji(){return kd()}function Yx(){return kd()}function kd(){return new Gs(n=>n.toString(),(n,e)=>n.isEqual(e))}const TB=new yt(_e.comparator),SB=new lt(_e.comparator);function Me(...n){let e=SB;for(const t of n)e=e.add(t);return e}const AB=new lt(ke);function Sb(){return AB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kd(e)?"-0":e}}function Xx(n){return{integerValue:""+n}}function Jx(n,e){return yx(e)?Xx(e):Ab(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this._=void 0}}function IB(n,e,t){return n instanceof uc?function(i,o){const u={fields:{[xx]:{stringValue:Px},[Dx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ty(o)&&(o=ny(o)),o&&(u.fields[Ox]=o),{mapValue:u}}(t,e):n instanceof yl?eO(n,e):n instanceof _l?tO(n,e):function(i,o){const u=Zx(i,o),h=lR(u)+lR(i.Ie);return Y0(u)&&Y0(i.Ie)?Xx(h):Ab(i.serializer,h)}(n,e)}function RB(n,e,t){return n instanceof yl?eO(n,e):n instanceof _l?tO(n,e):t}function Zx(n,e){return n instanceof cc?function(r){return Y0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class uc extends iy{}class yl extends iy{constructor(e){super(),this.elements=e}}function eO(n,e){const t=nO(e);for(const r of n.elements)t.some(i=>Qi(i,r))||t.push(r);return{arrayValue:{values:t}}}class _l extends iy{constructor(e){super(),this.elements=e}}function tO(n,e){let t=nO(e);for(const r of n.elements)t=t.filter(i=>!Qi(i,r));return{arrayValue:{values:t}}}class cc extends iy{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function lR(n){return wt(n.integerValue||n.doubleValue)}function nO(n){return Zd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t){this.field=e,this.transform=t}}function CB(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof yl&&i instanceof yl||r instanceof _l&&i instanceof _l?ec(r.elements,i.elements,Qi):r instanceof cc&&i instanceof cc?Qi(r.Ie,i.Ie):r instanceof uc&&i instanceof uc}(n.transform,e.transform)}class PB{constructor(e,t){this.version=e,this.transformResults=t}}class At{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new At}static exists(e){return new At(void 0,e)}static updateTime(e){return new At(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sy{}function rO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Pc(n.key,At.none()):new Cc(n.key,n.data,At.none());{const t=n.data,r=Nn.empty();let i=new lt(St.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new Ks(n.key,r,new ur(i.toArray()),At.none())}}function xB(n,e,t){n instanceof Cc?function(i,o,u){const h=i.value.clone(),d=cR(i.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ks?function(i,o,u){if(!Bm(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=cR(i.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(iO(i)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Nd(n,e,t,r){return n instanceof Cc?function(o,u,h,d){if(!Bm(o.precondition,u))return h;const f=o.value.clone(),g=hR(o.fieldTransforms,d,u);return f.setAll(g),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ks?function(o,u,h,d){if(!Bm(o.precondition,u))return h;const f=hR(o.fieldTransforms,d,u),g=u.data;return g.setAll(iO(o)),g.setAll(f),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,u,h){return Bm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function OB(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=Zx(r.transform,i||null);o!=null&&(t===null&&(t=Nn.empty()),t.set(r.field,o))}return t||null}function uR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ec(r,i,(o,u)=>CB(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Cc extends sy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ks extends sy{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function iO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function cR(n,e,t){const r=new Map;Ae(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,RB(u,h,t[i]))}return r}function hR(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,IB(o,u,e))}return r}class Pc extends sy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ib extends sy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&xB(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Nd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Nd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Yx();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(i.key)?null:h;const d=rO(u,h);d!==null&&r.set(i.key,d),u.isValidDocument()||u.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(t,r)=>uR(t,r))&&ec(this.baseMutations,e.baseMutations,(t,r)=>uR(t,r))}}class Cb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length);let i=function(){return TB}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new Cb(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,Xe;function sO(n){switch(n){case ne.OK:return we();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return we()}}function aO(n){if(n===void 0)return Wt("GRPC error has no .code"),ne.UNKNOWN;switch(n){case rn.OK:return ne.OK;case rn.CANCELLED:return ne.CANCELLED;case rn.UNKNOWN:return ne.UNKNOWN;case rn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case rn.INTERNAL:return ne.INTERNAL;case rn.UNAVAILABLE:return ne.UNAVAILABLE;case rn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case rn.NOT_FOUND:return ne.NOT_FOUND;case rn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case rn.ABORTED:return ne.ABORTED;case rn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case rn.DATA_LOSS:return ne.DATA_LOSS;default:return we()}}(Xe=rn||(rn={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=new za([4294967295,4294967295],0);function dR(n){const e=oO().encode(n),t=new rx;return t.update(e),new Uint8Array(t.digest())}function fR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new za([t,r],0),new za([i,o],0)]}class xb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new wd(`Invalid padding: ${t}`);if(r<0)throw new wd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new wd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=za.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(za.fromNumber(r)));return i.compare(kB)===1&&(i=new za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=dR(e),[r,i]=fR(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);if(!this.Re(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new xb(o,i,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=dR(e),[r,i]=fR(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class wd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,xf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Pf(Re.min(),i,new yt(ke),cr(),Me())}}class xf{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xf(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class lO{constructor(e,t){this.targetId=e,this.ge=t}}class uO{constructor(e,t,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class pR{constructor(){this.pe=0,this.ye=mR(),this.we=qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Me(),t=Me(),r=Me();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:we()}}),new xf(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=mR()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ae(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class NB{constructor(e){this.ke=e,this.qe=new Map,this.Qe=cr(),this.$e=gm(),this.Ke=gm(),this.Ue=new yt(ke)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(pg(o))if(r===0){const u=new _e(o.path);this.ze(t,u,vt.newNoDocument(u,Re.min()))}else Ae(r===1);else{const u=this.et(t);if(u!==r){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,h;try{u=Bs(r).toUint8Array()}catch(d){if(d instanceof Cx)return Wi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new xb(u,i,o)}catch(d){return Wi(d instanceof wd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,u)=>{const h=this.Xe(u);if(h){if(o.current&&pg(h.target)){const d=new _e(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,vt.newNoDocument(d,e))}o.ve&&(t.set(u,o.Fe()),o.Me())}});let r=Me();this.Ke.forEach((o,u)=>{let h=!0;u.forEachWhile(d=>{const f=this.Xe(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const i=new Pf(e,t,this.Ue,this.Qe,r);return this.Qe=cr(),this.$e=gm(),this.Ke=gm(),this.Ue=new yt(ke),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new pR,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new lt(ke),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new lt(ke),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new pR),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function gm(){return new yt(_e.comparator)}function mR(){return new yt(_e.comparator)}const VB={asc:"ASCENDING",desc:"DESCENDING"},MB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LB={and:"AND",or:"OR"};class UB{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tE(n,e){return n.useProto3Json||Tf(e)?e:{value:e}}function hc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function BB(n,e){return hc(n,e.toTimestamp())}function Qt(n){return Ae(!!n),Re.fromTimestamp(function(t){const r=Us(t);return new It(r.seconds,r.nanos)}(n))}function Ob(n,e){return nE(n,e).canonicalString()}function nE(n,e){const t=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function hO(n){const e=qe.fromString(n);return Ae(bO(e)),e}function tf(n,e){return Ob(n.databaseId,e.path)}function Hi(n,e){const t=hO(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(pO(t))}function dO(n,e){return Ob(n.databaseId,e)}function fO(n){const e=hO(n);return e.length===4?qe.emptyPath():pO(e)}function rE(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pO(n){return Ae(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function gR(n,e,t){return{name:tf(n,e),fields:t.value.mapValue.fields}}function mO(n,e,t){const r=Hi(n,e.name),i=Qt(e.updateTime),o=e.createTime?Qt(e.createTime):Re.min(),u=new Nn({mapValue:{fields:e.fields}}),h=vt.newFoundDocument(r,i,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function FB(n,e){return"found"in e?function(r,i){Ae(!!i.found),i.found.name,i.found.updateTime;const o=Hi(r,i.found.name),u=Qt(i.found.updateTime),h=i.found.createTime?Qt(i.found.createTime):Re.min(),d=new Nn({mapValue:{fields:i.found.fields}});return vt.newFoundDocument(o,u,h,d)}(n,e):"missing"in e?function(r,i){Ae(!!i.missing),Ae(!!i.readTime);const o=Hi(r,i.missing),u=Qt(i.readTime);return vt.newNoDocument(o,u)}(n,e):we()}function jB(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(Ae(g===void 0||typeof g=="string"),qt.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array),qt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(f){const g=f.code===void 0?ne.UNKNOWN:aO(f.code);return new de(g,f.message||"")}(u);t=new uO(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hi(n,r.document.name),o=Qt(r.document.updateTime),u=r.document.createTime?Qt(r.document.createTime):Re.min(),h=new Nn({mapValue:{fields:r.document.fields}}),d=vt.newFoundDocument(i,o,u,h),f=r.targetIds||[],g=r.removedTargetIds||[];t=new Fm(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hi(n,r.document),o=r.readTime?Qt(r.readTime):Re.min(),u=vt.newNoDocument(i,o),h=r.removedTargetIds||[];t=new Fm([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hi(n,r.document),o=r.removedTargetIds||[];t=new Fm([],o,i,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new DB(i,o),h=r.targetId;t=new lO(h,u)}}return t}function nf(n,e){let t;if(e instanceof Cc)t={update:gR(n,e.key,e.value)};else if(e instanceof Pc)t={delete:tf(n,e.key)};else if(e instanceof Ks)t={update:gR(n,e.key,e.data),updateMask:KB(e.fieldMask)};else{if(!(e instanceof Ib))return we();t={verify:tf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof uc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof yl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof _l)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof cc)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw we()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:BB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(n,e.precondition)),t}function iE(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?At.updateTime(Qt(o.updateTime)):o.exists!==void 0?At.exists(o.exists):At.none()}(e.currentDocument):At.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,h){let d=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME"),d=new uc;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];d=new yl(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];d=new _l(g)}else"increment"in h?d=new cc(u,h.increment):we();const f=St.fromServerFormat(h.fieldPath);return new Cf(f,d)}(n,i)):[];if(e.update){e.update.name;const i=Hi(n,e.update.name),o=new Nn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(d){const f=d.fieldPaths||[];return new ur(f.map(g=>St.fromServerFormat(g)))}(e.updateMask);return new Ks(i,o,u,t,r)}return new Cc(i,o,t,r)}if(e.delete){const i=Hi(n,e.delete);return new Pc(i,t)}if(e.verify){const i=Hi(n,e.verify);return new Ib(i,t)}return we()}function zB(n,e){return n&&n.length>0?(Ae(e!==void 0),n.map(t=>function(i,o){let u=i.updateTime?Qt(i.updateTime):Qt(o);return u.isEqual(Re.min())&&(u=Qt(o)),new PB(u,i.transformResults||[])}(t,e))):[]}function gO(n,e){return{documents:[dO(n,e.path)]}}function yO(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=dO(n,i);const o=function(f){if(f.length!==0)return EO(ot.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(f){if(f.length!==0)return f.map(g=>function(v){return{field:Mu(v.field),direction:HB(v.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=tE(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:i}}function _O(n){let e=fO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ae(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=vO(_);return v instanceof ot&&wb(v)?v.getFilters():[v]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(v=>function(w){return new ef(Lu(w.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v))}(t.orderBy));let h=null;t.limit&&(h=function(_){let v;return v=typeof _=="object"?_.value:_,Tf(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(_){const v=!!_.before,T=_.values||[];return new Za(T,v)}(t.startAt));let f=null;return t.endAt&&(f=function(_){const v=!_.before,T=_.values||[];return new Za(T,v)}(t.endAt)),Hx(e,i,u,o,h,"F",d,f)}function qB(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function vO(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Lu(t.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lu(t.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Lu(t.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Lu(t.unaryFilter.field);return He.create(u,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(n):n.fieldFilter!==void 0?function(t){return He.create(Lu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ot.create(t.compositeFilter.filters.map(r=>vO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(n):we()}function HB(n){return VB[n]}function $B(n){return MB[n]}function GB(n){return LB[n]}function Mu(n){return{fieldPath:n.canonicalString()}}function Lu(n){return St.fromServerFormat(n.fieldPath)}function EO(n){return n instanceof He?function(t){if(t.op==="=="){if(eR(t.value))return{unaryFilter:{field:Mu(t.field),op:"IS_NAN"}};if(ZI(t.value))return{unaryFilter:{field:Mu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(eR(t.value))return{unaryFilter:{field:Mu(t.field),op:"IS_NOT_NAN"}};if(ZI(t.value))return{unaryFilter:{field:Mu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mu(t.field),op:$B(t.op),value:t.value}}}(n):n instanceof ot?function(t){const r=t.getFilters().map(i=>EO(i));return r.length===1?r[0]:{compositeFilter:{op:GB(t.op),filters:r}}}(n):we()}function KB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,r,i,o=Re.min(),u=Re.min(),h=qt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.Tt=e}}function WB(n,e){let t;if(e.document)t=mO(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=El(e.noDocument.readTime);t=vt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we();{const r=_e.fromSegments(e.unknownDocument.path),i=El(e.unknownDocument.version);t=vt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new It(i[0],i[1]);return Re.fromTimestamp(o)}(e.readTime)),t}function yR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:yg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:tf(o,u.key),fields:u.data.value.mapValue.fields,updateTime:hc(o,u.version.toTimestamp()),createTime:hc(o,u.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:vl(e.version)};else{if(!e.isUnknownDocument())return we();r.unknownDocument={path:t.path.toArray(),version:vl(e.version)}}return r}function yg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function vl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function El(n){const e=new It(n.seconds,n.nanoseconds);return Re.fromTimestamp(e)}function tl(n,e){const t=(e.baseMutations||[]).map(o=>iE(n.Tt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>iE(n.Tt,o)),i=It.fromMillis(e.localWriteTimeMs);return new Rb(e.batchId,i,t,r)}function Td(n){const e=El(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?El(n.lastLimboFreeSnapshotVersion):Re.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return Ae(o.documents.length===1),tr(Rc(fO(o.documents[0])))}(n.query):function(o){return tr(_O(o))}(n.query),new Os(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,qt.fromBase64String(n.resumeToken))}function TO(n,e){const t=vl(e.snapshotVersion),r=vl(e.lastLimboFreeSnapshotVersion);let i;i=pg(e.target)?gO(n.Tt,e.target):yO(n.Tt,e.target).ht;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:gl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Db(n){const e=_O({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gg(e,e.limit,"L"):e}function a0(n,e){return new Pb(e.largestBatchId,iE(n.Tt,e.overlayMutation))}function _R(n,e){const t=e.path.lastSegment();return[n,$n(e.path.popLast()),t]}function vR(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:vl(r.readTime),documentKey:$n(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{getBundleMetadata(e,t){return ER(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:El(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return ER(e).put(function(i){return{bundleId:i.id,createTime:vl(Qt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return bR(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:Db(o.bundledQuery),readTime:El(o.readTime)}}(r)})}saveNamedQuery(e,t){return bR(e).put(function(i){return{name:i.name,readTime:vl(Qt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function ER(n){return gn(n,Jg)}function bR(n){return gn(n,Zg)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new ay(e,r)}getOverlay(e,t){return Yh(e).get(_R(this.userId,t)).next(r=>r?a0(this.serializer,r):null)}getOverlays(e,t){const r=ji();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const h=new Pb(t,u);i.push(this.Et(e,h))}),X.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add($n(u.getCollectionPath())));const o=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(Yh(e).J(G0,h))}),X.waitFor(o)}getOverlaysForCollection(e,t,r){const i=ji(),o=$n(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Yh(e).G(G0,u).next(h=>{for(const d of h){const f=a0(this.serializer,d);i.set(f.getKey(),f)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=ji();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Yh(e).Z({index:Tx,range:h},(d,f,g)=>{const _=a0(this.serializer,f);o.size()<i||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):g.done()}).next(()=>o)}Et(e,t){return Yh(e).put(function(i,o,u){const[h,d,f]=_R(o,u.mutation.key);return{userId:o,collectionPath:d,documentId:f,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:nf(i.Tt,u.mutation)}}(this.serializer,this.userId,t))}}function Yh(n){return gn(n,ey)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{dt(e){return gn(e,_b)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?qt.fromUint8Array(r):qt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(wt(e.integerValue));else if("doubleValue"in e){const r=wt(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Kd(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Us(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Bs(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?Nx(e)?this.ft(t,Number.MAX_SAFE_INTEGER):ry(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):we()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const o=e.fields||{};this.ft(t,53);const u=ac,h=((i=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(wt(h)),this.wt(u,t),this.Rt(o[u],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}nl.xt=new nl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=255;function XB(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function wR(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const u=XB(255&r[o]);if(i+=u,u!==8)break}return i}(n);return Math.ceil(e/8)}class JB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=wR(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=wR(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(Su),this.jt(255)}Ht(){this.Jt(Su),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===Su?(this.jt(Su),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===Su?(this.Jt(Su),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class ZB{constructor(e){this.Zt=e}St(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class eF{constructor(e){this.Zt=e}St(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class Xh{constructor(){this.Zt=new JB,this.Xt=new ZB(this.Zt),this.en=new eF(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new rl(this.indexId,this.documentKey,this.arrayValue,r)}}function Oa(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=TR(n.arrayValue,e.arrayValue),t!==0?t:(t=TR(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function TR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.rn=new lt((t,r)=>St.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Ae(e.collectionGroup===this.collectionId),this.an)return!1;const t=q0(e);if(t!==void 0&&!this.cn(t))return!1;const r=Jo(e);let i=new Set,o=0,u=0;for(;o<r.length&&this.cn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.rn.size>0){const h=this.rn.getIterator().getNext();if(!i.has(h.field.canonicalString())){const d=r[o];if(!this.ln(h,d)||!this.hn(this.sn[u++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.sn.length||!this.hn(this.sn[u++],h))return!1}return!0}Pn(){if(this.an)return null;let e=new lt(St.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new km(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new km(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new km(r.field,r.dir==="asc"?0:1)));return new lg(lg.UNKNOWN_ID,this.collectionId,t,Gd.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(n){var e,t;if(Ae(n instanceof He||n instanceof ot),n instanceof He){if(n instanceof qx){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>He.create(n.field,"==",o)))||[];return ot.create(i,"or")}return n}const r=n.filters.map(i=>SO(i));return ot.create(r,n.op)}function tF(n){if(n.getFilters().length===0)return[];const e=oE(SO(n));return Ae(AO(e)),sE(e)||aE(e)?[e]:e.getFilters()}function sE(n){return n instanceof He}function aE(n){return n instanceof ot&&wb(n)}function AO(n){return sE(n)||aE(n)||function(t){if(t instanceof ot&&X0(t)){for(const r of t.getFilters())if(!sE(r)&&!aE(r))return!1;return!0}return!1}(n)}function oE(n){if(Ae(n instanceof He||n instanceof ot),n instanceof He)return n;if(n.filters.length===1)return oE(n.filters[0]);const e=n.filters.map(r=>oE(r));let t=ot.create(e,n.op);return t=_g(t),AO(t)?t:(Ae(t instanceof ot),Ae(lc(t)),Ae(t.filters.length>1),t.filters.reduce((r,i)=>kb(r,i)))}function kb(n,e){let t;return Ae(n instanceof He||n instanceof ot),Ae(e instanceof He||e instanceof ot),t=n instanceof He?e instanceof He?function(i,o){return ot.create([i,o],"and")}(n,e):AR(n,e):e instanceof He?AR(e,n):function(i,o){if(Ae(i.filters.length>0&&o.filters.length>0),lc(i)&&lc(o))return Fx(i,o.getFilters());const u=X0(i)?i:o,h=X0(i)?o:i,d=u.filters.map(f=>kb(f,h));return ot.create(d,"or")}(n,e),_g(t)}function AR(n,e){if(lc(e))return Fx(e,n.getFilters());{const t=e.filters.map(r=>kb(n,r));return ot.create(t,"or")}}function _g(n){if(Ae(n instanceof He||n instanceof ot),n instanceof He)return n;const e=n.getFilters();if(e.length===1)return _g(e[0]);if(Ux(n))return n;const t=e.map(i=>_g(i)),r=[];return t.forEach(i=>{i instanceof He?r.push(i):i instanceof ot&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ot.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(){this.Tn=new Nb}addToCollectionParentIndex(e,t){return this.Tn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(xr.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Nb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lt(qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="IndexedDbIndexManager",ym=new Uint8Array(0);class rF{constructor(e,t){this.databaseId=t,this.In=new Nb,this.En=new Gs(r=>gl(r),(r,i)=>Af(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const o={collectionId:r,parent:$n(i)};return RR(e).put(o)}return X.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[hx(t),""],!1,!0);return RR(e).G(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(Fi(u.parent))}return r})}addFieldIndex(e,t){const r=Jh(e),i=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const u=Iu(e);return o.next(h=>{u.put(vR(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=Jh(e),i=Iu(e),o=Au(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Jh(e),r=Au(e),i=Iu(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return X.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new SR(r).Pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Au(e);let i=!0;const o=new Map;return X.forEach(this.dn(t),u=>this.An(e,u).next(h=>{i&&(i=!!h),o.set(u,h)})).next(()=>{if(i){let u=Me();const h=[];return X.forEach(o,(d,f)=>{pe(IR,`Using index ${function(L){return`id=${L.indexId}|cg=${L.collectionGroup}|f=${L.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`}(d)} to execute ${gl(t)}`);const g=function(L,$){const F=q0($);if(F===void 0)return null;for(const H of mg(L,F.fieldPath))switch(H.op){case"array-contains-any":return H.value.arrayValue.values||[];case"array-contains":return[H.value]}return null}(f,d),_=function(L,$){const F=new Map;for(const H of Jo($))for(const V of mg(L,H.fieldPath))switch(V.op){case"==":case"in":F.set(H.fieldPath.canonicalString(),V.value);break;case"not-in":case"!=":return F.set(H.fieldPath.canonicalString(),V.value),Array.from(F.values())}return null}(f,d),v=function(L,$){const F=[];let H=!0;for(const V of Jo($)){const C=V.kind===0?sR(L,V.fieldPath,L.startAt):aR(L,V.fieldPath,L.startAt);F.push(C.value),H&&(H=C.inclusive)}return new Za(F,H)}(f,d),T=function(L,$){const F=[];let H=!0;for(const V of Jo($)){const C=V.kind===0?aR(L,V.fieldPath,L.endAt):sR(L,V.fieldPath,L.endAt);F.push(C.value),H&&(H=C.inclusive)}return new Za(F,H)}(f,d),w=this.Rn(d,f,v),I=this.Rn(d,f,T),P=this.Vn(d,f,_),U=this.mn(d.indexId,g,w,v.inclusive,I,T.inclusive,P);return X.forEach(U,M=>r.H(M,t.limit).next(L=>{L.forEach($=>{const F=_e.fromSegments($.documentKey);u.has(F)||(u=u.add(F),h.push(F))})}))}).next(()=>h)}return X.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=tF(ot.create(e.filters,"and")).map(r=>Z0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,o,u,h){const d=(t!=null?t.length:1)*Math.max(r.length,o.length),f=d/(t!=null?t.length:1),g=[];for(let _=0;_<d;++_){const v=t?this.fn(t[_/f]):ym,T=this.gn(e,v,r[_%f],i),w=this.pn(e,v,o[_%f],u),I=h.map(P=>this.gn(e,v,P,!0));g.push(...this.createRange(T,w,I))}return g}gn(e,t,r,i){const o=new rl(e,_e.empty(),t,r);return i?o:o.nn()}pn(e,t,r,i){const o=new rl(e,_e.empty(),t,r);return i?o.nn():o}An(e,t){const r=new SR(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const h of o)r.un(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.dn(t);return X.forEach(i,o=>this.An(e,o).next(u=>{u?r!==0&&u.fields.length<function(d){let f=new lt(St.comparator),g=!1;for(const _ of d.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:f=f.add(v.field));for(const _ of d.orderBy)_.field.isKeyField()||(f=f.add(_.field));return f.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new Xh;for(const i of Jo(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const u=r.tn(i.kind);nl.xt.At(o,u)}return r.Yt()}fn(e){const t=new Xh;return nl.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new Xh;return nl.xt.At(ml(this.databaseId,t),r.tn(function(o){const u=Jo(o);return u.length===0?0:u[u.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new Xh);let o=0;for(const u of Jo(e)){const h=r[o++];for(const d of i)if(this.bn(t,u.fieldPath)&&Zd(h))i=this.Sn(i,u,h);else{const f=d.tn(u.kind);nl.xt.At(h,f)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}Sn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of i){const d=new Xh;d.seed(h.Yt()),nl.xt.At(u,d.tn(t.kind)),o.push(d)}return o}bn(e,t){return!!e.filters.find(r=>r instanceof He&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Jh(e),i=Iu(e);return(t?r.G($0,IDBKeyRange.bound(t,t)):r.G()).next(o=>{const u=[];return X.forEach(o,h=>i.get([h.indexId,this.uid]).next(d=>{u.push(function(g,_){const v=_?new Gd(_.sequenceNumber,new xr(El(_.readTime),new _e(Fi(_.documentKey)),_.largestBatchId)):Gd.empty(),T=g.fields.map(([w,I])=>new km(St.fromServerFormat(w),I));return new lg(g.indexId,g.collectionGroup,T,v)}(h,d))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ke(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Jh(e),o=Iu(e);return this.vn(e).next(u=>i.G($0,IDBKeyRange.bound(t,t)).next(h=>X.forEach(h,d=>o.put(vR(d.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?X.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),X.forEach(h,d=>this.Cn(e,i,d).next(f=>{const g=this.Fn(o,d);return f.isEqual(g)?X.resolve():this.Mn(e,o,d,f,g)}))))})}xn(e,t,r,i){return Au(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return Au(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=Au(e);let o=new lt(Oa);return i.Z({index:wx,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(u,h)=>{o=o.add(new rl(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}Fn(e,t){let r=new lt(Oa);const i=this.yn(t,e);if(i==null)return r;const o=q0(t);if(o!=null){const u=e.data.field(o.fieldPath);if(Zd(u))for(const h of u.arrayValue.values||[])r=r.add(new rl(t.indexId,e.key,this.fn(h),i))}else r=r.add(new rl(t.indexId,e.key,ym,i));return r}Mn(e,t,r,i,o){pe(IR,"Updating index entries for document '%s'",t.key);const u=[];return function(d,f,g,_,v){const T=d.getIterator(),w=f.getIterator();let I=Tu(T),P=Tu(w);for(;I||P;){let U=!1,M=!1;if(I&&P){const L=g(I,P);L<0?M=!0:L>0&&(U=!0)}else I!=null?M=!0:U=!0;U?(_(P),P=Tu(w)):M?(v(I),I=Tu(T)):(I=Tu(T),P=Tu(w))}}(i,o,Oa,h=>{u.push(this.xn(e,t,r,h))},h=>{u.push(this.On(e,t,r,h))}),X.waitFor(u)}vn(e){let t=1;return Iu(e).Z({index:bx,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>Oa(u,h)).filter((u,h,d)=>!h||Oa(u,d[h-1])!==0);const i=[];i.push(e);for(const u of r){const h=Oa(u,e),d=Oa(u,t);if(h===0)i[0]=e.nn();else if(h>0&&d<0)i.push(u),i.push(u.nn());else if(d>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.Nn(i[u],i[u+1]))return[];const h=[i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,ym,[]],d=[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,ym,[]];o.push(IDBKeyRange.bound(h,d))}return o}Nn(e,t){return Oa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(CR)}getMinOffset(e,t){return X.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||we())).next(CR)}}function RR(n){return gn(n,Yd)}function Au(n){return gn(n,fg)}function Jh(n){return gn(n,yb)}function Iu(n){return gn(n,dg)}function CR(n){Ae(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;pb(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new xr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IO=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(n,e,t){const r=n.store(li),i=n.store(nc),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const d=r.Z({range:u},(g,_,v)=>(h++,v.delete()));o.push(d.next(()=>{Ae(h===1)}));const f=[];for(const g of t.mutations){const _=_x(e,g.key.path,t.batchId);o.push(i.delete(_)),f.push(g.key)}return X.waitFor(o).next(()=>f)}function vg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(IO,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);class oy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Ae(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new oy(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Da(e).Z({index:al,range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Uu(e),u=Da(e);return u.add({}).next(h=>{Ae(typeof h=="number");const d=new Rb(h,t,r,i),f=function(T,w,I){const P=I.baseMutations.map(M=>nf(T.Tt,M)),U=I.mutations.map(M=>nf(T.Tt,M));return{userId:w,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:P,mutations:U}}(this.serializer,this.userId,d),g=[];let _=new lt((v,T)=>ke(v.canonicalString(),T.canonicalString()));for(const v of i){const T=_x(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),g.push(u.put(f)),g.push(o.put(T,L5))}return _.forEach(v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.Bn[h]=d.keys()}),X.waitFor(g).next(()=>d)})}lookupMutationBatch(e,t){return Da(e).get(t).next(r=>r?(Ae(r.userId===this.userId),tl(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?X.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Da(e).Z({index:al,range:i},(u,h,d)=>{h.userId===this.userId&&(Ae(h.batchId>=r),o=tl(this.serializer,h)),d.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=qa;return Da(e).Z({index:al,range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,qa],[this.userId,Number.POSITIVE_INFINITY]);return Da(e).G(al,t).next(r=>r.map(i=>tl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Nm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Uu(e).Z({range:i},(u,h,d)=>{const[f,g,_]=u,v=Fi(g);if(f===this.userId&&t.path.isEqual(v))return Da(e).get(_).next(T=>{if(!T)throw we();Ae(T.userId===this.userId),o.push(tl(this.serializer,T))});d.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(ke);const i=[];return t.forEach(o=>{const u=Nm(this.userId,o.path),h=IDBKeyRange.lowerBound(u),d=Uu(e).Z({range:h},(f,g,_)=>{const[v,T,w]=f,I=Fi(T);v===this.userId&&o.path.isEqual(I)?r=r.add(w):_.done()});i.push(d)}),X.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=Nm(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new lt(ke);return Uu(e).Z({range:u},(d,f,g)=>{const[_,v,T]=d,w=Fi(v);_===this.userId&&r.isPrefixOf(w)?w.length===i&&(h=h.add(T)):g.done()}).next(()=>this.kn(e,h))}kn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Da(e).get(o).next(u=>{if(u===null)throw we();Ae(u.userId===this.userId),r.push(tl(this.serializer,u))}))}),X.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return RO(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),X.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),i=[];return Uu(e).Z({range:r},(o,u,h)=>{if(o[0]===this.userId){const d=Fi(o[1]);i.push(d)}else h.done()}).next(()=>{Ae(i.length===0)})})}containsKey(e,t){return CO(e,this.userId,t)}Qn(e){return PO(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:qa,lastStreamToken:""})}}function CO(n,e,t){const r=Nm(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Uu(n).Z({range:o,Y:!0},(h,d,f)=>{const[g,_,v]=h;g===e&&_===i&&(u=!0),f.done()}).next(()=>u)}function Da(n){return gn(n,li)}function Uu(n){return gn(n,nc)}function PO(n){return gn(n,Wd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new bl(0)}static Un(){return new bl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new bl(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Re.fromTimestamp(new It(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ru(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Ae(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Ru(e).Z((u,h)=>{const d=Td(h);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,o.push(this.removeTargetData(e,d)))}).next(()=>X.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Ru(e).Z((r,i)=>{const o=Td(i);t(o)})}Wn(e){return xR(e).get(hg).next(t=>(Ae(t!==null),t))}Gn(e,t){return xR(e).put(hg,t)}zn(e,t){return Ru(e).put(TO(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=gl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Ru(e).Z({range:i,index:Ex},(u,h,d)=>{const f=Td(h);Af(t,f.target)&&(o=f,d.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Ma(e);return t.forEach(u=>{const h=$n(u.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),X.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ma(e);return X.forEach(t,o=>{const u=$n(o.path);return X.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Ma(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ma(e);let o=Me();return i.Z({range:r,Y:!0},(u,h,d)=>{const f=Fi(u[1]),g=new _e(f);o=o.add(g)}).next(()=>o)}containsKey(e,t){const r=$n(t.path),i=IDBKeyRange.bound([r],[hx(r)],!1,!0);let o=0;return Ma(e).Z({index:gb,Y:!0,range:i},([u,h],d,f)=>{u!==0&&(o++,f.done())}).next(()=>o>0)}lt(e,t){return Ru(e).get(t).next(r=>r?Td(r):null)}}function Ru(n){return gn(n,rc)}function xR(n){return gn(n,dl)}function Ma(n){return gn(n,ic)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="LruGarbageCollector",sF=1048576;function DR([n,e],[t,r]){const i=ke(n,t);return i===0?ke(e,r):i}class aF{constructor(e){this.Hn=e,this.buffer=new lt(DR),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();DR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(OR,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fo(t)?pe(OR,"Ignoring IndexedDB error during garbage collection: ",t):await ho(t)}await this.er(3e5)})}}class oF{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(lr.ae);const r=new aF(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(PR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PR):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,u,h,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,u=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(f=Date.now(),Nu()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function OO(n,e){return new oF(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,t){this.db=e,this.garbageCollector=OO(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return _m(e,r)}removeReference(e,t,r){return _m(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return _m(e,t)}ar(e,t){return function(i,o){let u=!1;return PO(i).X(h=>CO(i,h,o).next(d=>(d&&(u=!0),X.resolve(!d)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this._r(e,(u,h)=>{if(h<=t){const d=this.ar(e,u).next(f=>{if(!f)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Re.min()),Ma(e).delete(function(_){return[0,$n(_.path)]}(u))))});i.push(d)}}).next(()=>X.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return _m(e,t)}_r(e,t){const r=Ma(e);let i,o=lr.ae;return r.Z({index:gb},([u,h],{path:d,sequenceNumber:f})=>{u===0?(o!==lr.ae&&t(new _e(Fi(i)),o),o=f,i=d):o=lr.ae}).next(()=>{o!==lr.ae&&t(new _e(Fi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _m(n,e){return Ma(n).put(function(r,i){return{targetId:0,path:$n(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.changes=new Gs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Qo(e).put(r)}removeEntry(e,t,r){return Qo(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],yg(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=vt.newInvalidDocument(t);return Qo(e).Z({index:Vm,range:IDBKeyRange.only(Zh(t))},(i,o)=>{r=this.cr(t,o)}).next(()=>r)}lr(e,t){let r={size:0,document:vt.newInvalidDocument(t)};return Qo(e).Z({index:Vm,range:IDBKeyRange.only(Zh(t))},(i,o)=>{r={document:this.cr(t,o),size:vg(o)}}).next(()=>r)}getEntries(e,t){let r=cr();return this.hr(e,t,(i,o)=>{const u=this.cr(i,o);r=r.insert(i,u)}).next(()=>r)}Pr(e,t){let r=cr(),i=new yt(_e.comparator);return this.hr(e,t,(o,u)=>{const h=this.cr(o,u);r=r.insert(o,h),i=i.insert(o,vg(u))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return X.resolve();let i=new lt(VR);t.forEach(d=>i=i.add(d));const o=IDBKeyRange.bound(Zh(i.first()),Zh(i.last())),u=i.getIterator();let h=u.getNext();return Qo(e).Z({index:Vm,range:o},(d,f,g)=>{const _=_e.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;h&&VR(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,f),h=u.hasNext()?u.getNext():null),h?g.W(Zh(h)):g.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),yg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qo(e).G(IDBKeyRange.bound(h,d,!0)).next(f=>{o==null||o.incrementDocumentReadCount(f.length);let g=cr();for(const _ of f){const v=this.cr(_e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Rf(t,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g})}getAllFromCollectionGroup(e,t,r,i){let o=cr();const u=NR(t,r),h=NR(t,xr.max());return Qo(e).Z({index:vx,range:IDBKeyRange.bound(u,h,!0)},(d,f,g)=>{const _=this.cr(_e.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(_.key,_),o.size===i&&g.done()}).next(()=>o)}newChangeBuffer(e){return new cF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return kR(e).get(H0).next(t=>(Ae(!!t),t))}ur(e,t){return kR(e).put(H0,t)}cr(e,t){if(t){const r=WB(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Re.min())))return r}return vt.newInvalidDocument(e)}}function kO(n){return new uF(n)}class cF extends DO{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new Gs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new lt((o,u)=>ke(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Er.get(o);if(t.push(this.Ir.removeEntry(e,o,h.readTime)),u.isValidDocument()){const d=yR(this.Ir.serializer,u);i=i.add(o.path.popLast());const f=vg(d);r+=f-h.size,t.push(this.Ir.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=yR(this.Ir.serializer,u.convertToNoDocument(Re.min()));t.push(this.Ir.addEntry(e,o,d))}}),i.forEach(o=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Ir.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((o,u)=>{this.Er.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function kR(n){return gn(n,Qd)}function Qo(n){return gn(n,cg)}function Zh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function NR(n,e){const t=e.documentKey.path.toArray();return[n,yg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function VR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=ke(t[o],r[o]),i)return i;return i=ke(t.length,r.length),i||(i=ke(t[t.length-2],r[r.length-2]),i||ke(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Nd(r.mutation,i,ur.empty(),It.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const i=ji();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=bd();return o.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ji();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let o=cr();const u=kd(),h=function(){return kd()}();return t.forEach((d,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof Ks)?o=o.insert(f.key,f):g!==void 0?(u.set(f.key,g.mutation.getFieldMask()),Nd(g.mutation,f,g.mutation.getFieldMask(),It.now())):u.set(f.key,ur.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,g)=>u.set(f,g)),t.forEach((f,g)=>{var _;return h.set(f,new hF(g,(_=u.get(f))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const r=kd();let i=new yt((u,h)=>u-h),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let g=r.get(d)||ur.empty();g=h.applyToLocalView(f,g),r.set(d,g);const _=(i.get(h.batchId)||Me()).add(d);i=i.insert(h.batchId,_)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),f=d.key,g=d.value,_=Yx();g.forEach(v=>{if(!o.has(v)){const T=rO(t.get(v),r.get(v));T!==null&&_.set(v,T),o=o.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,f,_))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Tb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):X.resolve(ji());let h=tc,d=o;return u.next(f=>X.forEach(f,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{d=d.insert(g,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,Me())).next(g=>({batchId:h,changes:Qx(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=bd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=bd();return this.indexManager.getCollectionParents(e,o).next(h=>X.forEach(h,d=>{const f=function(_,v){return new $s(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((d,f)=>{const g=f.getKey();u.get(g)===null&&(u=u.insert(g,vt.newInvalidDocument(g)))});let h=bd();return u.forEach((d,f)=>{const g=o.get(d);g!==void 0&&Nd(g.mutation,f,ur.empty(),It.now()),Rf(t,f)&&(h=h.insert(d,f))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return X.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Qt(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:Db(i.bundledQuery),readTime:Qt(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.overlays=new yt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ji();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=ji(),o=t.length+1,u=new _e(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new yt((f,g)=>f-g);const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=ji(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=ji(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,g)=>h.set(f,g)),!(h.size()>=i)););return X.resolve(h)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Pb(t,r));let o=this.Rr.get(t);o===void 0&&(o=Me(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.Vr=new lt(Sn.mr),this.gr=new lt(Sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Sn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Sn(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new _e(new qe([])),r=new Sn(t,e),i=new Sn(t,e+1),o=[];return this.gr.forEachInRange([r,i],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new qe([])),r=new Sn(t,e),i=new Sn(t,e+1);let o=Me();return this.gr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Sn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||ke(e.Cr,t.Cr)}static pr(e,t){return ke(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new lt(Sn.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Rb(o,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Mr=this.Mr.add(new Sn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?qa:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Sn(t,0),i=new Sn(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],u=>{const h=this.Or(u.Cr);o.push(h)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(ke);return t.forEach(i=>{const o=new Sn(i,0),u=new Sn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],h=>{r=r.add(h.Cr)})}),X.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const u=new Sn(new _e(o),0);let h=new lt(ke);return this.Mr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(h=h.add(d.Cr)),!0)},u),X.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return X.forEach(t.mutations,i=>{const o=new Sn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Sn(t,0),i=this.Mr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.kr=e,this.docs=function(){return new yt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let r=cr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vt.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=cr();const u=t.path,h=new _e(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||pb(fx(g),r)<=0||(i.has(g.key)||Rf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,r,i){we()}qr(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new yF(this)}getSize(e){return X.resolve(this.size)}}class yF extends DO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e){this.persistence=e,this.Qr=new Gs(t=>gl(t),Af),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Vb,this.targetCount=0,this.Ur=bl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),X.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new bl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.zn(t),X.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new lr(0),this.zr=!1,this.zr=!0,this.jr=new pF,this.referenceDelegate=e(this),this.Hr=new _F(this),this.indexManager=new nF,this.remoteDocumentCache=function(i){return new gF(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new wO(t),this.Yr=new dF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new mF(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new vF(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return X.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class vF extends mx{constructor(e){super(),this.currentSequenceNumber=e}}class ly{constructor(e){this.persistence=e,this.ti=new Vb,this.ni=null}static ri(e){return new ly(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),X.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,Re.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return X.or([()=>X.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Eg{constructor(e,t){this.persistence=e,this.oi=new Gs(r=>$n(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=OO(this,t)}static ri(e,t){return new Eg(e,t)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return X.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,u=>this.ar(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lm(e.data.value)),t}ar(e,t,r){return X.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e){this.serializer=e}B(e,t,r,i){const o=new Xg("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(Sf)}(e),function(d){d.createObjectStore(Wd,{keyPath:M5}),d.createObjectStore(li,{keyPath:KI,autoIncrement:!0}).createIndex(al,WI,{unique:!0}),d.createObjectStore(nc)}(e),MR(e),function(d){d.createObjectStore(Zo)}(e));let u=X.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(ic),d.deleteObjectStore(rc),d.deleteObjectStore(dl)}(e),MR(e)),u=u.next(()=>function(d){const f=d.store(dl),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Re.min().toTimestamp(),targetCount:0};return f.put(hg,g)}(o))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(d,f){return f.store(li).G().next(_=>{d.deleteObjectStore(li),d.createObjectStore(li,{keyPath:KI,autoIncrement:!0}).createIndex(al,WI,{unique:!0});const v=f.store(li),T=_.map(w=>v.put(w));return X.waitFor(T)})}(e,o))),u=u.next(()=>{(function(d){d.createObjectStore(sc,{keyPath:$5})})(e)})),r<5&&i>=5&&(u=u.next(()=>this._i(o))),r<6&&i>=6&&(u=u.next(()=>(function(d){d.createObjectStore(Qd)}(e),this.ai(o)))),r<7&&i>=7&&(u=u.next(()=>this.ui(o))),r<8&&i>=8&&(u=u.next(()=>this.ci(e,o))),r<9&&i>=9&&(u=u.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.li(o))),r<11&&i>=11&&(u=u.next(()=>{(function(d){d.createObjectStore(Jg,{keyPath:G5})})(e),function(d){d.createObjectStore(Zg,{keyPath:K5})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(d){const f=d.createObjectStore(ey,{keyPath:eB});f.createIndex(G0,tB,{unique:!1}),f.createIndex(Tx,nB,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(d){const f=d.createObjectStore(cg,{keyPath:U5});f.createIndex(Vm,B5),f.createIndex(vx,F5)}(e)).next(()=>this.hi(e,o)).next(()=>e.deleteObjectStore(Zo))),r<14&&i>=14&&(u=u.next(()=>this.Pi(e,o))),r<15&&i>=15&&(u=u.next(()=>function(d){d.createObjectStore(yb,{keyPath:W5,autoIncrement:!0}).createIndex($0,Q5,{unique:!1}),d.createObjectStore(dg,{keyPath:Y5}).createIndex(bx,X5,{unique:!1}),d.createObjectStore(fg,{keyPath:J5}).createIndex(wx,Z5,{unique:!1})}(e))),r<16&&i>=16&&(u=u.next(()=>{t.objectStore(dg).clear()}).next(()=>{t.objectStore(fg).clear()})),r<17&&i>=17&&(u=u.next(()=>{(function(d){d.createObjectStore(_b,{keyPath:rB})})(e)})),u}ai(e){let t=0;return e.store(Zo).Z((r,i)=>{t+=vg(i)}).next(()=>{const r={byteSize:t};return e.store(Qd).put(H0,r)})}_i(e){const t=e.store(Wd),r=e.store(li);return t.G().next(i=>X.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,qa],[o.userId,o.lastAcknowledgedBatchId]);return r.G(al,u).next(h=>X.forEach(h,d=>{Ae(d.userId===o.userId);const f=tl(this.serializer,d);return RO(e,o.userId,f).next(()=>{})}))}))}ui(e){const t=e.store(ic),r=e.store(Zo);return e.store(dl).get(hg).next(i=>{const o=[];return r.Z((u,h)=>{const d=new qe(u),f=function(_){return[0,$n(_)]}(d);o.push(t.get(f).next(g=>g?X.resolve():(_=>t.put({targetId:0,path:$n(_),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>X.waitFor(o))})}ci(e,t){e.createObjectStore(Yd,{keyPath:H5});const r=t.store(Yd),i=new Nb,o=u=>{if(i.add(u)){const h=u.lastSegment(),d=u.popLast();return r.put({collectionId:h,parent:$n(d)})}};return t.store(Zo).Z({Y:!0},(u,h)=>{const d=new qe(u);return o(d.popLast())}).next(()=>t.store(nc).Z({Y:!0},([u,h,d],f)=>{const g=Fi(h);return o(g.popLast())}))}li(e){const t=e.store(rc);return t.Z((r,i)=>{const o=Td(i),u=TO(this.serializer,o);return t.put(u)})}hi(e,t){const r=t.store(Zo),i=[];return r.Z((o,u)=>{const h=t.store(cg),d=function(_){return _.document?new _e(qe.fromString(_.document.name).popFirst(5)):_.noDocument?_e.fromSegments(_.noDocument.path):_.unknownDocument?_e.fromSegments(_.unknownDocument.path):we()}(u).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(f))}).next(()=>X.waitFor(i))}Pi(e,t){const r=t.store(li),i=kO(this.serializer),o=new Mb(ly.ri,this.serializer.Tt);return r.G().next(u=>{const h=new Map;return u.forEach(d=>{var f;let g=(f=h.get(d.userId))!==null&&f!==void 0?f:Me();tl(this.serializer,d).keys().forEach(_=>g=g.add(_)),h.set(d.userId,g)}),X.forEach(h,(d,f)=>{const g=new An(f),_=ay.It(this.serializer,g),v=o.getIndexManager(g),T=oy.It(g,this.serializer,v,o.referenceDelegate);return new NO(i,T,_,v).recalculateAndSaveOverlaysForDocumentKeys(new K0(t,lr.ae),d).next()})})}}function MR(n){n.createObjectStore(ic,{keyPath:z5}).createIndex(gb,q5,{unique:!0}),n.createObjectStore(rc,{keyPath:"targetId"}).createIndex(Ex,j5,{unique:!0}),n.createObjectStore(dl)}const ka="IndexedDbPersistence",o0=18e5,l0=5e3,u0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",VO="main";class Lb{constructor(e,t,r,i,o,u,h,d,f,g,_=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=o,this.window=u,this.document=h,this.Ii=f,this.Ei=g,this.di=_,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=v=>Promise.resolve(),!Lb.D())throw new de(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lF(this,i),this.gi=t+VO,this.serializer=new wO(d),this.pi=new qi(this.gi,this.di,new EF(this.serializer)),this.jr=new YB,this.Hr=new iF(this.referenceDelegate,this.serializer),this.remoteDocumentCache=kO(this.serializer),this.Yr=new QB,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,g===!1&&Wt(ka,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,u0);return this.bi(),this.Si(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new lr(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(fo(e))return pe(ka,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(ka,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return ed(e).get(wu).next(t=>X.resolve(this.Ni(t)))}Bi(e){return vm(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,o0)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=gn(t,sc);return r.G().next(i=>{const o=this.qi(i,o0),u=i.filter(h=>o.indexOf(h)===-1);return X.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?X.resolve(!0):ed(e).get(wu).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,l0)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,u0);return!1}}return!(!this.networkEnabled||!this.inForeground)||vm(e).G().next(r=>this.qi(r,l0).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&pe(ka,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[Sf,sc],e=>{const t=new K0(e,lr.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>vm(e).G().next(t=>this.qi(t,o0).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return oy.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new rF(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return ay.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe(ka,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(d){return d===17?aB:d===16?sB:d===15?vb:d===14?Ix:d===13?Ax:d===12?iB:d===11?Sx:void we()}(this.di);let u;return this.pi.runTransaction(e,i,o,h=>(u=new K0(h,this.Gr?this.Gr.next():lr.ae),t==="readwrite-primary"?this.Fi(u).next(d=>!!d||this.Mi(u)).next(d=>{if(!d)throw Wt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new de(ne.FAILED_PRECONDITION,px);return r(u)}).next(d=>this.Oi(u).next(()=>d)):this.ji(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}ji(e){return ed(e).get(wu).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,l0)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new de(ne.FAILED_PRECONDITION,u0)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ed(e).put(wu,t)}static D(){return qi.D()}xi(e){const t=ed(e);return t.get(wu).next(r=>this.Ni(r)?(pe(ka,"Releasing primary lease."),t.delete(wu)):X.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Wt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}bi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}Si(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;GC()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return pe(ka,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Wt(ka,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){Wt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ed(n){return gn(n,Sf)}function vm(n){return gn(n,sc)}function Ub(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Me(),i=Me();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Bb(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return GC()?8:gx(Vt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new bF;return this._s(e,t,u).next(h=>{if(o.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Nu()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Vu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(Nu()<=je.DEBUG&&pe("QueryEngine","Query:",Vu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Nu()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Vu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):X.resolve())}rs(e,t){if(oR(t))return X.resolve(null);let r=tr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=gg(t,null,"F"),r=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Me(...o);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.cs(t,h);return this.ls(t,f,u,d.readTime)?this.rs(e,gg(t,null,"F")):this.hs(e,f,t,d)}))})))}ss(e,t,r,i){return oR(t)||i.isEqual(Re.min())?X.resolve(null):this.ns.getDocuments(e,r).next(o=>{const u=this.cs(t,o);return this.ls(t,u,r,i)?X.resolve(null):(Nu()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vu(t)),this.hs(e,u,t,dx(i,tc)).next(h=>h))})}cs(e,t){let r=new lt(Kx(e));return t.forEach((i,o)=>{Rf(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Nu()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Vu(t)),this.ns.getDocumentsMatchingQuery(e,t,xr.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="LocalStore",wF=3e8;class TF{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new yt(ke),this.Is=new Gs(o=>gl(o),Af),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function LO(n,e,t,r){return new TF(n,e,t,r)}async function UO(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let d=Me();for(const f of i){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){h.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next(f=>({Rs:f,removedBatchIds:u,addedBatchIds:h}))})})}function SF(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,f,g){const _=f.batch,v=_.keys();let T=X.resolve();return v.forEach(w=>{T=T.next(()=>g.getEntry(d,w)).next(I=>{const P=f.docVersions.get(w);Ae(P!==null),I.version.compareTo(P)<0&&(_.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),g.addEntry(I)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(d,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=Me();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(d=d.add(h.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function BO(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function AF(n,e){const t=Ee(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const h=[];e.targetChanges.forEach((g,_)=>{const v=i.get(_);if(!v)return;h.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,_)));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(qt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(I,P,U){return I.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=wF?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(v,T,g)&&h.push(t.Hr.updateTargetData(o,T))});let d=cr(),f=Me();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(FO(o,u,e.documentUpdates).next(g=>{d=g.Vs,f=g.fs})),!r.isEqual(Re.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(_=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return X.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(t.Ts=i,o))}function FO(n,e,t){let r=Me(),i=Me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=cr();return t.forEach((h,d)=>{const f=o.get(h);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(h)),d.isNoDocument()&&d.version.isEqual(Re.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):pe(Fb,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",d.version)}),{Vs:u,fs:i}})}function IF(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qa),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dc(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):t.Hr.allocateTargetId(r).next(u=>(i=new Os(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function fc(n,e,t){const r=Ee(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!fo(u))throw u;pe(Fb,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function bg(n,e,t){const r=Ee(n);let i=Re.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,f,g){const _=Ee(d),v=_.Is.get(g);return v!==void 0?X.resolve(_.Ts.get(v)):_.Hr.getTargetData(f,g)}(r,u,tr(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{o=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?i:Re.min(),t?o:Me())).next(h=>(qO(r,Gx(e),h),{documents:h,gs:o})))}function jO(n,e){const t=Ee(n),r=Ee(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.lt(o,e).next(u=>u?u.target:null))}function zO(n,e){const t=Ee(n),r=t.Es.get(e)||Re.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,dx(r,tc),Number.MAX_SAFE_INTEGER)).then(i=>(qO(t,e,i),i))}function qO(n,e,t){let r=n.Es.get(e)||Re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}async function RF(n,e,t,r){const i=Ee(n);let o=Me(),u=cr();for(const f of t){const g=e.ps(f.metadata.name);f.document&&(o=o.add(g));const _=e.ys(f);_.setReadTime(e.ws(f.metadata.readTime)),u=u.insert(g,_)}const h=i.ds.newChangeBuffer({trackRemovals:!0}),d=await dc(i,function(g){return tr(Rc(qe.fromString(`__bundle__/docs/${g}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",f=>FO(f,h,u).next(g=>(h.apply(f),g)).next(g=>i.Hr.removeMatchingKeysForTargetId(f,d.targetId).next(()=>i.Hr.addMatchingKeys(f,o,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,g.Vs,g.fs)).next(()=>g.Vs)))}async function CF(n,e,t=Me()){const r=await dc(n,tr(Db(e.bundledQuery))),i=Ee(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=Qt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Yr.saveNamedQuery(o,e);const h=r.withResumeToken(qt.EMPTY_BYTE_STRING,u);return i.Ts=i.Ts.insert(h.targetId,h),i.Hr.updateTargetData(o,h).next(()=>i.Hr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Hr.addMatchingKeys(o,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="firestore_clients";function LR(n,e){return`${HO}_${n}_${e}`}const $O="firestore_mutations";function UR(n,e,t){let r=`${$O}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const GO="firestore_targets";function c0(n,e){return`${GO}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="SharedClientState";class wg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static bs(e,t,r){const i=JSON.parse(r);let o,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(o=new de(i.error.code,i.error.message))),u?new wg(e,t,i.state,o):(Wt(Di,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static bs(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new de(r.error.code,r.error.message))),o?new Vd(e,r.state,i):(Wt(Di,`Failed to parse target state for ID '${e}': ${t}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static bs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Sb();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=yx(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new Tg(e,o):(Wt(Di,`Failed to parse client data for instance '${e}': ${t}`),null)}}class jb{constructor(e,t){this.clientId=e,this.onlineState=t}static bs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new jb(t.clientId,t.onlineState):(Wt(Di,`Failed to parse online state: ${e}`),null)}}class lE{constructor(){this.activeTargetIds=Sb()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h0{constructor(e,t,r,i,o){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new yt(ke),this.started=!1,this.Os=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ns=LR(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new lE),this.Ls=new RegExp(`^${HO}_${u}_([^_]*)$`),this.ks=new RegExp(`^${$O}_${u}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${GO}_${u}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(LR(this.persistenceKey,r));if(i){const o=Tg.bs(r,i);o&&(this.xs=this.xs.insert(o.clientId,o))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(c0(this.persistenceKey,e));if(i){const o=Vd.bs(e,i);o&&(r=o.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(c0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe(Di,"READ",e,t),t}setItem(e,t){pe(Di,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe(Di,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(pe(Di,"EVENT",t.key,t.newValue),t.key===this.Ns)return void Wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(o){let u=lr.ae;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number"),u=h}catch(h){Wt(Di,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==lr.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.Ss())}zs(e,t,r){const i=new wg(this.currentUser,e,t,r),o=UR(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())}js(e){const t=UR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=c0(this.persistenceKey,e),o=new Vd(e,t,r);this.setItem(i,o.Ss())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return Tg.bs(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return wg.bs(new An(o),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return Vd.bs(i,t)}Us(e){return jb.bs(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);pe(Di,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),o=this.Gs(r),u=[],h=[];return o.forEach(d=>{i.has(d)||u.push(d)}),i.forEach(d=>{o.has(d)||h.push(d)}),this.syncEngine.lo(u,h).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=Sb();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class KO{constructor(){this.ho=new lE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new lE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="ConnectivityMonitor";class FR{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(BR,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(BR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em=null;function uE(){return Em===null?Em=function(){return 268435456+Math.round(2147483648*Math.random())}():Em++,"0x"+Em.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="RestConnection",xF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OF{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===W0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,o){const u=uE(),h=this.So(e,t.toUriEncodedString());pe(d0,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,o),this.vo(e,h,d,r).then(f=>(pe(d0,`Received RPC '${e}' ${u}: `,f),f),f=>{throw Wi(d0,`RPC '${e}' ${u} failed with error: `,f,"url: ",h,"request:",r),f})}Co(e,t,r,i,o,u){return this.bo(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ic}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}So(e,t){const r=xF[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class kF extends OF{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=uE();return new Promise((u,h)=>{const d=new ix;d.setWithCredentials(!0),d.listenOnce(sx.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Dm.NO_ERROR:const g=d.getResponseJson();pe(jn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case Dm.TIMEOUT:pe(jn,`RPC '${e}' ${o} timed out`),h(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Dm.HTTP_ERROR:const _=d.getStatus();if(pe(jn,`RPC '${e}' ${o} failed with status:`,_,"response text:",d.getResponseText()),_>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const w=function(P){const U=P.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(U)>=0?U:ne.UNKNOWN}(T.status);h(new de(w,T.message))}else h(new de(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new de(ne.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{pe(jn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);pe(jn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",f,r,15)})}Wo(e,t,r){const i=uE(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=lx(),h=ox(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=o.join("");pe(jn,`Creating RPC '${e}' stream ${i}: ${g}`,d);const _=u.createWebChannel(g,d);let v=!1,T=!1;const w=new DF({Fo:P=>{T?pe(jn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(v||(pe(jn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),v=!0),pe(jn,`RPC '${e}' stream ${i} sending:`,P),_.send(P))},Mo:()=>_.close()}),I=(P,U,M)=>{P.listen(U,L=>{try{M(L)}catch($){setTimeout(()=>{throw $},0)}})};return I(_,Ed.EventType.OPEN,()=>{T||(pe(jn,`RPC '${e}' stream ${i} transport opened.`),w.Qo())}),I(_,Ed.EventType.CLOSE,()=>{T||(T=!0,pe(jn,`RPC '${e}' stream ${i} transport closed`),w.Ko())}),I(_,Ed.EventType.ERROR,P=>{T||(T=!0,Wi(jn,`RPC '${e}' stream ${i} transport errored:`,P),w.Ko(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),I(_,Ed.EventType.MESSAGE,P=>{var U;if(!T){const M=P.data[0];Ae(!!M);const L=M,$=(L==null?void 0:L.error)||((U=L[0])===null||U===void 0?void 0:U.error);if($){pe(jn,`RPC '${e}' stream ${i} received error:`,$);const F=$.status;let H=function(R){const b=rn[R];if(b!==void 0)return aO(b)}(F),V=$.message;H===void 0&&(H=ne.INTERNAL,V="Unknown error status: "+F+" with message "+$.message),T=!0,w.Ko(new de(H,V)),_.close()}else pe(jn,`RPC '${e}' stream ${i} received:`,M),w.Uo(M)}}),I(h,ax.STAT_EVENT,P=>{P.stat===z0.PROXY?pe(jn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===z0.NOPROXY&&pe(jn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){return typeof window<"u"?window:null}function jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(n){return new UB(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="PersistentStream";class QO{constructor(e,t,r,i,o,u,h,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Wt(t.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new de(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(jR,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(jR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NF extends QO{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=jB(this.serializer,e),r=function(o){if(!("targetChange"in o))return Re.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?Qt(u.readTime):Re.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=rE(this.serializer),t.addTarget=function(o,u){let h;const d=u.target;if(h=pg(d)?{documents:gO(o,d)}:{query:yO(o,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=cO(o,u.resumeToken);const f=tE(o,u.expectedCount);f!==null&&(h.expectedCount=f)}else if(u.snapshotVersion.compareTo(Re.min())>0){h.readTime=hc(o,u.snapshotVersion.toTimestamp());const f=tE(o,u.expectedCount);f!==null&&(h.expectedCount=f)}return h}(this.serializer,e);const r=qB(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=rE(this.serializer),t.removeTarget=e,this.I_(t)}}class VF extends QO{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=zB(e.writeResults,e.commitTime),r=Qt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=rE(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>nf(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{}class LF extends MF{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.bo(e,nE(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ne.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,nE(t,r),i,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class UF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Wt(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="RemoteStore";class BF{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{r.enqueueAndForget(async()=>{mo(this)&&(pe(wl,"Restarting streams for network reachability change."),await async function(d){const f=Ee(d);f.W_.add(4),await xc(f),f.j_.set("Unknown"),f.W_.delete(4),await Df(f)}(this))})}),this.j_=new UF(r,i)}}async function Df(n){if(mo(n))for(const e of n.G_)await e(!0)}async function xc(n){for(const e of n.G_)await e(!1)}function uy(n,e){const t=Ee(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),$b(t)?Hb(t):Dc(t).c_()&&qb(t,e))}function pc(n,e){const t=Ee(n),r=Dc(t);t.U_.delete(e),r.c_()&&YO(t,e),t.U_.size===0&&(r.c_()?r.P_():mo(t)&&t.j_.set("Unknown"))}function qb(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Dc(n).y_(e)}function YO(n,e){n.H_.Ne(e),Dc(n).w_(e)}function Hb(n){n.H_=new NB({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Dc(n).start(),n.j_.B_()}function $b(n){return mo(n)&&!Dc(n).u_()&&n.U_.size>0}function mo(n){return Ee(n).W_.size===0}function XO(n){n.H_=void 0}async function FF(n){n.j_.set("Online")}async function jF(n){n.U_.forEach((e,t)=>{qb(n,e)})}async function zF(n,e){XO(n),$b(n)?(n.j_.q_(e),Hb(n)):n.j_.set("Unknown")}async function qF(n,e,t){if(n.j_.set("Online"),e instanceof uO&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i.U_.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.U_.delete(h),i.H_.removeTarget(h))}(n,e)}catch(r){pe(wl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sg(n,r)}else if(e instanceof Fm?n.H_.We(e):e instanceof lO?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Re.min()))try{const r=await BO(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.U_.get(f);g&&o.U_.set(f,g.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,f)=>{const g=o.U_.get(d);if(!g)return;o.U_.set(d,g.withResumeToken(qt.EMPTY_BYTE_STRING,g.snapshotVersion)),YO(o,d);const _=new Os(g.target,d,f,g.sequenceNumber);qb(o,_)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(wl,"Failed to raise snapshot:",r),await Sg(n,r)}}async function Sg(n,e,t){if(!fo(e))throw e;n.W_.add(1),await xc(n),n.j_.set("Offline"),t||(t=()=>BO(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(wl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Df(n)})}function JO(n,e){return e().catch(t=>Sg(n,t,e))}async function Oc(n){const e=Ee(n),t=eo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:qa;for(;HF(e);)try{const i=await IF(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,$F(e,i)}catch(i){await Sg(e,i)}ZO(e)&&eD(e)}function HF(n){return mo(n)&&n.K_.length<10}function $F(n,e){n.K_.push(e);const t=eo(n);t.c_()&&t.b_&&t.S_(e.mutations)}function ZO(n){return mo(n)&&!eo(n).u_()&&n.K_.length>0}function eD(n){eo(n).start()}async function GF(n){eo(n).C_()}async function KF(n){const e=eo(n);for(const t of n.K_)e.S_(t.mutations)}async function WF(n,e,t){const r=n.K_.shift(),i=Cb.from(r,e,t);await JO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Oc(n)}async function QF(n,e){e&&eo(n).b_&&await async function(r,i){if(function(u){return sO(u)&&u!==ne.ABORTED}(i.code)){const o=r.K_.shift();eo(r).h_(),await JO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Oc(r)}}(n,e),ZO(n)&&eD(n)}async function zR(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),pe(wl,"RemoteStore received new credentials");const r=mo(t);t.W_.add(3),await xc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Df(t)}async function cE(n,e){const t=Ee(n);e?(t.W_.delete(2),await Df(t)):e||(t.W_.add(2),await xc(t),t.j_.set("Unknown"))}function Dc(n){return n.J_||(n.J_=function(t,r,i){const o=Ee(t);return o.M_(),new NF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:FF.bind(null,n),No:jF.bind(null,n),Lo:zF.bind(null,n),p_:qF.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),$b(n)?Hb(n):n.j_.set("Unknown")):(await n.J_.stop(),XO(n))})),n.J_}function eo(n){return n.Y_||(n.Y_=function(t,r,i){const o=Ee(t);return o.M_(),new VF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:GF.bind(null,n),Lo:QF.bind(null,n),D_:KF.bind(null,n),v_:WF.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Oc(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(wl,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new Gb(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kc(n,e){if(Wt("AsyncQueue",`${e}: ${n}`),fo(n))return new de(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{static emptySet(e){return new $u(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=bd(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $u)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new $u;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.Z_=new yt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class mc{constructor(e,t,r,i,o,u,h,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new mc(e,t,$u.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class XF{constructor(){this.queries=HR(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=Ee(t),o=i.queries;i.queries=HR(),o.forEach((u,h)=>{for(const d of h.ta)d.onError(r)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function HR(){return new Gs(n=>$x(n),If)}async function Kb(n,e){const t=Ee(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new YF,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=kc(u,`Initialization of query '${Vu(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Qb(t)}async function Wb(n,e){const t=Ee(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function JF(n,e){const t=Ee(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const h of u.ta)h.oa(i)&&(r=!0);u.ea=i}}r&&Qb(t)}function ZF(n,e,t){const r=Ee(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function Qb(n){n.ia.forEach(e=>{e.next()})}var hE,$R;($R=hE||(hE={}))._a="default",$R.Cache="cache";class Yb{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==hE.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.serializer=e}ps(e){return Hi(this.serializer,e)}ys(e){return e.metadata.exists?mO(this.serializer,e.document,!1):vt.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return Qt(e)}}class tj{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tD(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=qe.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new GR(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ps(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Me()).add(o);t.set(u,h)}}return t}async complete(){const e=await RF(this.localStore,new GR(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await CF(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function tD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.key=e}}class rD{constructor(e){this.key=e}}class iD{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=Kx(e),this.wa=new $u(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new qR,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const v=i.get(g),T=Rf(this.query,_)?_:null,w=!!v&&this.mutatedKeys.has(v.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;v&&T?v.data.isEqual(T.data)?w!==I&&(r.track({type:3,doc:T}),P=!0):this.va(v,T)||(r.track({type:2,doc:T}),P=!0,(d&&this.ya(T,d)>0||f&&this.ya(T,f)<0)&&(h=!0)):!v&&T?(r.track({type:0,doc:T}),P=!0):v&&!T&&(r.track({type:1,doc:v}),P=!0,(d||f)&&(h=!0)),P&&(T?(u=u.add(T),o=I?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:h,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,_)=>function(T,w){const I=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return I(T)-I(w)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const h=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,f=d!==this.ga;return this.ga=d,u.length!==0||f?{snapshot:new mc(this.query,e.wa,o,u,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new qR,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new rD(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new nD(r))}),t}Oa(e){this.fa=e.gs,this.pa=Me();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return mc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const go="SyncEngine";class nj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class rj{constructor(e){this.key=e,this.Ba=!1}}class ij{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Gs(h=>$x(h),If),this.qa=new Map,this.Qa=new Set,this.$a=new yt(_e.comparator),this.Ka=new Map,this.Ua=new Vb,this.Wa={},this.Ga=new Map,this.za=bl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function sj(n,e,t=!0){const r=cy(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await sD(r,e,t,!0),i}async function aj(n,e){const t=cy(n);await sD(t,e,!0,!1)}async function sD(n,e,t,r){const i=await dc(n.localStore,tr(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await Xb(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&uy(n.remoteStore,i),h}async function Xb(n,e,t,r,i){n.Ha=(_,v,T)=>async function(I,P,U,M){let L=P.view.Sa(U);L.ls&&(L=await bg(I.localStore,P.query,!1).then(({documents:V})=>P.view.Sa(V,L)));const $=M&&M.targetChanges.get(P.targetId),F=M&&M.targetMismatches.get(P.targetId)!=null,H=P.view.applyChanges(L,I.isPrimaryClient,$,F);return dE(I,P.targetId,H.Ma),H.snapshot}(n,_,v,T);const o=await bg(n.localStore,e,!0),u=new iD(e,o.gs),h=u.Sa(o.documents),d=xf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=u.applyChanges(h,n.isPrimaryClient,d);dE(n,t,f.Ma);const g=new nj(e,t,u);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function oj(n,e,t){const r=Ee(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(u=>!If(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&pc(r.remoteStore,i.targetId),gc(r,i.targetId)}).catch(ho)):(gc(r,i.targetId),await fc(r.localStore,i.targetId,!0))}async function lj(n,e){const t=Ee(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),pc(t.remoteStore,r.targetId))}async function uj(n,e,t){const r=tw(n);try{const i=await function(u,h){const d=Ee(u),f=It.now(),g=h.reduce((T,w)=>T.add(w.key),Me());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let w=cr(),I=Me();return d.ds.getEntries(T,g).next(P=>{w=P,w.forEach((U,M)=>{M.isValidDocument()||(I=I.add(U))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,w)).next(P=>{_=P;const U=[];for(const M of h){const L=OB(M,_.get(M.key).overlayedDocument);L!=null&&U.push(new Ks(M.key,L,Mx(L.value.mapValue),At.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,U,h)}).next(P=>{v=P;const U=P.applyToLocalDocumentSet(_,I);return d.documentOverlayCache.saveOverlays(T,P.batchId,U)})}).then(()=>({batchId:v.batchId,changes:Qx(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,d){let f=u.Wa[u.currentUser.toKey()];f||(f=new yt(ke)),f=f.insert(h,d),u.Wa[u.currentUser.toKey()]=f}(r,i.batchId,t),await Ws(r,i.changes),await Oc(r.remoteStore)}catch(i){const o=kc(i,"Failed to persist write");t.reject(o)}}async function aD(n,e){const t=Ee(n);try{const r=await AF(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.Ka.get(o);u&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Ba=!0:i.modifiedDocuments.size>0?Ae(u.Ba):i.removedDocuments.size>0&&(Ae(u.Ba),u.Ba=!1))}),await Ws(t,r,e)}catch(r){await ho(r)}}function KR(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,u)=>{const h=u.view.sa(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const d=Ee(u);d.onlineState=h;let f=!1;d.queries.forEach((g,_)=>{for(const v of _.ta)v.sa(h)&&(f=!0)}),f&&Qb(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cj(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let u=new yt(_e.comparator);u=u.insert(o,vt.newNoDocument(o,Re.min()));const h=Me().add(o),d=new Pf(Re.min(),new Map,new yt(ke),u,h);await aD(r,d),r.$a=r.$a.remove(o),r.Ka.delete(e),ew(r)}else await fc(r.localStore,e,!1).then(()=>gc(r,e,t)).catch(ho)}async function hj(n,e){const t=Ee(n),r=e.batch.batchId;try{const i=await SF(t.localStore,e);Zb(t,r,null),Jb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ws(t,i)}catch(i){await ho(i)}}async function dj(n,e,t){const r=Ee(n);try{const i=await function(u,h){const d=Ee(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,h).next(_=>(Ae(_!==null),g=_.keys(),d.mutationQueue.removeMutationBatch(f,_))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(r.localStore,e);Zb(r,e,t),Jb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ws(r,i)}catch(i){await ho(i)}}async function fj(n,e){const t=Ee(n);mo(t.remoteStore)||pe(go,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=Ee(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>h.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===qa)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=kc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Jb(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Zb(n,e,t){const r=Ee(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function gc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||oD(n,r)})}function oD(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(pc(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),ew(n))}function dE(n,e,t){for(const r of t)r instanceof nD?(n.Ua.addReference(r.key,e),pj(n,r)):r instanceof rD?(pe(go,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||oD(n,r.key)):we()}function pj(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(pe(go,"New document in limbo: "+t),n.Qa.add(r),ew(n))}function ew(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(qe.fromString(e)),r=n.za.next();n.Ka.set(r,new rj(t)),n.$a=n.$a.insert(t,r),uy(n.remoteStore,new Os(tr(Rc(t.path)),r,"TargetPurposeLimboResolution",lr.ae))}}async function Ws(n,e,t){const r=Ee(n),i=[],o=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{u.push(r.Ha(d,e,t).then(f=>{var g;if((f||t)&&r.isPrimaryClient){const _=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(f){i.push(f);const _=Bb.Yi(d.targetId,f);o.push(_)}}))}),await Promise.all(u),r.La.p_(i),await async function(d,f){const g=Ee(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(f,v=>X.forEach(v.Hi,T=>g.persistence.referenceDelegate.addReference(_,v.targetId,T)).next(()=>X.forEach(v.Ji,T=>g.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))}catch(_){if(!fo(_))throw _;pe(Fb,"Failed to update sequence numbers: "+_)}for(const _ of f){const v=_.targetId;if(!_.fromCache){const T=g.Ts.get(v),w=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(w);g.Ts=g.Ts.insert(v,I)}}}(r.localStore,o))}async function mj(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){pe(go,"User change. New user:",e.toKey());const r=await UO(t.localStore,e);t.currentUser=e,function(o,u){o.Ga.forEach(h=>{h.forEach(d=>{d.reject(new de(ne.CANCELLED,u))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ws(t,r.Rs)}}function gj(n,e){const t=Ee(n),r=t.Ka.get(e);if(r&&r.Ba)return Me().add(r.key);{let i=Me();const o=t.qa.get(e);if(!o)return i;for(const u of o){const h=t.ka.get(u);i=i.unionWith(h.view.ba)}return i}}async function yj(n,e){const t=Ee(n),r=await bg(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&dE(t,e.targetId,i.Ma),i}async function _j(n,e){const t=Ee(n);return zO(t.localStore,e).then(r=>Ws(t,r))}async function vj(n,e,t,r){const i=Ee(n),o=await function(h,d){const f=Ee(h),g=Ee(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",_=>g.Ln(_,d).next(v=>v?f.localDocuments.getDocuments(_,v):X.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await Oc(i.remoteStore):t==="acknowledged"||t==="rejected"?(Zb(i,e,r||null),Jb(i,e),function(h,d){Ee(Ee(h).mutationQueue).qn(d)}(i.localStore,e)):we(),await Ws(i,o)):pe(go,"Cannot apply mutation batch with id: "+e)}async function Ej(n,e){const t=Ee(n);if(cy(t),tw(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await WR(t,r.toArray());t.ja=!0,await cE(t.remoteStore,!0);for(const o of i)uy(t.remoteStore,o)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(gc(t,u),fc(t.localStore,u,!0))),pc(t.remoteStore,u)}),await i,await WR(t,r),function(u){const h=Ee(u);h.Ka.forEach((d,f)=>{pc(h.remoteStore,f)}),h.Ua.Dr(),h.Ka=new Map,h.$a=new yt(_e.comparator)}(t),t.ja=!1,await cE(t.remoteStore,!1)}}async function WR(n,e,t){const r=Ee(n),i=[],o=[];for(const u of e){let h;const d=r.qa.get(u);if(d&&d.length!==0){h=await dc(r.localStore,tr(d[0]));for(const f of d){const g=r.ka.get(f),_=await yj(r,g);_.snapshot&&o.push(_.snapshot)}}else{const f=await jO(r.localStore,u);h=await dc(r.localStore,f),await Xb(r,lD(f),u,!1,h.resumeToken)}i.push(h)}return r.La.p_(o),i}function lD(n){return Hx(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bj(n){return function(t){return Ee(Ee(t).persistence).zi()}(Ee(n).localStore)}async function wj(n,e,t,r){const i=Ee(n);if(i.ja)return void pe(go,"Ignoring unexpected query state notification.");const o=i.qa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await zO(i.localStore,Gx(o[0])),h=Pf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",qt.EMPTY_BYTE_STRING);await Ws(i,u,h);break}case"rejected":await fc(i.localStore,e,!0),gc(i,e,r);break;default:we()}}async function Tj(n,e,t){const r=cy(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(go,"Adding an already active target "+i);continue}const o=await jO(r.localStore,i),u=await dc(r.localStore,o);await Xb(r,lD(o),u.targetId,!1,u.resumeToken),uy(r.remoteStore,u)}for(const i of t)r.qa.has(i)&&await fc(r.localStore,i,!1).then(()=>{pc(r.remoteStore,i),gc(r,i)}).catch(ho)}}function cy(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cj.bind(null,e),e.La.p_=JF.bind(null,e.eventManager),e.La.Ja=ZF.bind(null,e.eventManager),e}function tw(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dj.bind(null,e),e}function Sj(n,e,t){const r=Ee(n);(async function(o,u,h){try{const d=await u.getMetadata();if(await function(T,w){const I=Ee(T),P=Qt(w.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",U=>I.Yr.getBundleMetadata(U,w.id)).then(U=>!!U&&U.createTime.compareTo(P)>=0)}(o.localStore,d))return await u.close(),h._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(d)),Promise.resolve(new Set);h._updateProgress(tD(d));const f=new tj(d,o.localStore,u.serializer);let g=await u.Ya();for(;g;){const v=await f.Aa(g);v&&h._updateProgress(v),g=await u.Ya()}const _=await f.complete();return await Ws(o,_.ma,void 0),await function(T,w){const I=Ee(T);return I.persistence.runTransaction("Save bundle","readwrite",P=>I.Yr.saveBundleMetadata(P,w))}(o.localStore,d),h._completeWith(_.progress),Promise.resolve(_.Va)}catch(d){return Wi(go,`Loading bundle failed with ${d}`),h._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Of(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return LO(this.persistence,new MO,e.initialUser,this.serializer)}Xa(e){return new Mb(ly.ri,this.serializer)}Za(e){return new KO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class Aj extends rf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ae(this.persistence.referenceDelegate instanceof Eg);const r=this.persistence.referenceDelegate.garbageCollector;return new xO(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new Mb(r=>Eg.ri(r,t),this.serializer)}}class uD extends rf{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await tw(this.ru.syncEngine),await Oc(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return LO(this.persistence,new MO,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new xO(r,e.asyncQueue,t)}nu(e,t){const r=new N5(t,this.persistence);return new k5(e.asyncQueue,r)}Xa(e){const t=Ub(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new Lb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,WO(),jm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new KO}}class Ij extends uD{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof h0&&(this.sharedClientState.syncEngine={uo:vj.bind(null,t),co:wj.bind(null,t),lo:Tj.bind(null,t),zi:bj.bind(null,t),ao:_j.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await Ej(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=WO();if(!h0.D(t))throw new de(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Ub(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new h0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class sf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mj.bind(null,this.syncEngine),await cE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XF}()}createDatastore(e){const t=Of(e.databaseInfo.databaseId),r=function(o){return new kF(o)}(e.databaseInfo);return function(o,u,h,d){return new LF(o,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,h){return new BF(r,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>KR(this.syncEngine,t,0),function(){return FR.D()?new FR:new PF}())}createSyncEngine(e,t){return function(i,o,u,h,d,f,g){const _=new ij(i,o,u,h,d,f);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ee(i);pe(wl,"RemoteStore shutting down."),o.W_.add(5),await xc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}sf.provider={build:()=>new sf};function QR(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Wt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new Vn,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new ej(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const u=Ee(i),h={documents:o.map(_=>tf(u.serializer,_))},d=await u.Co("BatchGetDocuments",u.serializer.databaseId,qe.emptyPath(),h,o.length),f=new Map;d.forEach(_=>{const v=FB(u.serializer,_);f.set(v.key.toString(),v)});const g=[];return o.forEach(_=>{const v=f.get(_.toString());Ae(!!v),g.push(v)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new Ib(i,this.precondition(i)))}),await async function(r,i){const o=Ee(r),u={writes:i.map(h=>nf(o.serializer,h))};await o.bo("Commit",o.serializer.databaseId,qe.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we();t=Re.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new de(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Re.min())?At.exists(!1):At.updateTime(t):At.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Re.min()))throw new de(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return At.updateTime(t)}return At.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Tu=r.maxAttempts,this.a_=new zb(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new Cj(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!Tf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!sO(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="FirestoreClient";class xj{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=An.UNAUTHENTICATED,this.clientId=cx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{pe(to,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe(to,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=kc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function f0(n,e){n.asyncQueue.verifyOperationInProgress(),pe(to,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await UO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function YR(n,e){n.asyncQueue.verifyOperationInProgress();const t=await nw(n);pe(to,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>zR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>zR(e.remoteStore,i)),n._onlineComponents=e}async function nw(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(to,"Using user provided OfflineComponentProvider");try{await f0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Wi("Error using user provided cache. Falling back to memory cache: "+t),await f0(n,new rf)}}else pe(to,"Using default OfflineComponentProvider"),await f0(n,new Aj(void 0));return n._offlineComponents}async function dy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(to,"Using user provided OnlineComponentProvider"),await YR(n,n._uninitializedComponentsProvider._online)):(pe(to,"Using default OnlineComponentProvider"),await YR(n,new sf))),n._onlineComponents}function cD(n){return nw(n).then(e=>e.persistence)}function rw(n){return nw(n).then(e=>e.localStore)}function hD(n){return dy(n).then(e=>e.remoteStore)}function iw(n){return dy(n).then(e=>e.syncEngine)}function Oj(n){return dy(n).then(e=>e.datastore)}async function yc(n){const e=await dy(n),t=e.eventManager;return t.onListen=sj.bind(null,e.syncEngine),t.onUnlisten=oj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lj.bind(null,e.syncEngine),t}function Dj(n){return n.asyncQueue.enqueue(async()=>{const e=await cD(n),t=await hD(n);return e.setNetworkEnabled(!0),function(i){const o=Ee(i);return o.W_.delete(0),Df(o)}(t)})}function kj(n){return n.asyncQueue.enqueue(async()=>{const e=await cD(n),t=await hD(n);return e.setNetworkEnabled(!1),async function(i){const o=Ee(i);o.W_.add(0),await xc(o),o.j_.set("Offline")}(t)})}function Nj(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await function(f,g){const _=Ee(f);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,g))}(i,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new de(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const d=kc(h,`Failed to get document '${o} from cache`);u.reject(d)}}(await rw(n),e,t)),t.promise}function dD(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,f){const g=new hy({next:v=>{g.su(),u.enqueueAndForget(()=>Wb(o,_));const T=v.docs.has(h);!T&&v.fromCache?f.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&d&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new Yb(Rc(h.path),g,{includeMetadataChanges:!0,Ta:!0});return Kb(o,_)}(await yc(n),n.asyncQueue,e,t,r)),r.promise}function Vj(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await bg(i,o,!0),d=new iD(o,h.gs),f=d.Sa(h.documents),g=d.applyChanges(f,!1);u.resolve(g.snapshot)}catch(h){const d=kc(h,`Failed to execute query '${o} against cache`);u.reject(d)}}(await rw(n),e,t)),t.promise}function fD(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,f){const g=new hy({next:v=>{g.su(),u.enqueueAndForget(()=>Wb(o,_)),v.fromCache&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new Yb(h,g,{includeMetadataChanges:!0,Ta:!0});return Kb(o,_)}(await yc(n),n.asyncQueue,e,t,r)),r.promise}function Mj(n,e){const t=new hy(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.add(o),o.next()}(await yc(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.delete(o)}(await yc(n),t))}}function Lj(n,e,t,r){const i=function(u,h){let d;return d=typeof u=="string"?oO().encode(u):u,function(g,_){return new Rj(g,_)}(function(g,_){if(g instanceof Uint8Array)return QR(g,_);if(g instanceof ArrayBuffer)return QR(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),h)}(t,Of(e));n.asyncQueue.enqueueAndForget(async()=>{Sj(await iw(n),i,r)})}function Uj(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=Ee(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Yr.getNamedQuery(u,i))}(await rw(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n,e,t){if(!t)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mD(n,e,t,r){if(e===!0&&r===!0)throw new de(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function JR(n){if(!_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZR(n){if(_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we()}function nt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fy(n);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gD(n,e){if(e<=0)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="firestore.googleapis.com",e1=!0;class t1{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yD,this.ssl=e1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:e1;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sF)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new T5;switch(r.type){case"firstParty":return new R5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=XR.get(t);r&&(pe("ComponentProvider","Removing Datastore"),XR.delete(t),r.terminate())}(this),Promise.resolve()}}function Bj(n,e,t,r={}){var i;const o=(n=nt(n,kf))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o.host!==yD&&o.host!==h&&Wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:r});if(!Vs(d,u)&&(n._setSettings(d),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=An.MOCK_USER;else{f=xV(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new An(_)}n._authCredentials=new S5(new ux(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nr=class _D{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _D(this.firestore,e,this._query)}},kt=class vD{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vD(this.firestore,e,this._key)}},Ha=class ED extends nr{constructor(e,t,r){super(e,t,Rc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new _e(e))}withConverter(e){return new ED(this.firestore,e,this._path)}};function bD(n,e,...t){if(n=Pe(n),sw("collection","path",e),n instanceof kf){const r=qe.fromString(e,...t);return ZR(r),new Ha(n,null,r)}{if(!(n instanceof kt||n instanceof Ha))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return ZR(r),new Ha(n.firestore,null,r)}}function Fj(n,e){if(n=nt(n,kf),sw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new nr(n,null,function(r){return new $s(qe.emptyPath(),r)}(e))}function Ag(n,e,...t){if(n=Pe(n),arguments.length===1&&(e=cx.newId()),sw("doc","path",e),n instanceof kf){const r=qe.fromString(e,...t);return JR(r),new kt(n,null,new _e(r))}{if(!(n instanceof kt||n instanceof Ha))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return JR(r),new kt(n.firestore,n instanceof Ha?n.converter:null,new _e(r))}}function wD(n,e){return n=Pe(n),e=Pe(e),(n instanceof kt||n instanceof Ha)&&(e instanceof kt||e instanceof Ha)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function TD(n,e){return n=Pe(n),e=Pe(e),n instanceof nr&&e instanceof nr&&n.firestore===e.firestore&&If(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="AsyncQueue";class r1{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zb(this,"async_queue_retry"),this.bu=()=>{const r=jm();r&&pe(n1,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=jm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=jm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Vn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!fo(e))throw e;pe(n1,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Wt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Gb.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function fE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class jj{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=-1;let Yt=class extends kf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new r1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r1(e),this._firestoreClient=void 0,await e}}};function Gn(n){if(n._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||SD(n),n._firestoreClient}function SD(n){var e,t,r;const i=n._freezeSettings(),o=function(h,d,f,g){return new uB(h,d,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,pD(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new xj(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}function qj(n,e){Wi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return AD(n,sf.provider,{build:r=>new uD(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function Hj(n){Wi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();AD(n,sf.provider,{build:t=>new Ij(t,e.cacheSizeBytes)})}function AD(n,e,t){if((n=nt(n,Yt))._firestoreClient||n._terminated)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new de(ne.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},SD(n)}function $j(n){if(n._initialized&&!n._terminated)throw new de(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!qi.D())return Promise.resolve();const i=r+VO;await qi.delete(i)}(Ub(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function Gj(n){return function(t){const r=new Vn;return t.asyncQueue.enqueueAndForget(async()=>fj(await iw(t),r)),r.promise}(Gn(n=nt(n,Yt)))}function Kj(n){return Dj(Gn(n=nt(n,Yt)))}function Wj(n){return kj(Gn(n=nt(n,Yt)))}function Qj(n,e){const t=Gn(n=nt(n,Yt)),r=new jj;return Lj(t,n._databaseId,e,r),r}function Yj(n,e){return Uj(Gn(n=nt(n,Yt)),e).then(t=>t?new nr(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yi(qt.fromBase64String(e))}catch(t){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yi(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=/^__.*__$/;class Jj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cc(e,this.data,t,this.fieldTransforms)}}class ID{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function RD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class my{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new my(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ig(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(RD(this.Lu)&&Xj.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Zj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Of(e)}ju(e,t,r,i=!1){return new my({Lu:e,methodName:t,zu:r,path:St.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xl(n){const e=n._freezeSettings(),t=Of(n._databaseId);return new Zj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gy(n,e,t,r,i,o={}){const u=n.ju(o.merge||o.mergeFields?2:0,e,t,i);fw("Data must be an object, but it was:",u,r);const h=xD(r,u);let d,f;if(o.merge)d=new ur(u.fieldMask),f=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=pE(e,_,t);if(!u.contains(v))throw new de(ne.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);DD(g,v)||g.push(v)}d=new ur(g),f=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,f=u.fieldTransforms;return new Jj(new Nn(h),d,f)}class Nf extends Pl{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nf}}function CD(n,e,t){return new my({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ow extends Pl{_toFieldTransform(e){return new Cf(e.path,new uc)}isEqual(e){return e instanceof ow}}class lw extends Pl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=CD(this,e,!0),r=this.Hu.map(o=>Ol(o,t)),i=new yl(r);return new Cf(e.path,i)}isEqual(e){return e instanceof lw&&Vs(this.Hu,e.Hu)}}class uw extends Pl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=CD(this,e,!0),r=this.Hu.map(o=>Ol(o,t)),i=new _l(r);return new Cf(e.path,i)}isEqual(e){return e instanceof uw&&Vs(this.Hu,e.Hu)}}class cw extends Pl{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new cc(e.serializer,Jx(e.serializer,this.Ju));return new Cf(e.path,t)}isEqual(e){return e instanceof cw&&this.Ju===e.Ju}}function hw(n,e,t,r){const i=n.ju(1,e,t);fw("Data must be an object, but it was:",i,r);const o=[],u=Nn.empty();po(r,(d,f)=>{const g=pw(e,d,t);f=Pe(f);const _=i.Ku(g);if(f instanceof Nf)o.push(g);else{const v=Ol(f,_);v!=null&&(o.push(g),u.set(g,v))}});const h=new ur(o);return new ID(u,h,i.fieldTransforms)}function dw(n,e,t,r,i,o){const u=n.ju(1,e,t),h=[pE(e,r,t)],d=[i];if(o.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(pE(e,o[v])),d.push(o[v+1]);const f=[],g=Nn.empty();for(let v=h.length-1;v>=0;--v)if(!DD(f,h[v])){const T=h[v];let w=d[v];w=Pe(w);const I=u.Ku(T);if(w instanceof Nf)f.push(T);else{const P=Ol(w,I);P!=null&&(f.push(T),g.set(T,P))}}const _=new ur(f);return new ID(g,_,u.fieldTransforms)}function PD(n,e,t,r=!1){return Ol(t,n.ju(r?4:3,e))}function Ol(n,e){if(OD(n=Pe(n)))return fw("Unsupported field value:",e,n),xD(n,e);if(n instanceof Pl)return function(r,i){if(!RD(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const h of r){let d=Ol(h,i.Uu(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Pe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Jx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=It.fromDate(r);return{timestampValue:hc(i.serializer,o)}}if(r instanceof It){const o=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hc(i.serializer,o)}}if(r instanceof py)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yi)return{bytesValue:cO(i.serializer,r._byteString)};if(r instanceof kt){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ob(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof aw)return function(u,h){return{mapValue:{fields:{[Eb]:{stringValue:bb},[ac]:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.Wu("VectorValues must only contain numeric values.");return Ab(h.serializer,f)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${fy(r)}`)}(n,e)}function xD(n,e){const t={};return Rx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(n,(r,i)=>{const o=Ol(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function OD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof py||n instanceof Yi||n instanceof kt||n instanceof Pl||n instanceof aw)}function fw(n,e,t){if(!OD(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=fy(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function pE(n,e,t){if((e=Pe(e))instanceof no)return e._internalPath;if(typeof e=="string")return pw(n,e);throw Ig("Field path arguments must be of type string or ",n,!1,void 0,t)}const e3=new RegExp("[~\\*/\\[\\]]");function pw(n,e,t){if(e.search(e3)>=0)throw Ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new no(...e.split("."))._internalPath}catch{throw Ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ig(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${i}`),d+=")"),new de(ne.INVALID_ARGUMENT,h+n+d)}function DD(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class t3 extends af{data(){return super.data()}}function yy(n,e){return typeof e=="string"?pw(n,e):e instanceof no?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mw{}class Vf extends mw{}function Na(n,e,...t){let r=[];e instanceof mw&&r.push(e),r=r.concat(t),function(o){const u=o.filter(d=>d instanceof gw).length,h=o.filter(d=>d instanceof _y).length;if(u>1||u>0&&h>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class _y extends Vf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new _y(e,t,r)}_apply(e){const t=this._parse(e);return VD(e._query,t),new nr(e.firestore,e.converter,eE(e._query,t))}_parse(e){const t=xl(e.firestore);return function(o,u,h,d,f,g,_){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){s1(_,g);const w=[];for(const I of _)w.push(i1(d,o,I));v={arrayValue:{values:w}}}else v=i1(d,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||s1(_,g),v=PD(h,u,_,g==="in"||g==="not-in");return He.create(f,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function n3(n,e,t){const r=e,i=yy("where",n);return _y._create(i,r,t)}class gw extends mw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ot.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let u=i;const h=o.getFlattenedFilters();for(const d of h)VD(u,d),u=eE(u,d)}(e._query,t),new nr(e.firestore,e.converter,eE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yw extends Vf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yw(e,t)}_apply(e){const t=function(i,o,u){if(i.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ef(o,u)}(e._query,this._field,this._direction);return new nr(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new $s(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function r3(n,e="asc"){const t=e,r=yy("orderBy",n);return yw._create(r,t)}class vy extends Vf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new vy(e,t,r)}_apply(e){return new nr(e.firestore,e.converter,gg(e._query,this._limit,this._limitType))}}function i3(n){return gD("limit",n),vy._create("limit",n,"F")}function s3(n){return gD("limitToLast",n),vy._create("limitToLast",n,"L")}class Ey extends Vf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ey(e,t,r)}_apply(e){const t=ND(e,this.type,this._docOrFields,this._inclusive);return new nr(e.firestore,e.converter,function(i,o){return new $s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function a3(...n){return Ey._create("startAt",n,!0)}function o3(...n){return Ey._create("startAfter",n,!1)}class by extends Vf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new by(e,t,r)}_apply(e){const t=ND(e,this.type,this._docOrFields,this._inclusive);return new nr(e.firestore,e.converter,function(i,o){return new $s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function l3(...n){return by._create("endBefore",n,!1)}function u3(...n){return by._create("endAt",n,!0)}function ND(n,e,t,r){if(t[0]=Pe(t[0]),t[0]instanceof af)return function(o,u,h,d,f){if(!d)throw new de(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const _ of Hu(o))if(_.field.isKeyField())g.push(ml(u,d.key));else{const v=d.data.field(_.field);if(ty(v))throw new de(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const T=_.field.canonicalString();throw new de(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(v)}return new Za(g,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=xl(n.firestore);return function(u,h,d,f,g,_){const v=u.explicitOrderBy;if(g.length>v.length)throw new de(ne.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let w=0;w<g.length;w++){const I=g[w];if(v[w].field.isKeyField()){if(typeof I!="string")throw new de(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof I}`);if(!Tb(u)&&I.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${I}' contains a slash.`);const P=u.path.child(qe.fromString(I));if(!_e.isDocumentKey(P))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const U=new _e(P);T.push(ml(h,U))}else{const P=PD(d,f,I);T.push(P)}}return new Za(T,_)}(n._query,n.firestore._databaseId,i,e,t,r)}}function i1(n,e,t){if(typeof(t=Pe(t))=="string"){if(t==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tb(e)&&t.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qe.fromString(t));if(!_e.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ml(n,new _e(r))}if(t instanceof kt)return ml(n,t._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fy(t)}.`)}function s1(n,e){if(!Array.isArray(n)||n.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VD(n,e){const t=function(i,o){for(const u of i)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _w{convertValue(e,t="none"){switch(Xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return po(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ac].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>wt(u.doubleValue));return new aw(o)}convertGeoPoint(e){return new py(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ny(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Xd(e));default:return null}}convertTimestamp(e){const t=Us(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qe.fromString(e);Ae(bO(r));const i=new Ya(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(t)||Wt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class c3 extends _w{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Fs=class extends af{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(yy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Md=class extends Fs{data(e={}){return super.data(e)}},ro=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ol(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Md(this._firestore,this._userDataWriter,r.key,r,new ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const d=new Md(i._firestore,i._userDataWriter,h.doc.key,h.doc,new ol(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Md(i._firestore,i._userDataWriter,h.doc.key,h.doc,new ol(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return h.type!==0&&(f=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:h3(h.type),doc:d,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function h3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function MD(n,e){return n instanceof Fs&&e instanceof Fs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ro&&e instanceof ro&&n._firestore===e._firestore&&TD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(n){n=nt(n,kt);const e=nt(n.firestore,Yt);return dD(Gn(e),n._key).then(t=>vw(e,n,t))}class Dl extends _w{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}function f3(n){n=nt(n,kt);const e=nt(n.firestore,Yt),t=Gn(e),r=new Dl(e);return Nj(t,n._key).then(i=>new Fs(e,r,n._key,i,new ol(i!==null&&i.hasLocalMutations,!0),n.converter))}function p3(n){n=nt(n,kt);const e=nt(n.firestore,Yt);return dD(Gn(e),n._key,{source:"server"}).then(t=>vw(e,n,t))}function m3(n){n=nt(n,nr);const e=nt(n.firestore,Yt),t=Gn(e),r=new Dl(e);return kD(n._query),fD(t,n._query).then(i=>new ro(e,r,n,i))}function g3(n){n=nt(n,nr);const e=nt(n.firestore,Yt),t=Gn(e),r=new Dl(e);return Vj(t,n._query).then(i=>new ro(e,r,n,i))}function y3(n){n=nt(n,nr);const e=nt(n.firestore,Yt),t=Gn(e),r=new Dl(e);return fD(t,n._query,{source:"server"}).then(i=>new ro(e,r,n,i))}function a1(n,e,t){n=nt(n,kt);const r=nt(n.firestore,Yt),i=wy(n.converter,e,t);return Mf(r,[gy(xl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,At.none())])}function o1(n,e,t,...r){n=nt(n,kt);const i=nt(n.firestore,Yt),o=xl(i);let u;return u=typeof(e=Pe(e))=="string"||e instanceof no?dw(o,"updateDoc",n._key,e,t,r):hw(o,"updateDoc",n._key,e),Mf(i,[u.toMutation(n._key,At.exists(!0))])}function _3(n){return Mf(nt(n.firestore,Yt),[new Pc(n._key,At.none())])}function v3(n,e){const t=nt(n.firestore,Yt),r=Ag(n),i=wy(n.converter,e);return Mf(t,[gy(xl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,At.exists(!1))]).then(()=>r)}function LD(n,...e){var t,r,i;n=Pe(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||fE(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(fE(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[u+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let d,f,g;if(n instanceof kt)f=nt(n.firestore,Yt),g=Rc(n._key.path),d={next:_=>{e[u]&&e[u](vw(f,n,_))},error:e[u+1],complete:e[u+2]};else{const _=nt(n,nr);f=nt(_.firestore,Yt),g=_._query;const v=new Dl(f);d={next:T=>{e[u]&&e[u](new ro(f,v,_,T))},error:e[u+1],complete:e[u+2]},kD(n._query)}return function(v,T,w,I){const P=new hy(I),U=new Yb(T,P,w);return v.asyncQueue.enqueueAndForget(async()=>Kb(await yc(v),U)),()=>{P.su(),v.asyncQueue.enqueueAndForget(async()=>Wb(await yc(v),U))}}(Gn(f),g,h,d)}function E3(n,e){return Mj(Gn(n=nt(n,Yt)),fE(e)?e:{next:e})}function Mf(n,e){return function(r,i){const o=new Vn;return r.asyncQueue.enqueueAndForget(async()=>uj(await iw(r),i,o)),o.promise}(Gn(n),e)}function vw(n,e,t){const r=t.docs.get(e._key),i=new Dl(n);return new Fs(n,i,e._key,r,new ol(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w3=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xl(e)}set(e,t,r){this._verifyNotCommitted();const i=Ua(e,this._firestore),o=wy(i.converter,t,r),u=gy(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,At.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Ua(e,this._firestore);let u;return u=typeof(t=Pe(t))=="string"||t instanceof no?dw(this._dataReader,"WriteBatch.update",o._key,t,r,i):hw(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,At.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ua(e,this._firestore);return this._mutations=this._mutations.concat(new Pc(t._key,At.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ua(n,e){if((n=Pe(n)).firestore!==e)throw new de(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xl(e)}get(e){const t=Ua(e,this._firestore),r=new c3(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return we();const o=i[0];if(o.isFoundDocument())return new af(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new af(this._firestore,r,t._key,null,t.converter);throw we()})}set(e,t,r){const i=Ua(e,this._firestore),o=wy(i.converter,t,r),u=gy(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=Ua(e,this._firestore);let u;return u=typeof(t=Pe(t))=="string"||t instanceof no?dw(this._dataReader,"Transaction.update",o._key,t,r,i):hw(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Ua(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S3=class extends T3{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ua(e,this._firestore),r=new Dl(this._firestore);return super.get(e).then(i=>new Fs(this._firestore,r,t._key,i._document,new ol(!1,!1),t.converter))}};function A3(n,e,t){n=nt(n,Yt);const r=Object.assign(Object.assign({},b3),t);return function(o){if(o.maxAttempts<1)throw new de(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const d=new Vn;return o.asyncQueue.enqueueAndForget(async()=>{const f=await Oj(o);new Pj(o.asyncQueue,f,h,u,d).Iu()}),d.promise}(Gn(n),i=>e(new S3(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(){return new Nf("deleteField")}function R3(){return new ow("serverTimestamp")}function C3(...n){return new lw("arrayUnion",n)}function P3(...n){return new uw("arrayRemove",n)}function x3(n){return new cw("increment",n)}(function(e,t=!0){(function(i){Ic=i})(lo),Ka(new Gi("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Yt(new A5(r.getProvider("auth-internal")),new C5(u,r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ya(f.options.projectId,g)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),ci(BI,FI,e),ci(BI,FI,"esm2017")})();const O3="@firebase/firestore-compat",D3="0.3.44";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new de("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){if(typeof Uint8Array>"u")throw new de("unimplemented","Uint8Arrays are not available in this environment.")}function u1(){if(!oB())throw new de("unimplemented","Blobs are unavailable in Firestore in this environment.")}let UD=class mE{constructor(e){this._delegate=e}static fromBase64String(e){return u1(),new mE(Yi.fromBase64String(e))}static fromUint8Array(e){return l1(),new mE(Yi.fromUint8Array(e))}toBase64(){return u1(),this._delegate.toBase64()}toUint8Array(){return l1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(n){return k3(n,["next","error","complete"])}function k3(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{enableIndexedDbPersistence(e,t){return qj(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return Hj(e._delegate)}clearIndexedDbPersistence(e){return $j(e._delegate)}}class BD{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ya||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Wi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){Bj(this._delegate,e,t,r)}enableNetwork(){return Kj(this._delegate)}disableNetwork(){return Wj(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,mD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Gj(this._delegate)}onSnapshotsInSync(e){return E3(this._delegate,e)}get app(){if(!this._appCompat)throw new de("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _c(this,bD(this._delegate,e))}catch(t){throw Zn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Yr(this,Ag(this._delegate,e))}catch(t){throw Zn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Jn(this,Fj(this._delegate,e))}catch(t){throw Zn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return A3(this._delegate,t=>e(new FD(this,t)))}batch(){return Gn(this._delegate),new jD(new w3(this._delegate,e=>Mf(this._delegate,e)))}loadBundle(e){return Qj(this._delegate,e)}namedQuery(e){return Yj(this._delegate,e).then(t=>t?new Jn(this,t):null)}}class Ty extends _w{constructor(e){super(),this.firestore=e}convertBytes(e){return new UD(new Yi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Yr.forKey(t,this.firestore,null)}}function V3(n){b5(n)}class FD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ty(e)}get(e){const t=ll(e);return this._delegate.get(t).then(r=>new of(this._firestore,new Fs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ll(e);return r?(Ew("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=ll(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=ll(e);return this._delegate.delete(t),this}}class jD{constructor(e){this._delegate=e}set(e,t,r){const i=ll(e);return r?(Ew("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=ll(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=ll(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Tl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Md(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lf(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Tl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Tl(e,new Ty(e),t),i.set(t,o)),o}}Tl.INSTANCES=new WeakMap;class Yr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ty(e)}static forPath(e,t,r){if(e.length%2!==0)throw new de("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Yr(t,new kt(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new Yr(t,new kt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new _c(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _c(this.firestore,bD(this._delegate,e))}catch(t){throw Zn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Pe(e),e instanceof kt?wD(this._delegate,e):!1}set(e,t){t=Ew("DocumentReference.set",t);try{return t?a1(this._delegate,e,t):a1(this._delegate,e)}catch(r){throw Zn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?o1(this._delegate,e):o1(this._delegate,e,t,...r)}catch(i){throw Zn(i,"updateDoc()","DocumentReference.update()")}}delete(){return _3(this._delegate)}onSnapshot(...e){const t=zD(e),r=qD(e,i=>new of(this.firestore,new Fs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return LD(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=f3(this._delegate):(e==null?void 0:e.source)==="server"?t=p3(this._delegate):t=d3(this._delegate),t.then(r=>new of(this.firestore,new Fs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Yr(this.firestore,e?this._delegate.withConverter(Tl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Zn(n,e,t){return n.message=n.message.replace(e,t),n}function zD(n){for(const e of n)if(typeof e=="object"&&!gE(e))return e;return{}}function qD(n,e){var t,r;let i;return gE(n[0])?i=n[0]:gE(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class of{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Yr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return MD(this._delegate,e._delegate)}}class lf extends of{data(e){const t=this._delegate.data(e);return this._delegate._converter||w5(t!==void 0),t}}class Jn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ty(e)}where(e,t,r){try{return new Jn(this.firestore,Na(this._delegate,n3(e,t,r)))}catch(i){throw Zn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Jn(this.firestore,Na(this._delegate,r3(e,t)))}catch(r){throw Zn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Jn(this.firestore,Na(this._delegate,i3(e)))}catch(t){throw Zn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Jn(this.firestore,Na(this._delegate,s3(e)))}catch(t){throw Zn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Jn(this.firestore,Na(this._delegate,a3(...e)))}catch(t){throw Zn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Jn(this.firestore,Na(this._delegate,o3(...e)))}catch(t){throw Zn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Jn(this.firestore,Na(this._delegate,l3(...e)))}catch(t){throw Zn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Jn(this.firestore,Na(this._delegate,u3(...e)))}catch(t){throw Zn(t,"endAt()","Query.endAt()")}}isEqual(e){return TD(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=g3(this._delegate):(e==null?void 0:e.source)==="server"?t=y3(this._delegate):t=m3(this._delegate),t.then(r=>new yE(this.firestore,new ro(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=zD(e),r=qD(e,i=>new yE(this.firestore,new ro(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return LD(this._delegate,t,r)}withConverter(e){return new Jn(this.firestore,e?this._delegate.withConverter(Tl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class M3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class yE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Jn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new M3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new lf(this._firestore,r))})}isEqual(e){return MD(this._delegate,e._delegate)}}class _c extends Jn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Yr(this.firestore,e):null}doc(e){try{return e===void 0?new Yr(this.firestore,Ag(this._delegate)):new Yr(this.firestore,Ag(this._delegate,e))}catch(t){throw Zn(t,"doc()","CollectionReference.doc()")}}add(e){return v3(this._delegate,e).then(t=>new Yr(this.firestore,t))}isEqual(e){return wD(this._delegate,e._delegate)}withConverter(e){return new _c(this.firestore,e?this._delegate.withConverter(Tl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ll(n){return nt(n,kt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(...e){this._delegate=new no(...e)}static documentId(){return new bw(St.keyField().canonicalString())}isEqual(e){return e=Pe(e),e instanceof no?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{static serverTimestamp(){const e=R3();return e._methodName="FieldValue.serverTimestamp",new il(e)}static delete(){const e=I3();return e._methodName="FieldValue.delete",new il(e)}static arrayUnion(...e){const t=C3(...e);return t._methodName="FieldValue.arrayUnion",new il(t)}static arrayRemove(...e){const t=P3(...e);return t._methodName="FieldValue.arrayRemove",new il(t)}static increment(e){const t=x3(e);return t._methodName="FieldValue.increment",new il(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3={Firestore:BD,GeoPoint:py,Timestamp:It,Blob:UD,Transaction:FD,WriteBatch:jD,DocumentReference:Yr,DocumentSnapshot:of,Query:Jn,QueryDocumentSnapshot:lf,QuerySnapshot:yE,CollectionReference:_c,FieldPath:bw,FieldValue:il,setLogLevel:V3,CACHE_SIZE_UNLIMITED:zj};function U3(n,e){n.INTERNAL.registerComponent(new Gi("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},L3)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(n){U3(n,(e,t)=>new BD(e,t,new N3)),n.registerVersion(O3,D3)}B3(uo);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=2e3;async function j3(n,e,t){var r;const{BuildInfo:i}=Sl();hi(e.sessionId,"AuthEvent did not contain a session ID");const o=await G3(e.sessionId),u={};return _f()?u.ibi=i.packageName:yf()?u.apn=i.packageName:Rn(n,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=o,j0(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function z3(n){const{BuildInfo:e}=Sl(),t={};_f()?t.iosBundleId=e.packageName:yf()?t.androidPackageName=e.packageName:Rn(n,"operation-not-supported-in-this-environment"),await ex(n,t)}function q3(n){const{cordova:e}=Sl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,CL()?"_blank":"_system","location=yes"),t(i)})})}async function H3(n,e,t){const{cordova:r}=Sl();let i=()=>{};try{await new Promise((o,u)=>{let h=null;function d(){var _;o();const v=(_=r.plugins.browsertab)===null||_===void 0?void 0:_.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function f(){h||(h=window.setTimeout(()=>{u(mn(n,"redirect-cancelled-by-user"))},F3))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),yf()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{i()}}function $3(n){var e,t,r,i,o,u,h,d,f,g;const _=Sl();me(typeof((e=_==null?void 0:_.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof((t=_==null?void 0:_.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me(typeof((o=(i=(r=_==null?void 0:_.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((d=(h=(u=_==null?void 0:_.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((g=(f=_==null?void 0:_.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function G3(n){const e=K3(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function K3(n){if(hi(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=20;class Q3 extends JP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Y3(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:Z3(),postBody:null,tenantId:n.tenantId,error:mn(n,"no-auth-event")}}function X3(n,e){return _E()._set(vE(n),e)}async function c1(n){const e=await _E()._get(vE(n));return e&&await _E()._remove(vE(n)),e}function J3(n,e){var t,r;const i=tz(e);if(i.includes("/__/auth/callback")){const o=zm(i),u=o.firebaseError?ez(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=h?mn(h):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function Z3(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<W3;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function _E(){return Ir(Gg)}function vE(n){return cl("authEvent",n.config.apiKey,n.name)}function ez(n){try{return JSON.parse(n)}catch{return null}}function tz(n){const e=zm(n),t=e.link?decodeURIComponent(e.link):void 0,r=zm(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return zm(i).link||i||r||t||n}function zm(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Bu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=500;class rz{constructor(){this._redirectPersistence=Wa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Yg,this._overrideRedirectResult=hb}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new Q3(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Rn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){$3(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),xU(),await this._originValidation(e);const u=Y3(e,r,i);await X3(e,u);const h=await j3(e,u,t),d=await q3(h);return H3(e,o,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=z3(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=Sl(),u=setTimeout(async()=>{await c1(e),t.onEvent(h1())},nz),h=async g=>{clearTimeout(u);const _=await c1(e);let v=null;_&&(g!=null&&g.url)&&(v=J3(_,g.url)),t.onEvent(v||h1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const d=i,f=`${o.packageName.toLowerCase()}://`;Sl().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(f)&&h({url:g}),typeof d=="function")try{d(g)}catch(_){console.error(_)}}}}const iz=rz;function h1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:mn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(n,e){Mt(n)._logFramework(e)}var az="@firebase/auth-compat",oz="0.5.19";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=1e3;function Ld(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function uz(){return Ld()==="http:"||Ld()==="https:"}function HD(n=Vt()){return!!((Ld()==="file:"||Ld()==="ionic:"||Ld()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function cz(){return HE()||qE()}function hz(){return $C()&&(document==null?void 0:document.documentMode)===11}function dz(n=Vt()){return/Edge\/\d+/.test(n)}function fz(n=Vt()){return hz()||dz(n)}function $D(){try{const n=self.localStorage,e=bf();if(n)return n.setItem(e,"1"),n.removeItem(e),fz()?Fd():!0}catch{return ww()&&Fd()}return!1}function ww(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function p0(){return(uz()||HC()||HD())&&!cz()&&$D()&&!ww()}function GD(){return HD()&&typeof document<"u"}async function pz(){return GD()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},lz);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function mz(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr={LOCAL:"local",NONE:"none",SESSION:"session"},td=me,KD="persistence";function gz(n,e){if(td(Object.values(Sr).includes(e),n,"invalid-persistence-type"),HE()){td(e!==Sr.SESSION,n,"unsupported-persistence-type");return}if(qE()){td(e===Sr.NONE,n,"unsupported-persistence-type");return}if(ww()){td(e===Sr.NONE||e===Sr.LOCAL&&Fd(),n,"unsupported-persistence-type");return}td(e===Sr.NONE||$D(),n,"unsupported-persistence-type")}async function EE(n){await n._initializationPromise;const e=WD(),t=cl(KD,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function yz(n,e){const t=WD();if(!t)return[];const r=cl(KD,n,e);switch(t.getItem(r)){case Sr.NONE:return[Xu];case Sr.LOCAL:return[Zu,Wa];case Sr.SESSION:return[Wa];default:return[]}}function WD(){var n;try{return((n=mz())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z=me;class Ba{constructor(){this.browserResolver=Ir(tx),this.cordovaResolver=Ir(iz),this.underlyingResolver=null,this._redirectPersistence=Wa,this._completeRedirectFn=Yg,this._overrideRedirectResult=hb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return GD()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _z(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await pz();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(n){return n.unwrap()}function vz(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(n){return YD(n)}function bz(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new wz(n,$4(n,e))}else if(r){const i=YD(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function YD(n){const{_tokenResponse:e}=n instanceof er?n.customData:n;if(!e)return null;if(!(n instanceof er)&&"temporaryProof"in e&&"phoneNumber"in e)return pl.credentialFromResult(n);const t=e.providerId;if(!t||t===Wh.PASSWORD)return null;let r;switch(t){case Wh.GOOGLE:r=Mi;break;case Wh.FACEBOOK:r=Vi;break;case Wh.GITHUB:r=Li;break;case Wh.TWITTER:r=Ui;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:d}=e;return!o&&!u&&!i&&!h?null:h?t.startsWith("saml.")?Ju._create(t,h):Ki._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:i,accessToken:o}):new zu(t).credential({idToken:i,accessToken:o,rawNonce:d})}return n instanceof er?r.credentialFromError(n):r.credentialFromResult(n)}function or(n,e){return e.catch(t=>{throw t instanceof er&&bz(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:Ez(t),additionalUserInfo:z4(t),user:Ds.getOrCreate(i)}})}async function bE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>or(n,t.confirm(r))}}class wz{constructor(e,t){this.resolver=t,this.auth=vz(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return or(QD(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._delegate=e,this.multiFactor=W4(e)}static getOrCreate(e){return Ds.USER_MAP.has(e)||Ds.USER_MAP.set(e,new Ds(e)),Ds.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return or(this.auth,VP(this._delegate,e))}async linkWithPhoneNumber(e,t){return bE(this.auth,yU(this._delegate,e,t))}async linkWithPopup(e){return or(this.auth,IU(this._delegate,e,Ba))}async linkWithRedirect(e){return await EE(Mt(this.auth)),VU(this._delegate,e,Ba)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return or(this.auth,MP(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return bE(this.auth,_U(this._delegate,e,t))}reauthenticateWithPopup(e){return or(this.auth,AU(this._delegate,e,Ba))}async reauthenticateWithRedirect(e){return await EE(Mt(this.auth)),kU(this._delegate,e,Ba)}sendEmailVerification(e){return O4(this._delegate,e)}async unlink(e){return await v4(this._delegate,e),this}updateEmail(e){return V4(this._delegate,e)}updatePassword(e){return M4(this._delegate,e)}updatePhoneNumber(e){return vU(this._delegate,e)}updateProfile(e){return N4(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return D4(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ds.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=me;let wE=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;nd(r,"invalid-api-key",{appName:e.name}),nd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Ba:void 0;this._delegate=t.initialize({options:{persistence:Tz(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(uL),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ds.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){RP(this._delegate,e,t)}applyActionCode(e){return S4(this._delegate,e)}checkActionCode(e){return LP(this._delegate,e)}confirmPasswordReset(e,t){return T4(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return or(this._delegate,UP(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return x4(this._delegate,e)}isSignInWithEmailLink(e){return R4(this._delegate,e)}async getRedirectResult(){nd(p0(),this._delegate,"operation-not-supported-in-this-environment");const e=await LU(this._delegate,Ba);return e?or(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){sz(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:u}=d1(e,t,r);return this._delegate.onAuthStateChanged(i,o,u)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:u}=d1(e,t,r);return this._delegate.onIdTokenChanged(i,o,u)}sendSignInLinkToEmail(e,t){return I4(this._delegate,e,t)}sendPasswordResetEmail(e,t){return w4(this._delegate,e,t||void 0)}async setPersistence(e){gz(this._delegate,e);let t;switch(e){case Sr.SESSION:t=Wa;break;case Sr.LOCAL:t=await Ir(Zu)._isAvailable()?Zu:Gg;break;case Sr.NONE:t=Xu;break;default:return Rn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return or(this._delegate,_4(this._delegate))}signInWithCredential(e){return or(this._delegate,Hg(this._delegate,e))}signInWithCustomToken(e){return or(this._delegate,b4(this._delegate,e))}signInWithEmailAndPassword(e,t){return or(this._delegate,BP(this._delegate,e,t))}signInWithEmailLink(e,t){return or(this._delegate,C4(this._delegate,e,t))}signInWithPhoneNumber(e,t){return bE(this._delegate,gU(this._delegate,e,t))}async signInWithPopup(e){return nd(p0(),this._delegate,"operation-not-supported-in-this-environment"),or(this._delegate,SU(this._delegate,e,Ba))}async signInWithRedirect(e){return nd(p0(),this._delegate,"operation-not-supported-in-this-environment"),await EE(this._delegate),OU(this._delegate,e,Ba)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return A4(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};wE.Persistence=Sr;function d1(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:u=>i(u&&Ds.getOrCreate(u)),error:e,complete:t}}function Tz(n,e){const t=yz(n,e);if(typeof self<"u"&&!t.includes(Zu)&&t.push(Zu),typeof window<"u")for(const r of[Gg,Wa])t.includes(r)||t.push(r);return t.includes(Xu)||t.push(Xu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{static credential(e,t){return pl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new pl(QD(uo.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Tw.PHONE_SIGN_IN_METHOD=pl.PHONE_SIGN_IN_METHOD;Tw.PROVIDER_ID=pl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=me;class Az{constructor(e,t,r=uo.app()){var i;Sz((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new pU(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz="auth-compat";function Rz(n){n.INTERNAL.registerComponent(new Gi(Iz,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new wE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:bu.EMAIL_SIGNIN,PASSWORD_RESET:bu.PASSWORD_RESET,RECOVER_EMAIL:bu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:bu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:bu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:bu.VERIFY_EMAIL}},EmailAuthProvider:co,FacebookAuthProvider:Vi,GithubAuthProvider:Li,GoogleAuthProvider:Mi,OAuthProvider:zu,SAMLAuthProvider:ig,PhoneAuthProvider:Tw,PhoneMultiFactorGenerator:nx,RecaptchaVerifier:Az,TwitterAuthProvider:Ui,Auth:wE,AuthCredential:Sc,Error:er}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(az,oz)}Rz(uo);const Cz={apiKey:"AIzaSyAa6B4hxZwY6yIFGdlI4Jyv-a-GingreX4",authDomain:"project-e-clone-8aa77.firebaseapp.com",projectId:"project-e-clone-8aa77",storageBucket:"project-e-clone-8aa77.firebasestorage.app",messagingSenderId:"298670414474",appId:"1:298670414474:web:8432130cddc34878ae6b73"};uo.initializeApp(Cz);const Rg=v5(uo.app()),XD=uo.firestore();var rd={},f1;function Pz(){if(f1)return rd;f1=1,Object.defineProperty(rd,"__esModule",{value:!0}),rd.parse=u,rd.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,T){const w=new o,I=v.length;if(I<2)return w;const P=(T==null?void 0:T.decode)||g;let U=0;do{const M=v.indexOf("=",U);if(M===-1)break;const L=v.indexOf(";",U),$=L===-1?I:L;if(M>$){U=v.lastIndexOf(";",M-1)+1;continue}const F=h(v,U,M),H=d(v,M,F),V=v.slice(F,H);if(w[V]===void 0){let C=h(v,M+1,$),R=d(v,$,C);const b=P(v.slice(C,R));w[V]=b}U=$+1}while(U<I);return w}function h(v,T,w){do{const I=v.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<w);return w}function d(v,T,w){for(;T>w;){const I=v.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return w}function f(v,T,w){const I=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const P=I(T);if(!e.test(P))throw new TypeError(`argument val is invalid: ${T}`);let U=v+"="+P;if(!w)return U;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);U+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);U+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);U+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);U+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(U+="; HttpOnly"),w.secure&&(U+="; Secure"),w.partitioned&&(U+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return U}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return i.call(v)==="[object Date]"}return rd}Pz();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var p1="popstate";function xz(n={}){function e(r,i){let{pathname:o,search:u,hash:h}=r.location;return TE("",{pathname:o,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:uf(i)}return Dz(e,t,null,n)}function Nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Xi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Oz(){return Math.random().toString(36).substring(2,10)}function m1(n,e){return{usr:n.state,key:n.key,idx:e}}function TE(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Nc(e):e,state:t,key:e&&e.key||r||Oz()}}function uf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Nc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Dz(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,h="POP",d=null,f=g();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let P=g(),U=P==null?null:P-f;f=P,d&&d({action:h,location:I.location,delta:U})}function v(P,U){h="PUSH";let M=TE(I.location,P,U);f=g()+1;let L=m1(M,f),$=I.createHref(M);try{u.pushState(L,"",$)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign($)}o&&d&&d({action:h,location:I.location,delta:1})}function T(P,U){h="REPLACE";let M=TE(I.location,P,U);f=g();let L=m1(M,f),$=I.createHref(M);u.replaceState(L,"",$),o&&d&&d({action:h,location:I.location,delta:0})}function w(P){let U=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof P=="string"?P:uf(P);return M=M.replace(/ $/,"%20"),Nt(U,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,U)}let I={get action(){return h},get location(){return n(i,u)},listen(P){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(p1,_),d=P,()=>{i.removeEventListener(p1,_),d=null}},createHref(P){return e(i,P)},createURL:w,encodeLocation(P){let U=w(P);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:v,replace:T,go(P){return u.go(P)}};return I}function JD(n,e,t="/"){return kz(n,e,t,!1)}function kz(n,e,t,r){let i=typeof e=="string"?Nc(e):e,o=io(i.pathname||"/",t);if(o==null)return null;let u=ZD(n);Nz(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let f=$z(o);h=qz(u[d],f,r)}return h}function ZD(n,e=[],t=[],r=""){let i=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(Nt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=Ns([r,d.relativePath]),g=t.concat(d);o.children&&o.children.length>0&&(Nt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),ZD(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:jz(f,o.index),routesMeta:g})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let d of ek(o.path))i(o,u,d)}),e}function ek(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=ek(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),i&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function Nz(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:zz(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Vz=/^:[\w-]+$/,Mz=3,Lz=2,Uz=1,Bz=10,Fz=-2,g1=n=>n==="*";function jz(n,e){let t=n.split("/"),r=t.length;return t.some(g1)&&(r+=Fz),e&&(r+=Lz),t.filter(i=>!g1(i)).reduce((i,o)=>i+(Vz.test(o)?Mz:o===""?Uz:Bz),r)}function zz(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function qz(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],f=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=Cg({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),v=d.route;if(!_&&f&&t&&!r[r.length-1].route.index&&(_=Cg({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:Ns([o,_.pathname]),pathnameBase:Qz(Ns([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=Ns([o,_.pathnameBase]))}return u}function Cg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Hz(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:_},v)=>{if(g==="*"){let w=h[v]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const T=h[v];return _&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:u,pattern:n}}function Hz(n,e=!1,t=!0){Xi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $z(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function io(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Gz(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Nc(n):n;return{pathname:t?t.startsWith("/")?t:Kz(t,e):e,search:Yz(r),hash:Xz(i)}}function Kz(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function m0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wz(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tk(n){let e=Wz(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function nk(n,e,t,r=!1){let i;typeof n=="string"?i=Nc(n):(i={...n},Nt(!i.pathname||!i.pathname.includes("?"),m0("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),m0("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),m0("#","search","hash",i)));let o=n===""||i.pathname==="",u=o?"/":i.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;i.pathname=v.join("/")}h=_>=0?e[_]:"/"}let d=Gz(i,h),f=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var Ns=n=>n.join("/").replace(/\/\/+/g,"/"),Qz=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Yz=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Xz=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Jz(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rk=["POST","PUT","PATCH","DELETE"];new Set(rk);var Zz=["GET",...rk];new Set(Zz);var Vc=K.createContext(null);Vc.displayName="DataRouter";var Sy=K.createContext(null);Sy.displayName="DataRouterState";var ik=K.createContext({isTransitioning:!1});ik.displayName="ViewTransition";var e6=K.createContext(new Map);e6.displayName="Fetchers";var t6=K.createContext(null);t6.displayName="Await";var Ji=K.createContext(null);Ji.displayName="Navigation";var Lf=K.createContext(null);Lf.displayName="Location";var Zi=K.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var Sw=K.createContext(null);Sw.displayName="RouteError";function n6(n,{relative:e}={}){Nt(Uf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=K.useContext(Ji),{hash:i,pathname:o,search:u}=Bf(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ns([t,o])),r.createHref({pathname:h,search:u,hash:i})}function Uf(){return K.useContext(Lf)!=null}function yo(){return Nt(Uf(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Lf).location}var sk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ak(n){K.useContext(Ji).static||K.useLayoutEffect(n)}function Ay(){let{isDataRoute:n}=K.useContext(Zi);return n?m6():r6()}function r6(){Nt(Uf(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(Vc),{basename:e,navigator:t}=K.useContext(Ji),{matches:r}=K.useContext(Zi),{pathname:i}=yo(),o=JSON.stringify(tk(r)),u=K.useRef(!1);return ak(()=>{u.current=!0}),K.useCallback((d,f={})=>{if(Xi(u.current,sk),!u.current)return;if(typeof d=="number"){t.go(d);return}let g=nk(d,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ns([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,i,n])}K.createContext(null);function ok(){let{matches:n}=K.useContext(Zi),e=n[n.length-1];return e?e.params:{}}function Bf(n,{relative:e}={}){let{matches:t}=K.useContext(Zi),{pathname:r}=yo(),i=JSON.stringify(tk(t));return K.useMemo(()=>nk(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function i6(n,e){return lk(n,e)}function lk(n,e,t,r){var M;Nt(Uf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=K.useContext(Ji),{matches:u}=K.useContext(Zi),h=u[u.length-1],d=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let L=_&&_.path||"";uk(f,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=yo(),T;if(e){let L=typeof e=="string"?Nc(e):e;Nt(g==="/"||((M=L.pathname)==null?void 0:M.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),T=L}else T=v;let w=T.pathname||"/",I=w;if(g!=="/"){let L=g.replace(/^\//,"").split("/");I="/"+w.replace(/^\//,"").split("/").slice(L.length).join("/")}let P=!o&&t&&t.matches&&t.matches.length>0?t.matches:JD(n,{pathname:I});Xi(_||P!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Xi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=u6(P&&P.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:Ns([g,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:Ns([g,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,t,r);return e&&U?K.createElement(Lf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},U):U}function s6(){let n=p6(),e=Jz(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:o},"ErrorBoundary")," or"," ",K.createElement("code",{style:o},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:i},t):null,u)}var a6=K.createElement(s6,null),o6=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(Zi.Provider,{value:this.props.routeContext},K.createElement(Sw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function l6({routeContext:n,match:e,children:t}){let r=K.useContext(Vc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Zi.Provider,{value:n},t)}function u6(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Nt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,h=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=d),f.route.id){let{loaderData:g,errors:_}=t,v=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||v){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((d,f,g)=>{let _,v=!1,T=null,w=null;t&&(_=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||a6,u&&(h<0&&g===0?(uk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):h===g&&(v=!0,w=f.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,g+1)),P=()=>{let U;return _?U=T:v?U=w:f.route.Component?U=K.createElement(f.route.Component,null):f.route.element?U=f.route.element:U=d,K.createElement(l6,{match:f,routeContext:{outlet:d,matches:I,isDataRoute:t!=null},children:U})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?K.createElement(o6,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:P(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):P()},null)}function Aw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c6(n){let e=K.useContext(Vc);return Nt(e,Aw(n)),e}function h6(n){let e=K.useContext(Sy);return Nt(e,Aw(n)),e}function d6(n){let e=K.useContext(Zi);return Nt(e,Aw(n)),e}function Iw(n){let e=d6(n),t=e.matches[e.matches.length-1];return Nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function f6(){return Iw("useRouteId")}function p6(){var r;let n=K.useContext(Sw),e=h6("useRouteError"),t=Iw("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function m6(){let{router:n}=c6("useNavigate"),e=Iw("useNavigate"),t=K.useRef(!1);return ak(()=>{t.current=!0}),K.useCallback(async(i,o={})=>{Xi(t.current,sk),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var y1={};function uk(n,e,t){!e&&!y1[n]&&(y1[n]=!0,Xi(!1,t))}K.memo(g6);function g6({routes:n,future:e,state:t}){return lk(n,void 0,t,e)}function Va(n){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y6({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Nt(!Uf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=K.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof t=="string"&&(t=Nc(t));let{pathname:d="/",search:f="",hash:g="",state:_=null,key:v="default"}=t,T=K.useMemo(()=>{let w=io(d,u);return w==null?null:{location:{pathname:w,search:f,hash:g,state:_,key:v},navigationType:r}},[u,d,f,g,_,v,r]);return Xi(T!=null,`<Router basename="${u}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:K.createElement(Ji.Provider,{value:h},K.createElement(Lf.Provider,{children:e,value:T}))}function _6({children:n,location:e}){return i6(SE(n),e)}function SE(n,e=[]){let t=[];return K.Children.forEach(n,(r,i)=>{if(!K.isValidElement(r))return;let o=[...e,i];if(r.type===K.Fragment){t.push.apply(t,SE(r.props.children,o));return}Nt(r.type===Va,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=SE(r.props.children,o)),t.push(u)}),t}var qm="get",Hm="application/x-www-form-urlencoded";function Iy(n){return n!=null&&typeof n.tagName=="string"}function v6(n){return Iy(n)&&n.tagName.toLowerCase()==="button"}function E6(n){return Iy(n)&&n.tagName.toLowerCase()==="form"}function b6(n){return Iy(n)&&n.tagName.toLowerCase()==="input"}function w6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function T6(n,e){return n.button===0&&(!e||e==="_self")&&!w6(n)}var bm=null;function S6(){if(bm===null)try{new FormData(document.createElement("form"),0),bm=!1}catch{bm=!0}return bm}var A6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function g0(n){return n!=null&&!A6.has(n)?(Xi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hm}"`),null):n}function I6(n,e){let t,r,i,o,u;if(E6(n)){let h=n.getAttribute("action");r=h?io(h,e):null,t=n.getAttribute("method")||qm,i=g0(n.getAttribute("enctype"))||Hm,o=new FormData(n)}else if(v6(n)||b6(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?io(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||qm,i=g0(n.getAttribute("formenctype"))||g0(h.getAttribute("enctype"))||Hm,o=new FormData(h,n),!S6()){let{name:f,type:g,value:_}=n;if(g==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,_)}}else{if(Iy(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qm,r=null,i=Hm,u=n}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:u}}function Rw(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function R6(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function C6(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function P6(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await R6(o,t);return u.links?u.links():[]}return[]}));return k6(r.flat(1).filter(C6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function _1(n,e,t,r,i,o){let u=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>{var g;return t[f].pathname!==d.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>u(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{var _;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function x6(n,e,{includeHydrateFallback:t}={}){return O6(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function O6(n){return[...new Set(n)]}function D6(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function k6(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(D6(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function N6(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function V6(){let n=K.useContext(Vc);return Rw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function M6(){let n=K.useContext(Sy);return Rw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Cw=K.createContext(void 0);Cw.displayName="FrameworkContext";function ck(){let n=K.useContext(Cw);return Rw(n,"You must render this element inside a <HydratedRouter> element"),n}function L6(n,e){let t=K.useContext(Cw),[r,i]=K.useState(!1),[o,u]=K.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:_}=e,v=K.useRef(null);K.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let I=U=>{U.forEach(M=>{u(M.isIntersecting)})},P=new IntersectionObserver(I,{threshold:.5});return v.current&&P.observe(v.current),()=>{P.disconnect()}}},[n]),K.useEffect(()=>{if(r){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[r]);let T=()=>{i(!0)},w=()=>{i(!1),u(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:id(h,T),onBlur:id(d,w),onMouseEnter:id(f,T),onMouseLeave:id(g,w),onTouchStart:id(_,T)}]:[!1,v,{}]}function id(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function U6({page:n,...e}){let{router:t}=V6(),r=K.useMemo(()=>JD(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?K.createElement(F6,{page:n,matches:r,...e}):null}function B6(n){let{manifest:e,routeModules:t}=ck(),[r,i]=K.useState([]);return K.useEffect(()=>{let o=!1;return P6(n,e,t).then(u=>{o||i(u)}),()=>{o=!0}},[n,e,t]),r}function F6({page:n,matches:e,...t}){let r=yo(),{manifest:i,routeModules:o}=ck(),{loaderData:u,matches:h}=M6(),d=K.useMemo(()=>_1(n,e,h,i,r,"data"),[n,e,h,i,r]),f=K.useMemo(()=>_1(n,e,h,i,r,"assets"),[n,e,h,i,r]),g=K.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,w=!1;if(e.forEach(P=>{var M;let U=i.routes[P.route.id];!U||!U.hasLoader||(!d.some(L=>L.route.id===P.route.id)&&P.route.id in u&&((M=o[P.route.id])!=null&&M.shouldRevalidate)||U.hasClientLoader?w=!0:T.add(P.route.id))}),T.size===0)return[];let I=N6(n);return w&&T.size>0&&I.searchParams.set("_routes",e.filter(P=>T.has(P.route.id)).map(P=>P.route.id).join(",")),[I.pathname+I.search]},[u,r,i,d,e,n,o]),_=K.useMemo(()=>x6(f,i),[f,i]),v=B6(f);return K.createElement(K.Fragment,null,g.map(T=>K.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),_.map(T=>K.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),v.map(({key:T,link:w})=>K.createElement("link",{key:T,...w})))}function j6(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var hk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hk&&(window.__reactRouterVersion="7.2.0")}catch{}function z6({basename:n,children:e,window:t}){let r=K.useRef();r.current==null&&(r.current=xz({window:t,v5Compat:!0}));let i=r.current,[o,u]=K.useState({action:i.action,location:i.location}),h=K.useCallback(d=>{K.startTransition(()=>u(d))},[u]);return K.useLayoutEffect(()=>i.listen(h),[i,h]),K.createElement(y6,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var dk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ui=K.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:h,target:d,to:f,preventScrollReset:g,viewTransition:_,...v},T){let{basename:w}=K.useContext(Ji),I=typeof f=="string"&&dk.test(f),P,U=!1;if(typeof f=="string"&&I&&(P=f,hk))try{let R=new URL(window.location.href),b=f.startsWith("//")?new URL(R.protocol+f):new URL(f),x=io(b.pathname,w);b.origin===R.origin&&x!=null?f=x+b.search+b.hash:U=!0}catch{Xi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=n6(f,{relative:i}),[L,$,F]=L6(r,v),H=G6(f,{replace:u,state:h,target:d,preventScrollReset:g,relative:i,viewTransition:_});function V(R){e&&e(R),R.defaultPrevented||H(R)}let C=K.createElement("a",{...v,...F,href:P||M,onClick:U||o?e:V,ref:j6(T,$),target:d,"data-discover":!I&&t==="render"?"true":void 0});return L&&!I?K.createElement(K.Fragment,null,C,K.createElement(U6,{page:M})):C});ui.displayName="Link";var q6=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:h,children:d,...f},g){let _=Bf(u,{relative:f.relative}),v=yo(),T=K.useContext(Sy),{navigator:w,basename:I}=K.useContext(Ji),P=T!=null&&X6(_)&&h===!0,U=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,M=v.pathname,L=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(M=M.toLowerCase(),L=L?L.toLowerCase():null,U=U.toLowerCase()),L&&I&&(L=io(L,I)||L);const $=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let F=M===U||!i&&M.startsWith(U)&&M.charAt($)==="/",H=L!=null&&(L===U||!i&&L.startsWith(U)&&L.charAt(U.length)==="/"),V={isActive:F,isPending:H,isTransitioning:P},C=F?e:void 0,R;typeof r=="function"?R=r(V):R=[r,F?"active":null,H?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let b=typeof o=="function"?o(V):o;return K.createElement(ui,{...f,"aria-current":C,className:R,ref:g,style:b,to:u,viewTransition:h},typeof d=="function"?d(V):d)});q6.displayName="NavLink";var H6=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:u=qm,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:_,...v},T)=>{let w=Q6(),I=Y6(h,{relative:f}),P=u.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&dk.test(h),M=L=>{if(d&&d(L),L.defaultPrevented)return;L.preventDefault();let $=L.nativeEvent.submitter,F=($==null?void 0:$.getAttribute("formmethod"))||u;w($||L.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:i,state:o,relative:f,preventScrollReset:g,viewTransition:_})};return K.createElement("form",{ref:T,method:P,action:I,onSubmit:r?d:M,...v,"data-discover":!U&&n==="render"?"true":void 0})});H6.displayName="Form";function $6(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fk(n){let e=K.useContext(Vc);return Nt(e,$6(n)),e}function G6(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let h=Ay(),d=yo(),f=Bf(n,{relative:o});return K.useCallback(g=>{if(T6(g,e)){g.preventDefault();let _=t!==void 0?t:uf(d)===uf(f);h(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[d,h,f,t,r,e,n,i,o,u])}var K6=0,W6=()=>`__${String(++K6)}__`;function Q6(){let{router:n}=fk("useSubmit"),{basename:e}=K.useContext(Ji),t=f6();return K.useCallback(async(r,i={})=>{let{action:o,method:u,encType:h,formData:d,body:f}=I6(r,e);if(i.navigate===!1){let g=i.fetcherKey||W6();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||u,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||u,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function Y6(n,{relative:e}={}){let{basename:t}=K.useContext(Ji),r=K.useContext(Zi);Nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Bf(n||".",{relative:e})},u=yo();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ns([t,o.pathname])),uf(o)}function X6(n,e={}){let t=K.useContext(ik);Nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=fk("useViewTransitionState"),i=Bf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=io(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=io(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Cg(i.pathname,u)!=null||Cg(i.pathname,o)!=null}new TextEncoder;var pk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},v1=Ke.createContext&&Ke.createContext(pk),J6=["attr","size","title"];function Z6(n,e){if(n==null)return{};var t=e9(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function e9(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Pg(){return Pg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pg.apply(this,arguments)}function E1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E1(Object(t),!0).forEach(function(r){t9(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function t9(n,e,t){return e=n9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function n9(n){var e=r9(n,"string");return typeof e=="symbol"?e:e+""}function r9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mk(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,xg({key:t},e.attr),mk(e.child)))}function Mc(n){return e=>Ke.createElement(i9,Pg({attr:xg({},n.attr)},e),mk(n.child))}function i9(n){var e=t=>{var{attr:r,size:i,title:o}=n,u=Z6(n,J6),h=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ke.createElement("svg",Pg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:xg(xg({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ke.createElement("title",null,o),n.children)};return v1!==void 0?Ke.createElement(v1.Consumer,null,t=>e(t)):e(pk)}function s9(n){return Mc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function a9(n){return Mc({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function o9(n){return Mc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}const l9="_fixed_1cl0t_141",u9="_header__container_1cl0t_13",c9="_logo__container_1cl0t_154",h9="_delivery_1cl0t_166",d9="_search_1cl0t_178",f9="_order__container_1cl0t_221",p9="_language_1cl0t_236",m9="_cart_1cl0t_249",g9="_LowerHeader_1cl0t_270",Rs={fixed:l9,header__container:u9,logo__container:c9,delivery:h9,search:d9,order__container:f9,language:p9,cart:m9,LowerHeader:g9};function y9(n){return Mc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}const _9=()=>z.jsx("div",{className:Rs.LowerHeader,children:z.jsx("div",{children:z.jsxs("ul",{children:[z.jsxs("li",{children:[z.jsx(y9,{}),z.jsx("p",{children:"All"})]}),z.jsx("li",{children:"Today's Deals"}),z.jsx("li",{children:" Costemer Service"}),z.jsx("li",{children:"Regestry"}),z.jsx("li",{children:" Gift Cards"}),z.jsx("li",{children:"Sell"})]})})}),v9=()=>{var i;const[{user:n,basket:e},t]=K.useContext(zs),r=e.reduce((o,u)=>o+u.amount,0);return z.jsxs("section",{className:Rs.fixed,children:[z.jsxs("div",{className:Rs.header__container,children:[z.jsxs("div",{className:Rs.logo__container,children:[z.jsx(ui,{to:"/",children:z.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png"})}),z.jsxs("div",{className:Rs.delivery,children:[z.jsx("span",{children:z.jsx(s9,{})}),z.jsxs("div",{children:[z.jsx("p",{children:"Deliver to"}),z.jsx("span",{children:"Luxembourg"})]})]})]}),z.jsxs("div",{className:Rs.search,children:[z.jsx("select",{children:z.jsx("option",{children:"All"})}),z.jsx("input",{type:"text"}),z.jsx(a9,{size:25})]}),z.jsxs("div",{className:Rs.order__container,children:[z.jsxs(ui,{to:"/",className:Rs.language,children:[z.jsx("img",{src:"https://flagpedia.net/data/flags/w1160/lu.webp",alt:"Luxembourg flag"}),z.jsx("select",{children:z.jsx("option",{value:"",children:"En"})})]}),z.jsx(ui,{to:!n&&"/auth",children:z.jsx("div",{children:n?z.jsxs(z.Fragment,{children:[z.jsxs("p",{children:["Hello ",(i=n==null?void 0:n.email)==null?void 0:i.split("@")[0]]}),z.jsx("span",{onClick:()=>Rg.signOut(),children:"sign out"})]}):z.jsxs(z.Fragment,{children:[z.jsx("p",{children:"Sign In"}),z.jsx("span",{children:"Account & List"})]})})}),z.jsxs(ui,{to:"/Orders",children:[z.jsx("p",{children:"Returns"}),z.jsx("span",{children:" & Orders"})]}),z.jsxs(ui,{to:"/cart",className:Rs.cart,children:[z.jsx(o9,{size:35}),z.jsxs("span",{children:[" ",r]})]})]})]}),z.jsx(_9,{})]})};function Lc({children:n}){return z.jsxs("div",{children:[z.jsx(v9,{}),n]})}var y0={},sd={},wm={},Tm={},_0={exports:{}},v0,b1;function E9(){if(b1)return v0;b1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return v0=n,v0}var E0,w1;function b9(){if(w1)return E0;w1=1;var n=E9();function e(){}function t(){}return t.resetWarningCache=e,E0=function(){function r(u,h,d,f,g,_){if(_!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},E0}var T1;function gk(){return T1||(T1=1,_0.exports=b9()()),_0.exports}var S1;function w9(){return S1||(S1=1,function(n){(function(e,t){t(n,oo(),gk())})(Tm,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=w;var i=u(t),o=u(r);function u(M){return M&&M.__esModule?M:{default:M}}var h=Object.assign||function(M){for(var L=1;L<arguments.length;L++){var $=arguments[L];for(var F in $)Object.prototype.hasOwnProperty.call($,F)&&(M[F]=$[F])}return M};function d(M,L){var $={};for(var F in M)L.indexOf(F)>=0||Object.prototype.hasOwnProperty.call(M,F)&&($[F]=M[F]);return $}function f(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}var g=function(){function M(L,$){for(var F=0;F<$.length;F++){var H=$[F];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(L,H.key,H)}}return function(L,$,F){return $&&M(L.prototype,$),F&&M(L,F),L}}();function _(M,L){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:M}function v(M,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);M.prototype=Object.create(L&&L.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(M,L):M.__proto__=L)}var T=!1;function w(M){T=M}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){w(!0)}}))}catch{}function I(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?M:M.capture}function P(M){if("touches"in M){var L=M.touches[0],$=L.pageX,F=L.pageY;return{x:$,y:F}}var H=M.screenX,V=M.screenY;return{x:H,y:V}}var U=function(M){v(L,M);function L(){var $;f(this,L);for(var F=arguments.length,H=Array(F),V=0;V<F;V++)H[V]=arguments[V];var C=_(this,($=L.__proto__||Object.getPrototypeOf(L)).call.apply($,[this].concat(H)));return C._handleSwipeStart=C._handleSwipeStart.bind(C),C._handleSwipeMove=C._handleSwipeMove.bind(C),C._handleSwipeEnd=C._handleSwipeEnd.bind(C),C._onMouseDown=C._onMouseDown.bind(C),C._onMouseMove=C._onMouseMove.bind(C),C._onMouseUp=C._onMouseUp.bind(C),C._setSwiperRef=C._setSwiperRef.bind(C),C}return g(L,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(F){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(F))}},{key:"_onMouseMove",value:function(F){this.mouseDown&&this._handleSwipeMove(F)}},{key:"_onMouseUp",value:function(F){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(F)}},{key:"_handleSwipeStart",value:function(F){var H=P(F),V=H.x,C=H.y;this.moveStart={x:V,y:C},this.props.onSwipeStart(F)}},{key:"_handleSwipeMove",value:function(F){if(this.moveStart){var H=P(F),V=H.x,C=H.y,R=V-this.moveStart.x,b=C-this.moveStart.y;this.moving=!0;var x=this.props.onSwipeMove({x:R,y:b},F);x&&F.cancelable&&F.preventDefault(),this.movePosition={deltaX:R,deltaY:b}}}},{key:"_handleSwipeEnd",value:function(F){this.props.onSwipeEnd(F);var H=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-H?this.props.onSwipeLeft(1,F):this.movePosition.deltaX>H&&this.props.onSwipeRight(1,F),this.movePosition.deltaY<-H?this.props.onSwipeUp(1,F):this.movePosition.deltaY>H&&this.props.onSwipeDown(1,F)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(F){this.swiper=F,this.props.innerRef(F)}},{key:"render",value:function(){var F=this.props;F.tagName;var H=F.className,V=F.style,C=F.children;F.allowMouseEvents,F.onSwipeUp,F.onSwipeDown,F.onSwipeLeft,F.onSwipeRight,F.onSwipeStart,F.onSwipeMove,F.onSwipeEnd,F.innerRef,F.tolerance;var R=d(F,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:H,style:V},R),C)}}]),L}(t.Component);U.displayName="ReactSwipe",U.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},U.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=U})}(Tm)),Tm}var A1;function yk(){return A1||(A1=1,function(n){(function(e,t){t(n,w9())})(wm,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(wm)),wm}var ad={},b0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var I1;function T9(){return I1||(I1=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=i(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=i(u,h));return u}function i(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(b0)),b0.exports}var R1;function _k(){if(R1)return ad;R1=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.default=void 0;var n=e(T9());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return ad.default=r,ad}var od={},ld={},C1;function S9(){if(C1)return ld;C1=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return ld.outerWidth=n,ld}var ud={},P1;function Pw(){if(P1)return ud;P1=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,u=i==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",d="("+u.join(",")+")";return h+d};return ud.default=n,ud}var cd={},x1;function vk(){if(x1)return cd;x1=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.default=void 0;var n=function(){return window};return cd.default=n,cd}var O1;function Ek(){if(O1)return od;O1=1,Object.defineProperty(od,"__esModule",{value:!0}),od.default=void 0;var n=d(oo()),e=u(_k()),t=S9(),r=u(Pw()),i=u(yk()),o=u(vk());function u(C){return C&&C.__esModule?C:{default:C}}function h(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return h=function(){return C},C}function d(C){if(C&&C.__esModule)return C;if(C===null||f(C)!=="object"&&typeof C!="function")return{default:C};var R=h();if(R&&R.has(C))return R.get(C);var b={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in C)if(Object.prototype.hasOwnProperty.call(C,O)){var D=x?Object.getOwnPropertyDescriptor(C,O):null;D&&(D.get||D.set)?Object.defineProperty(b,O,D):b[O]=C[O]}return b.default=C,R&&R.set(C,b),b}function f(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(b){return typeof b}:f=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},f(C)}function g(){return g=Object.assign||function(C){for(var R=1;R<arguments.length;R++){var b=arguments[R];for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(C[x]=b[x])}return C},g.apply(this,arguments)}function _(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}function v(C,R){for(var b=0;b<R.length;b++){var x=R[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(C,x.key,x)}}function T(C,R,b){return R&&v(C.prototype,R),C}function w(C,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(R&&R.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),R&&I(C,R)}function I(C,R){return I=Object.setPrototypeOf||function(x,O){return x.__proto__=O,x},I(C,R)}function P(C){var R=L();return function(){var x=$(C),O;if(R){var D=$(this).constructor;O=Reflect.construct(x,arguments,D)}else O=x.apply(this,arguments);return U(this,O)}}function U(C,R){return R&&(f(R)==="object"||typeof R=="function")?R:M(C)}function M(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function $(C){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},$(C)}function F(C,R,b){return R in C?Object.defineProperty(C,R,{value:b,enumerable:!0,configurable:!0,writable:!0}):C[R]=b,C}var H=function(R){return R.hasOwnProperty("key")},V=function(C){w(b,C);var R=P(b);function b(x){var O;return _(this,b),O=R.call(this,x),F(M(O),"itemsWrapperRef",void 0),F(M(O),"itemsListRef",void 0),F(M(O),"thumbsRef",void 0),F(M(O),"setItemsWrapperRef",function(D){O.itemsWrapperRef=D}),F(M(O),"setItemsListRef",function(D){O.itemsListRef=D}),F(M(O),"setThumbsRef",function(D,te){O.thumbsRef||(O.thumbsRef=[]),O.thumbsRef[te]=D}),F(M(O),"updateSizes",function(){if(!(!O.props.children||!O.itemsWrapperRef||!O.thumbsRef)){var D=n.Children.count(O.props.children),te=O.itemsWrapperRef.clientWidth,B=O.props.thumbWidth?O.props.thumbWidth:(0,t.outerWidth)(O.thumbsRef[0]),ee=Math.floor(te/B),ie=ee<D,ue=ie?D-ee:0;O.setState(function(Te,q){return{itemSize:B,visibleItems:ee,firstItem:ie?O.getFirstItem(q.selectedItem):0,lastPosition:ue,showArrows:ie}})}}),F(M(O),"handleClickItem",function(D,te,B){if(!H(B)||B.key==="Enter"){var ee=O.props.onSelectItem;typeof ee=="function"&&ee(D,te)}}),F(M(O),"onSwipeStart",function(){O.setState({swiping:!0})}),F(M(O),"onSwipeEnd",function(){O.setState({swiping:!1})}),F(M(O),"onSwipeMove",function(D){var te=D.x;if(!O.state.itemSize||!O.itemsWrapperRef||!O.state.visibleItems)return!1;var B=0,ee=n.Children.count(O.props.children),ie=-(O.state.firstItem*100)/O.state.visibleItems,ue=Math.max(ee-O.state.visibleItems,0),Te=-ue*100/O.state.visibleItems;ie===B&&te>0&&(te=0),ie===Te&&te<0&&(te=0);var q=O.itemsWrapperRef.clientWidth,ae=ie+100/(q/te);return O.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(be){O.itemsListRef.style[be]=(0,r.default)(ae,"%",O.props.axis)}),!0}),F(M(O),"slideRight",function(D){O.moveTo(O.state.firstItem-(typeof D=="number"?D:1))}),F(M(O),"slideLeft",function(D){O.moveTo(O.state.firstItem+(typeof D=="number"?D:1))}),F(M(O),"moveTo",function(D){D=D<0?0:D,D=D>=O.state.lastPosition?O.state.lastPosition:D,O.setState({firstItem:D})}),O.state={selectedItem:x.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},O}return T(b,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(O){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==O.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(O){var D=O;return O>=this.state.lastPosition&&(D=this.state.lastPosition),O<this.state.firstItem+this.state.visibleItems&&(D=this.state.firstItem),O<this.state.firstItem&&(D=O),D}},{key:"renderItems",value:function(){var O=this;return this.props.children.map(function(D,te){var B=e.default.ITEM(!1,te===O.state.selectedItem),ee={key:te,ref:function(ue){return O.setThumbsRef(ue,te)},className:B,onClick:O.handleClickItem.bind(O,te,O.props.children[te]),onKeyDown:O.handleClickItem.bind(O,te,O.props.children[te]),"aria-label":"".concat(O.props.labels.item," ").concat(te+1),style:{width:O.props.thumbWidth}};return n.default.createElement("li",g({},ee,{role:"button",tabIndex:0}),D)})}},{key:"render",value:function(){var O=this;if(!this.props.children)return null;var D=n.Children.count(this.props.children)>1,te=this.state.showArrows&&this.state.firstItem>0,B=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,ee={},ie=-this.state.firstItem*(this.state.itemSize||0),ue=(0,r.default)(ie,"px",this.props.axis),Te=this.props.transitionTime+"ms";return ee={WebkitTransform:ue,MozTransform:ue,MsTransform:ue,OTransform:ue,transform:ue,msTransform:ue,WebkitTransitionDuration:Te,MozTransitionDuration:Te,MsTransitionDuration:Te,OTransitionDuration:Te,transitionDuration:Te,msTransitionDuration:Te},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!te),onClick:function(){return O.slideRight()},"aria-label":this.props.labels.leftArrow}),D?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:ee,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(ae){return O.setItemsListRef(ae)},style:ee},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!B),onClick:function(){return O.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),b}(n.Component);return od.default=V,F(V,"displayName","Thumbs"),F(V,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),od}var hd={},D1;function A9(){if(D1)return hd;D1=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.default=void 0;var n=function(){return document};return hd.default=n,hd}var br={},k1;function bk(){if(k1)return br;k1=1,Object.defineProperty(br,"__esModule",{value:!0}),br.setPosition=br.getPosition=br.isKeyboardEvent=br.defaultStatusFormatter=br.noop=void 0;var n=oo(),e=t(Pw());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};br.noop=r;var i=function(f,g){return"".concat(f," of ").concat(g)};br.defaultStatusFormatter=i;var o=function(f){return f?f.hasOwnProperty("key"):!1};br.isKeyboardEvent=o;var u=function(f,g){if(g.infiniteLoop&&++f,f===0)return 0;var _=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-f*g.centerSlidePercentage,T=_-1;return f&&(f!==T||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:f===T&&(v+=100-g.centerSlidePercentage),v}return-f*100};br.getPosition=u;var h=function(f,g){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){_[v]=(0,e.default)(f,"%",g)}),_};return br.setPosition=h,br}var oi={},N1;function I9(){if(N1)return oi;N1=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.fadeAnimationHandler=oi.slideStopSwipingHandler=oi.slideSwipeAnimationHandler=oi.slideAnimationHandler=void 0;var n=oo(),e=r(Pw()),t=bk();function r(_){return _&&_.__esModule?_:{default:_}}function i(_,v){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(_);v&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(_,I).enumerable})),T.push.apply(T,w)}return T}function o(_){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?i(Object(T),!0).forEach(function(w){u(_,w,T[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(w){Object.defineProperty(_,w,Object.getOwnPropertyDescriptor(T,w))})}return _}function u(_,v,T){return v in _?Object.defineProperty(_,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[v]=T,_}var h=function(v,T){var w={},I=T.selectedItem,P=I,U=n.Children.count(v.children)-1,M=v.infiniteLoop&&(I<0||I>U);if(M)return P<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?w.itemListStyle=(0,t.setPosition)(-(U+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):w.itemListStyle=(0,t.setPosition)(-(U+2)*100,v.axis):P>U&&(w.itemListStyle=(0,t.setPosition)(0,v.axis)),w;var L=(0,t.getPosition)(I,v),$=(0,e.default)(L,"%",v.axis),F=v.transitionTime+"ms";return w.itemListStyle={WebkitTransform:$,msTransform:$,OTransform:$,transform:$},T.swiping||(w.itemListStyle=o(o({},w.itemListStyle),{},{WebkitTransitionDuration:F,MozTransitionDuration:F,OTransitionDuration:F,transitionDuration:F,msTransitionDuration:F})),w};oi.slideAnimationHandler=h;var d=function(v,T,w,I){var P={},U=T.axis==="horizontal",M=n.Children.count(T.children),L=0,$=(0,t.getPosition)(w.selectedItem,T),F=T.infiniteLoop?(0,t.getPosition)(M-1,T)-100:(0,t.getPosition)(M-1,T),H=U?v.x:v.y,V=H;$===L&&H>0&&(V=0),$===F&&H<0&&(V=0);var C=$+100/(w.itemSize/V),R=Math.abs(H)>T.swipeScrollTolerance;return T.infiniteLoop&&R&&(w.selectedItem===0&&C>-100?C-=M*100:w.selectedItem===M-1&&C<-M*100&&(C+=M*100)),(!T.preventMovementUntilSwipeScrollTolerance||R||w.swipeMovementStarted)&&(w.swipeMovementStarted||I({swipeMovementStarted:!0}),P.itemListStyle=(0,t.setPosition)(C,T.axis)),R&&!w.cancelClick&&I({cancelClick:!0}),P};oi.slideSwipeAnimationHandler=d;var f=function(v,T){var w=(0,t.getPosition)(T.selectedItem,v),I=(0,t.setPosition)(w,v.axis);return{itemListStyle:I}};oi.slideStopSwipingHandler=f;var g=function(v,T){var w=v.transitionTime+"ms",I="ease-in-out",P={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:I,msTransitionTimingFunction:I,MozTransitionTimingFunction:I,WebkitTransitionTimingFunction:I,OTransitionTimingFunction:I};return T.swiping||(P=o(o({},P),{},{WebkitTransitionDuration:w,MozTransitionDuration:w,OTransitionDuration:w,transitionDuration:w,msTransitionDuration:w})),{slideStyle:P,selectedStyle:o(o({},P),{},{opacity:1,position:"relative"}),prevStyle:o({},P)}};return oi.fadeAnimationHandler=g,oi}var V1;function R9(){if(V1)return sd;V1=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.default=void 0;var n=g(oo()),e=d(yk()),t=d(_k()),r=d(Ek()),i=d(A9()),o=d(vk()),u=bk(),h=I9();function d(x){return x&&x.__esModule?x:{default:x}}function f(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return f=function(){return x},x}function g(x){if(x&&x.__esModule)return x;if(x===null||_(x)!=="object"&&typeof x!="function")return{default:x};var O=f();if(O&&O.has(x))return O.get(x);var D={},te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in x)if(Object.prototype.hasOwnProperty.call(x,B)){var ee=te?Object.getOwnPropertyDescriptor(x,B):null;ee&&(ee.get||ee.set)?Object.defineProperty(D,B,ee):D[B]=x[B]}return D.default=x,O&&O.set(x,D),D}function _(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(D){return typeof D}:_=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},_(x)}function v(){return v=Object.assign||function(x){for(var O=1;O<arguments.length;O++){var D=arguments[O];for(var te in D)Object.prototype.hasOwnProperty.call(D,te)&&(x[te]=D[te])}return x},v.apply(this,arguments)}function T(x,O){var D=Object.keys(x);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(x);O&&(te=te.filter(function(B){return Object.getOwnPropertyDescriptor(x,B).enumerable})),D.push.apply(D,te)}return D}function w(x){for(var O=1;O<arguments.length;O++){var D=arguments[O]!=null?arguments[O]:{};O%2?T(Object(D),!0).forEach(function(te){R(x,te,D[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(D)):T(Object(D)).forEach(function(te){Object.defineProperty(x,te,Object.getOwnPropertyDescriptor(D,te))})}return x}function I(x,O){if(!(x instanceof O))throw new TypeError("Cannot call a class as a function")}function P(x,O){for(var D=0;D<O.length;D++){var te=O[D];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(x,te.key,te)}}function U(x,O,D){return O&&P(x.prototype,O),x}function M(x,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(O&&O.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),O&&L(x,O)}function L(x,O){return L=Object.setPrototypeOf||function(te,B){return te.__proto__=B,te},L(x,O)}function $(x){var O=V();return function(){var te=C(x),B;if(O){var ee=C(this).constructor;B=Reflect.construct(te,arguments,ee)}else B=te.apply(this,arguments);return F(this,B)}}function F(x,O){return O&&(_(O)==="object"||typeof O=="function")?O:H(x)}function H(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function C(x){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},C(x)}function R(x,O,D){return O in x?Object.defineProperty(x,O,{value:D,enumerable:!0,configurable:!0,writable:!0}):x[O]=D,x}var b=function(x){M(D,x);var O=$(D);function D(te){var B;I(this,D),B=O.call(this,te),R(H(B),"thumbsRef",void 0),R(H(B),"carouselWrapperRef",void 0),R(H(B),"listRef",void 0),R(H(B),"itemsRef",void 0),R(H(B),"timer",void 0),R(H(B),"animationHandler",void 0),R(H(B),"setThumbsRef",function(ie){B.thumbsRef=ie}),R(H(B),"setCarouselWrapperRef",function(ie){B.carouselWrapperRef=ie}),R(H(B),"setListRef",function(ie){B.listRef=ie}),R(H(B),"setItemsRef",function(ie,ue){B.itemsRef||(B.itemsRef=[]),B.itemsRef[ue]=ie}),R(H(B),"autoPlay",function(){n.Children.count(B.props.children)<=1||(B.clearAutoPlay(),B.props.autoPlay&&(B.timer=setTimeout(function(){B.increment()},B.props.interval)))}),R(H(B),"clearAutoPlay",function(){B.timer&&clearTimeout(B.timer)}),R(H(B),"resetAutoPlay",function(){B.clearAutoPlay(),B.autoPlay()}),R(H(B),"stopOnHover",function(){B.setState({isMouseEntered:!0},B.clearAutoPlay)}),R(H(B),"startOnLeave",function(){B.setState({isMouseEntered:!1},B.autoPlay)}),R(H(B),"isFocusWithinTheCarousel",function(){return B.carouselWrapperRef?!!((0,i.default)().activeElement===B.carouselWrapperRef||B.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),R(H(B),"navigateWithKeyboard",function(ie){if(B.isFocusWithinTheCarousel()){var ue=B.props.axis,Te=ue==="horizontal",q={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ae=Te?q.ArrowRight:q.ArrowDown,be=Te?q.ArrowLeft:q.ArrowUp;ae===ie.keyCode?B.increment():be===ie.keyCode&&B.decrement()}}),R(H(B),"updateSizes",function(){if(!(!B.state.initialized||!B.itemsRef||B.itemsRef.length===0)){var ie=B.props.axis==="horizontal",ue=B.itemsRef[0];if(ue){var Te=ie?ue.clientWidth:ue.clientHeight;B.setState({itemSize:Te}),B.thumbsRef&&B.thumbsRef.updateSizes()}}}),R(H(B),"setMountState",function(){B.setState({hasMount:!0}),B.updateSizes()}),R(H(B),"handleClickItem",function(ie,ue){if(n.Children.count(B.props.children)!==0){if(B.state.cancelClick){B.setState({cancelClick:!1});return}B.props.onClickItem(ie,ue),ie!==B.state.selectedItem&&B.setState({selectedItem:ie})}}),R(H(B),"handleOnChange",function(ie,ue){n.Children.count(B.props.children)<=1||B.props.onChange(ie,ue)}),R(H(B),"handleClickThumb",function(ie,ue){B.props.onClickThumb(ie,ue),B.moveTo(ie)}),R(H(B),"onSwipeStart",function(ie){B.setState({swiping:!0}),B.props.onSwipeStart(ie)}),R(H(B),"onSwipeEnd",function(ie){B.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),B.props.onSwipeEnd(ie),B.clearAutoPlay(),B.state.autoPlay&&B.autoPlay()}),R(H(B),"onSwipeMove",function(ie,ue){B.props.onSwipeMove(ue);var Te=B.props.swipeAnimationHandler(ie,B.props,B.state,B.setState.bind(H(B)));return B.setState(w({},Te)),!!Object.keys(Te).length}),R(H(B),"decrement",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem-(typeof ie=="number"?ie:1))}),R(H(B),"increment",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem+(typeof ie=="number"?ie:1))}),R(H(B),"moveTo",function(ie){if(typeof ie=="number"){var ue=n.Children.count(B.props.children)-1;ie<0&&(ie=B.props.infiniteLoop?ue:0),ie>ue&&(ie=B.props.infiniteLoop?0:ue),B.selectItem({selectedItem:ie}),B.state.autoPlay&&B.state.isMouseEntered===!1&&B.resetAutoPlay()}}),R(H(B),"onClickNext",function(){B.increment(1)}),R(H(B),"onClickPrev",function(){B.decrement(1)}),R(H(B),"onSwipeForward",function(){B.increment(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),R(H(B),"onSwipeBackwards",function(){B.decrement(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),R(H(B),"changeItem",function(ie){return function(ue){(!(0,u.isKeyboardEvent)(ue)||ue.key==="Enter")&&B.moveTo(ie)}}),R(H(B),"selectItem",function(ie){B.setState(w({previousItem:B.state.selectedItem},ie),function(){B.setState(B.animationHandler(B.props,B.state))}),B.handleOnChange(ie.selectedItem,n.Children.toArray(B.props.children)[ie.selectedItem])}),R(H(B),"getInitialImage",function(){var ie=B.props.selectedItem,ue=B.itemsRef&&B.itemsRef[ie],Te=ue&&ue.getElementsByTagName("img")||[];return Te[0]}),R(H(B),"getVariableItemHeight",function(ie){var ue=B.itemsRef&&B.itemsRef[ie];if(B.state.hasMount&&ue&&ue.children.length){var Te=ue.children[0].getElementsByTagName("img")||[];if(Te.length>0){var q=Te[0];if(!q.complete){var ae=function ye(){B.forceUpdate(),q.removeEventListener("load",ye)};q.addEventListener("load",ae)}}var be=Te[0]||ue.children[0],ve=be.clientHeight;return ve>0?ve:null}return null});var ee={initialized:!1,previousItem:te.selectedItem,selectedItem:te.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:te.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return B.animationHandler=typeof te.animationHandler=="function"&&te.animationHandler||te.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,B.state=w(w({},ee),B.animationHandler(te,ee)),B}return U(D,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(B,ee){!B.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!B.autoFocus&&this.props.autoFocus&&this.forceFocus(),ee.swiping&&!this.state.swiping&&this.setState(w({},this.props.stopSwipingHandler(this.props,this.state))),(B.selectedItem!==this.props.selectedItem||B.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),B.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var B=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var ee=B.getInitialImage();ee&&!ee.complete?ee.addEventListener("load",B.setMountState):B.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.addEventListener("mouseenter",this.stopOnHover),B.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.removeEventListener("mouseenter",this.stopOnHover),B.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var B=this.getInitialImage();B&&B.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var B;(B=this.carouselWrapperRef)===null||B===void 0||B.focus()}},{key:"renderItems",value:function(B){var ee=this;return this.props.children?n.Children.map(this.props.children,function(ie,ue){var Te=ue===ee.state.selectedItem,q=ue===ee.state.previousItem,ae=Te&&ee.state.selectedStyle||q&&ee.state.prevStyle||ee.state.slideStyle||{};ee.props.centerMode&&ee.props.axis==="horizontal"&&(ae=w(w({},ae),{},{minWidth:ee.props.centerSlidePercentage+"%"})),ee.state.swiping&&ee.state.swipeMovementStarted&&(ae=w(w({},ae),{},{pointerEvents:"none"}));var be={ref:function(ye){return ee.setItemsRef(ye,ue)},key:"itemKey"+ue+(B?"clone":""),className:t.default.ITEM(!0,ue===ee.state.selectedItem,ue===ee.state.previousItem),onClick:ee.handleClickItem.bind(ee,ue,ie),style:ae};return n.default.createElement("li",be,ee.props.renderItem(ie,{isSelected:ue===ee.state.selectedItem,isPrevious:ue===ee.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var B=this,ee=this.props,ie=ee.showIndicators,ue=ee.labels,Te=ee.renderIndicator,q=ee.children;return ie?n.default.createElement("ul",{className:"control-dots"},n.Children.map(q,function(ae,be){return Te&&Te(B.changeItem(be),be===B.state.selectedItem,be,ue.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var B=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var ee=this.props.swipeable&&n.Children.count(this.props.children)>1,ie=this.props.axis==="horizontal",ue=this.props.showArrows&&n.Children.count(this.props.children)>1,Te=ue&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,q=ue&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ae=this.renderItems(!0),be=ae.shift(),ve=ae.pop(),ye={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Oe={};if(ie){if(ye.onSwipeLeft=this.onSwipeForward,ye.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var De=this.getVariableItemHeight(this.state.selectedItem);Oe.height=De||"auto"}}else ye.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ye.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ye.style=w(w({},ye.style),{},{height:this.state.itemSize}),Oe.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,Te,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Oe},ee?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},ye,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&be):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(ze){return B.setListRef(ze)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&be)),this.props.renderArrowNext(this.onClickNext,q,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),D}(n.default.Component);return sd.default=b,R(b,"displayName","Carousel"),R(b,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(O,D,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_PREV(!D),onClick:O})},renderArrowNext:function(O,D,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_NEXT(!D),onClick:O})},renderIndicator:function(O,D,te,B){return n.default.createElement("li",{className:t.default.DOT(D),onClick:O,onKeyDown:O,value:te,key:te,role:"button",tabIndex:0,"aria-label":"".concat(B," ").concat(te+1)})},renderItem:function(O){return O},renderThumbs:function(O){var D=n.Children.map(O,function(te){var B=te;if(te.type!=="img"&&(B=n.Children.toArray(te.props.children).find(function(ee){return ee.type==="img"})),!!B)return B});return D.filter(function(te){return te}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):D},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),sd}var M1={},L1;function C9(){return L1||(L1=1),M1}var U1;function P9(){return U1||(U1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(R9()),t=C9(),r=i(Ek());function i(o){return o&&o.__esModule?o:{default:o}}}(y0)),y0}var x9=P9();const O9="/Project-Amazon-Clone/assets/Toyes-bl35EseN.jpeg",D9="/Project-Amazon-Clone/assets/Iventered-CYL3bWWO.jpeg",k9="/Project-Amazon-Clone/assets/Books-Fp0oaH3y.jpeg",N9="/Project-Amazon-Clone/assets/Kichen-BPr44Ttk.jpeg",V9=[O9,D9,k9,N9];function M9(){return z.jsxs("div",{className:"",children:[z.jsx(x9.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,showStatus:!0,children:V9.map((n,e)=>z.jsx("img",{src:n,alt:""},e))}),z.jsx("div",{className:"carsole__effct::before"})]})}const L9="_category_1my7u_1",U9="_category__container_1my7u_33",wk={category:L9,category__container:U9},B9=({data:n})=>z.jsx("div",{className:wk.category,children:z.jsxs(ui,{to:`/category/${n.name}`,children:[z.jsxs("span",{children:["  ",z.jsx("h2",{children:n.title})]}),z.jsx("img",{src:n.imgLink,alt:n.title}),z.jsx("p",{children:"Shop Now"})]})}),w0=[{id:1,title:"Jewelery ",name:"jewelery",imgLink:"https://fakestoreapi.com/img/71YAIFU48IL._AC_UL640_QL65_ML3_.jpg"},{id:2,title:"electronics",name:"electronics",imgLink:"https://fakestoreapi.com/img/61IBBVJvSDL._AC_SY879_.jpg"},{id:3,title:"Mens Cotton Jacket",name:"men's clothing",imgLink:"https://fakestoreapi.com/img/71li-ujtlUL._AC_UX679_.jpg"},{id:4,title:"women's clothing ",name:"women's clothing",imgLink:"https://fakestoreapi.com/img/71z3kpMAYsL._AC_UY879_.jpg"}];function F9(){return z.jsx("div",{className:wk.category__container,children:w0==null?void 0:w0.map(n=>z.jsx(B9,{data:n},n.id))})}function Tk(n,e){return function(){return n.apply(e,arguments)}}const{toString:j9}=Object.prototype,{getPrototypeOf:xw}=Object,Ry=(n=>e=>{const t=j9.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),di=n=>(n=n.toLowerCase(),e=>Ry(e)===n),Cy=n=>e=>typeof e===n,{isArray:Uc}=Array,cf=Cy("undefined");function z9(n){return n!==null&&!cf(n)&&n.constructor!==null&&!cf(n.constructor)&&Rr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Sk=di("ArrayBuffer");function q9(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Sk(n.buffer),e}const H9=Cy("string"),Rr=Cy("function"),Ak=Cy("number"),Py=n=>n!==null&&typeof n=="object",$9=n=>n===!0||n===!1,$m=n=>{if(Ry(n)!=="object")return!1;const e=xw(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},G9=di("Date"),K9=di("File"),W9=di("Blob"),Q9=di("FileList"),Y9=n=>Py(n)&&Rr(n.pipe),X9=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Rr(n.append)&&((e=Ry(n))==="formdata"||e==="object"&&Rr(n.toString)&&n.toString()==="[object FormData]"))},J9=di("URLSearchParams"),[Z9,eq,tq,nq]=["ReadableStream","Request","Response","Headers"].map(di),rq=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ff(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Uc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function Ik(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const ul=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Rk=n=>!cf(n)&&n!==ul;function AE(){const{caseless:n}=Rk(this)&&this||{},e={},t=(r,i)=>{const o=n&&Ik(e,i)||i;$m(e[o])&&$m(r)?e[o]=AE(e[o],r):$m(r)?e[o]=AE({},r):Uc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ff(arguments[r],t);return e}const iq=(n,e,t,{allOwnKeys:r}={})=>(Ff(e,(i,o)=>{t&&Rr(i)?n[o]=Tk(i,t):n[o]=i},{allOwnKeys:r}),n),sq=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),aq=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},oq=(n,e,t,r)=>{let i,o,u;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)u=i[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&xw(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},lq=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},uq=n=>{if(!n)return null;if(Uc(n))return n;let e=n.length;if(!Ak(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},cq=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&xw(Uint8Array)),hq=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},dq=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},fq=di("HTMLFormElement"),pq=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),B1=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),mq=di("RegExp"),Ck=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Ff(t,(i,o)=>{let u;(u=e(i,o,n))!==!1&&(r[o]=u||i)}),Object.defineProperties(n,r)},gq=n=>{Ck(n,(e,t)=>{if(Rr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Rr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},yq=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return Uc(n)?r(n):r(String(n).split(e)),t},_q=()=>{},vq=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,T0="abcdefghijklmnopqrstuvwxyz",F1="0123456789",Pk={DIGIT:F1,ALPHA:T0,ALPHA_DIGIT:T0+T0.toUpperCase()+F1},Eq=(n=16,e=Pk.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function bq(n){return!!(n&&Rr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const wq=n=>{const e=new Array(10),t=(r,i)=>{if(Py(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Uc(r)?[]:{};return Ff(r,(u,h)=>{const d=t(u,i+1);!cf(d)&&(o[h]=d)}),e[i]=void 0,o}}return r};return t(n,0)},Tq=di("AsyncFunction"),Sq=n=>n&&(Py(n)||Rr(n))&&Rr(n.then)&&Rr(n.catch),xk=((n,e)=>n?setImmediate:e?((t,r)=>(ul.addEventListener("message",({source:i,data:o})=>{i===ul&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),ul.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Rr(ul.postMessage)),Aq=typeof queueMicrotask<"u"?queueMicrotask.bind(ul):typeof process<"u"&&process.nextTick||xk,se={isArray:Uc,isArrayBuffer:Sk,isBuffer:z9,isFormData:X9,isArrayBufferView:q9,isString:H9,isNumber:Ak,isBoolean:$9,isObject:Py,isPlainObject:$m,isReadableStream:Z9,isRequest:eq,isResponse:tq,isHeaders:nq,isUndefined:cf,isDate:G9,isFile:K9,isBlob:W9,isRegExp:mq,isFunction:Rr,isStream:Y9,isURLSearchParams:J9,isTypedArray:cq,isFileList:Q9,forEach:Ff,merge:AE,extend:iq,trim:rq,stripBOM:sq,inherits:aq,toFlatObject:oq,kindOf:Ry,kindOfTest:di,endsWith:lq,toArray:uq,forEachEntry:hq,matchAll:dq,isHTMLForm:fq,hasOwnProperty:B1,hasOwnProp:B1,reduceDescriptors:Ck,freezeMethods:gq,toObjectSet:yq,toCamelCase:pq,noop:_q,toFiniteNumber:vq,findKey:Ik,global:ul,isContextDefined:Rk,ALPHABET:Pk,generateString:Eq,isSpecCompliantForm:bq,toJSONObject:wq,isAsyncFn:Tq,isThenable:Sq,setImmediate:xk,asap:Aq};function Ve(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}se.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const Ok=Ve.prototype,Dk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Dk[n]={value:n}});Object.defineProperties(Ve,Dk);Object.defineProperty(Ok,"isAxiosError",{value:!0});Ve.from=(n,e,t,r,i,o)=>{const u=Object.create(Ok);return se.toFlatObject(n,u,function(d){return d!==Error.prototype},h=>h!=="isAxiosError"),Ve.call(u,n.message,e,t,r,i),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const Iq=null;function IE(n){return se.isPlainObject(n)||se.isArray(n)}function kk(n){return se.endsWith(n,"[]")?n.slice(0,-2):n}function j1(n,e,t){return n?n.concat(e).map(function(i,o){return i=kk(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function Rq(n){return se.isArray(n)&&!n.some(IE)}const Cq=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function xy(n,e,t){if(!se.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=se.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,P){return!se.isUndefined(P[I])});const r=t.metaTokens,i=t.visitor||g,o=t.dots,u=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(i))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(se.isDate(w))return w.toISOString();if(!d&&se.isBlob(w))throw new Ve("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(w)||se.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,I,P){let U=w;if(w&&!P&&typeof w=="object"){if(se.endsWith(I,"{}"))I=r?I:I.slice(0,-2),w=JSON.stringify(w);else if(se.isArray(w)&&Rq(w)||(se.isFileList(w)||se.endsWith(I,"[]"))&&(U=se.toArray(w)))return I=kk(I),U.forEach(function(L,$){!(se.isUndefined(L)||L===null)&&e.append(u===!0?j1([I],$,o):u===null?I:I+"[]",f(L))}),!1}return IE(w)?!0:(e.append(j1(P,I,o),f(w)),!1)}const _=[],v=Object.assign(Cq,{defaultVisitor:g,convertValue:f,isVisitable:IE});function T(w,I){if(!se.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+I.join("."));_.push(w),se.forEach(w,function(U,M){(!(se.isUndefined(U)||U===null)&&i.call(e,U,se.isString(M)?M.trim():M,I,v))===!0&&T(U,I?I.concat(M):[M])}),_.pop()}}if(!se.isObject(n))throw new TypeError("data must be an object");return T(n),e}function z1(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ow(n,e){this._pairs=[],n&&xy(n,this,e)}const Nk=Ow.prototype;Nk.append=function(e,t){this._pairs.push([e,t])};Nk.toString=function(e){const t=e?function(r){return e.call(this,r,z1)}:z1;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Pq(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vk(n,e,t){if(!e)return n;const r=t&&t.encode||Pq;se.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=se.isURLSearchParams(e)?e.toString():new Ow(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class q1{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Mk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xq=typeof URLSearchParams<"u"?URLSearchParams:Ow,Oq=typeof FormData<"u"?FormData:null,Dq=typeof Blob<"u"?Blob:null,kq={isBrowser:!0,classes:{URLSearchParams:xq,FormData:Oq,Blob:Dq},protocols:["http","https","file","blob","url","data"]},Dw=typeof window<"u"&&typeof document<"u",RE=typeof navigator=="object"&&navigator||void 0,Nq=Dw&&(!RE||["ReactNative","NativeScript","NS"].indexOf(RE.product)<0),Vq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Mq=Dw&&window.location.href||"http://localhost",Lq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Dw,hasStandardBrowserEnv:Nq,hasStandardBrowserWebWorkerEnv:Vq,navigator:RE,origin:Mq},Symbol.toStringTag,{value:"Module"})),Hn={...Lq,...kq};function Uq(n,e){return xy(n,new Hn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return Hn.isNode&&se.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Bq(n){return se.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Fq(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function Lk(n){function e(t,r,i,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=o>=t.length;return u=!u&&se.isArray(i)?i.length:u,d?(se.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!h):((!i[u]||!se.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],o)&&se.isArray(i[u])&&(i[u]=Fq(i[u])),!h)}if(se.isFormData(n)&&se.isFunction(n.entries)){const t={};return se.forEachEntry(n,(r,i)=>{e(Bq(r),i,t,0)}),t}return null}function jq(n,e,t){if(se.isString(n))try{return(e||JSON.parse)(n),se.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const jf={transitional:Mk,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=se.isObject(e);if(o&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return i?JSON.stringify(Lk(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e)||se.isReadableStream(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Uq(e,this.formSerializer).toString();if((h=se.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return xy(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),jq(e)):e}],transformResponse:[function(e){const t=this.transitional||jf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(se.isResponse(e)||se.isReadableStream(e))return e;if(e&&se.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Ve.from(h,Ve.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hn.classes.FormData,Blob:Hn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],n=>{jf.headers[n]={}});const zq=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qq=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&zq[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},H1=Symbol("internals");function dd(n){return n&&String(n).trim().toLowerCase()}function Gm(n){return n===!1||n==null?n:se.isArray(n)?n.map(Gm):String(n)}function Hq(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const $q=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function S0(n,e,t,r,i){if(se.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!se.isString(e)){if(se.isString(r))return e.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(e)}}function Gq(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Kq(n,e){const t=se.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,u){return this[r].call(this,e,i,o,u)},configurable:!0})})}let hr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,d,f){const g=dd(d);if(!g)throw new Error("header name must be a non-empty string");const _=se.findKey(i,g);(!_||i[_]===void 0||f===!0||f===void 0&&i[_]!==!1)&&(i[_||d]=Gm(h))}const u=(h,d)=>se.forEach(h,(f,g)=>o(f,g,d));if(se.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(se.isString(e)&&(e=e.trim())&&!$q(e))u(qq(e),t);else if(se.isHeaders(e))for(const[h,d]of e.entries())o(d,h,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=dd(e),e){const r=se.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return Hq(i);if(se.isFunction(t))return t.call(this,i,r);if(se.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=dd(e),e){const r=se.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||S0(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(u){if(u=dd(u),u){const h=se.findKey(r,u);h&&(!t||S0(r,r[h],h,t))&&(delete r[h],i=!0)}}return se.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||S0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return se.forEach(this,(i,o)=>{const u=se.findKey(r,o);if(u){t[u]=Gm(i),delete t[o];return}const h=e?Gq(o):String(o).trim();h!==o&&delete t[o],t[h]=Gm(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return se.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&se.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[H1]=this[H1]={accessors:{}}).accessors,i=this.prototype;function o(u){const h=dd(u);r[h]||(Kq(i,u),r[h]=!0)}return se.isArray(e)?e.forEach(o):o(e),this}};hr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(hr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});se.freezeMethods(hr);function A0(n,e){const t=this||jf,r=e||t,i=hr.from(r.headers);let o=r.data;return se.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function Uk(n){return!!(n&&n.__CANCEL__)}function Bc(n,e,t){Ve.call(this,n??"canceled",Ve.ERR_CANCELED,e,t),this.name="CanceledError"}se.inherits(Bc,Ve,{__CANCEL__:!0});function Bk(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ve("Request failed with status code "+t.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Wq(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Qq(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,u;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),g=r[o];u||(u=f),t[i]=d,r[i]=f;let _=o,v=0;for(;_!==i;)v+=t[_++],_=_%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),f-u<e)return;const T=g&&f-g;return T?Math.round(v*1e3/T):void 0}}function Yq(n,e){let t=0,r=1e3/e,i,o;const u=(f,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),n.apply(null,f)};return[(...f)=>{const g=Date.now(),_=g-t;_>=r?u(f,g):(i=f,o||(o=setTimeout(()=>{o=null,u(i)},r-_)))},()=>i&&u(i)]}const Og=(n,e,t=3)=>{let r=0;const i=Qq(50,250);return Yq(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,d=u-r,f=i(d),g=u<=h;r=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:f||void 0,estimated:f&&h&&g?(h-u)/f:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},t)},$1=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},G1=n=>(...e)=>se.asap(()=>n(...e)),Xq=Hn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Hn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Hn.origin),Hn.navigator&&/(msie|trident)/i.test(Hn.navigator.userAgent)):()=>!0,Jq=Hn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const u=[n+"="+encodeURIComponent(e)];se.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),se.isString(r)&&u.push("path="+r),se.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Zq(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function eH(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Fk(n,e){return n&&!Zq(e)?eH(n,e):e}const K1=n=>n instanceof hr?{...n}:n;function Al(n,e){e=e||{};const t={};function r(f,g,_,v){return se.isPlainObject(f)&&se.isPlainObject(g)?se.merge.call({caseless:v},f,g):se.isPlainObject(g)?se.merge({},g):se.isArray(g)?g.slice():g}function i(f,g,_,v){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f,_,v)}else return r(f,g,_,v)}function o(f,g){if(!se.isUndefined(g))return r(void 0,g)}function u(f,g){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function h(f,g,_){if(_ in e)return r(f,g);if(_ in n)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(f,g,_)=>i(K1(f),K1(g),_,!0)};return se.forEach(Object.keys(Object.assign({},n,e)),function(g){const _=d[g]||i,v=_(n[g],e[g],g);se.isUndefined(v)&&_!==h||(t[g]=v)}),t}const jk=n=>{const e=Al({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=hr.from(u),e.url=Vk(Fk(e.baseURL,e.url),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let d;if(se.isFormData(t)){if(Hn.hasStandardBrowserEnv||Hn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[f,...g]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([f||"multipart/form-data",...g].join("; "))}}if(Hn.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(e)),r||r!==!1&&Xq(e.url))){const f=i&&o&&Jq.read(o);f&&u.set(i,f)}return e},tH=typeof XMLHttpRequest<"u",nH=tH&&function(n){return new Promise(function(t,r){const i=jk(n);let o=i.data;const u=hr.from(i.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:f}=i,g,_,v,T,w;function I(){T&&T(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let P=new XMLHttpRequest;P.open(i.method.toUpperCase(),i.url,!0),P.timeout=i.timeout;function U(){if(!P)return;const L=hr.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),F={data:!h||h==="text"||h==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:L,config:n,request:P};Bk(function(V){t(V),I()},function(V){r(V),I()},F),P=null}"onloadend"in P?P.onloadend=U:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(U)},P.onabort=function(){P&&(r(new Ve("Request aborted",Ve.ECONNABORTED,n,P)),P=null)},P.onerror=function(){r(new Ve("Network Error",Ve.ERR_NETWORK,n,P)),P=null},P.ontimeout=function(){let $=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const F=i.transitional||Mk;i.timeoutErrorMessage&&($=i.timeoutErrorMessage),r(new Ve($,F.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,n,P)),P=null},o===void 0&&u.setContentType(null),"setRequestHeader"in P&&se.forEach(u.toJSON(),function($,F){P.setRequestHeader(F,$)}),se.isUndefined(i.withCredentials)||(P.withCredentials=!!i.withCredentials),h&&h!=="json"&&(P.responseType=i.responseType),f&&([v,w]=Og(f,!0),P.addEventListener("progress",v)),d&&P.upload&&([_,T]=Og(d),P.upload.addEventListener("progress",_),P.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(g=L=>{P&&(r(!L||L.type?new Bc(null,n,P):L),P.abort(),P=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const M=Wq(i.url);if(M&&Hn.protocols.indexOf(M)===-1){r(new Ve("Unsupported protocol "+M+":",Ve.ERR_BAD_REQUEST,n));return}P.send(o||null)})},rH=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(f){if(!i){i=!0,h();const g=f instanceof Error?f:this.reason;r.abort(g instanceof Ve?g:new Bc(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>se.asap(h),d}},iH=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},sH=async function*(n,e){for await(const t of aH(n))yield*iH(t,e)},aH=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},W1=(n,e,t,r)=>{const i=sH(n,e);let o=0,u,h=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:g}=await i.next();if(f){h(),d.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}d.enqueue(new Uint8Array(g))}catch(f){throw h(f),f}},cancel(d){return h(d),i.return()}},{highWaterMark:2})},Oy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zk=Oy&&typeof ReadableStream=="function",oH=Oy&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),qk=(n,...e)=>{try{return!!n(...e)}catch{return!1}},lH=zk&&qk(()=>{let n=!1;const e=new Request(Hn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Q1=64*1024,CE=zk&&qk(()=>se.isReadableStream(new Response("").body)),Dg={stream:CE&&(n=>n.body)};Oy&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Dg[e]&&(Dg[e]=se.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Ve(`Response type '${e}' is not supported`,Ve.ERR_NOT_SUPPORT,r)})})})(new Response);const uH=async n=>{if(n==null)return 0;if(se.isBlob(n))return n.size;if(se.isSpecCompliantForm(n))return(await new Request(Hn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(se.isArrayBufferView(n)||se.isArrayBuffer(n))return n.byteLength;if(se.isURLSearchParams(n)&&(n=n+""),se.isString(n))return(await oH(n)).byteLength},cH=async(n,e)=>{const t=se.toFiniteNumber(n.getContentLength());return t??uH(e)},hH=Oy&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:d,responseType:f,headers:g,withCredentials:_="same-origin",fetchOptions:v}=jk(n);f=f?(f+"").toLowerCase():"text";let T=rH([i,o&&o.toAbortSignal()],u),w;const I=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let P;try{if(d&&lH&&t!=="get"&&t!=="head"&&(P=await cH(g,r))!==0){let F=new Request(e,{method:"POST",body:r,duplex:"half"}),H;if(se.isFormData(r)&&(H=F.headers.get("content-type"))&&g.setContentType(H),F.body){const[V,C]=$1(P,Og(G1(d)));r=W1(F.body,Q1,V,C)}}se.isString(_)||(_=_?"include":"omit");const U="credentials"in Request.prototype;w=new Request(e,{...v,signal:T,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:U?_:void 0});let M=await fetch(w);const L=CE&&(f==="stream"||f==="response");if(CE&&(h||L&&I)){const F={};["status","statusText","headers"].forEach(R=>{F[R]=M[R]});const H=se.toFiniteNumber(M.headers.get("content-length")),[V,C]=h&&$1(H,Og(G1(h),!0))||[];M=new Response(W1(M.body,Q1,V,()=>{C&&C(),I&&I()}),F)}f=f||"text";let $=await Dg[se.findKey(Dg,f)||"text"](M,n);return!L&&I&&I(),await new Promise((F,H)=>{Bk(F,H,{data:$,headers:hr.from(M.headers),status:M.status,statusText:M.statusText,config:n,request:w})})}catch(U){throw I&&I(),U&&U.name==="TypeError"&&/fetch/i.test(U.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,n,w),{cause:U.cause||U}):Ve.from(U,U&&U.code,n,w)}}),PE={http:Iq,xhr:nH,fetch:hH};se.forEach(PE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Y1=n=>`- ${n}`,dH=n=>se.isFunction(n)||n===null||n===!1,Hk={getAdapter:n=>{n=se.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!dH(t)&&(r=PE[(u=String(t)).toLowerCase()],r===void 0))throw new Ve(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+o]=r}if(!r){const o=Object.entries(i).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(Y1).join(`
`):" "+Y1(o[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:PE};function I0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Bc(null,n)}function X1(n){return I0(n),n.headers=hr.from(n.headers),n.data=A0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Hk.getAdapter(n.adapter||jf.adapter)(n).then(function(r){return I0(n),r.data=A0.call(n,n.transformResponse,r),r.headers=hr.from(r.headers),r},function(r){return Uk(r)||(I0(n),r&&r.response&&(r.response.data=A0.call(n,n.transformResponse,r.response),r.response.headers=hr.from(r.response.headers))),Promise.reject(r)})}const $k="1.7.9",Dy={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Dy[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const J1={};Dy.transitional=function(e,t,r){function i(o,u){return"[Axios v"+$k+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Ve(i(u," has been removed"+(t?" in "+t:"")),Ve.ERR_DEPRECATED);return t&&!J1[u]&&(J1[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};Dy.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function fH(n,e,t){if(typeof n!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],u=e[o];if(u){const h=n[o],d=h===void 0||u(h,o,n);if(d!==!0)throw new Ve("option "+o+" must be "+d,Ve.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ve("Unknown option "+o,Ve.ERR_BAD_OPTION)}}const Km={assertOptions:fH,validators:Dy},Pi=Km.validators;let fl=class{constructor(e){this.defaults=e,this.interceptors={request:new q1,response:new q1}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Al(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Km.assertOptions(r,{silentJSONParsing:Pi.transitional(Pi.boolean),forcedJSONParsing:Pi.transitional(Pi.boolean),clarifyTimeoutError:Pi.transitional(Pi.boolean)},!1),i!=null&&(se.isFunction(i)?t.paramsSerializer={serialize:i}:Km.assertOptions(i,{encode:Pi.function,serialize:Pi.function},!0)),Km.assertOptions(t,{baseUrl:Pi.spelling("baseURL"),withXsrfToken:Pi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&se.merge(o.common,o[t.method]);o&&se.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),t.headers=hr.concat(u,o);const h=[];let d=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(d=d&&I.synchronous,h.unshift(I.fulfilled,I.rejected))});const f=[];this.interceptors.response.forEach(function(I){f.push(I.fulfilled,I.rejected)});let g,_=0,v;if(!d){const w=[X1.bind(this),void 0];for(w.unshift.apply(w,h),w.push.apply(w,f),v=w.length,g=Promise.resolve(t);_<v;)g=g.then(w[_++],w[_++]);return g}v=h.length;let T=t;for(_=0;_<v;){const w=h[_++],I=h[_++];try{T=w(T)}catch(P){I.call(this,P);break}}try{g=X1.call(this,T)}catch(w){return Promise.reject(w)}for(_=0,v=f.length;_<v;)g=g.then(f[_++],f[_++]);return g}getUri(e){e=Al(this.defaults,e);const t=Fk(e.baseURL,e.url);return Vk(t,e.params,e.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(e){fl.prototype[e]=function(t,r){return this.request(Al(r||{},{method:e,url:t,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(Al(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}fl.prototype[e]=t(),fl.prototype[e+"Form"]=t(!0)});let pH=class Gk{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new Bc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Gk(function(i){e=i}),cancel:e}}};function mH(n){return function(t){return n.apply(null,t)}}function gH(n){return se.isObject(n)&&n.isAxiosError===!0}const xE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xE).forEach(([n,e])=>{xE[e]=n});function Kk(n){const e=new fl(n),t=Tk(fl.prototype.request,e);return se.extend(t,fl.prototype,e,{allOwnKeys:!0}),se.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Kk(Al(n,i))},t}const Rt=Kk(jf);Rt.Axios=fl;Rt.CanceledError=Bc;Rt.CancelToken=pH;Rt.isCancel=Uk;Rt.VERSION=$k;Rt.toFormData=xy;Rt.AxiosError=Ve;Rt.Cancel=Rt.CanceledError;Rt.all=function(e){return Promise.all(e)};Rt.spread=mH;Rt.isAxiosError=gH;Rt.mergeConfig=Al;Rt.AxiosHeaders=hr;Rt.formToJSON=n=>Lk(se.isHTMLForm(n)?new FormData(n):n);Rt.getAdapter=Hk.getAdapter;Rt.HttpStatusCode=xE;Rt.default=Rt;const{Axios:zK,AxiosError:qK,CanceledError:HK,isCancel:$K,CancelToken:GK,VERSION:KK,all:WK,Cancel:QK,isAxiosError:YK,spread:XK,toFormData:JK,AxiosHeaders:ZK,HttpStatusCode:eW,formToJSON:tW,getAdapter:nW,mergeConfig:rW}=Rt;var yH=gk();const Dt=jE(yH);function Wk(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Wk(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ud(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Wk(n))&&(r&&(r+=" "),r+=e);return r}function Qk(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const _H={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Yk(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let u="",h=!0;for(let d=0;d<o.length;d+=1){const f=o[d];f&&(u+=(h===!0?"":" ")+e(f),h=!1,t&&t[f]&&(u+=" "+t[f]))}r[i]=u}return r}const vH=K.createContext(),EH=()=>K.useContext(vH)??!1;function Z1(n){try{return n.matches(":focus-visible")}catch{}return!1}var R0={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC;function bH(){if(eC)return ht;eC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),T=Symbol.for("react.client.reference");function w(I){if(typeof I=="object"&&I!==null){var P=I.$$typeof;switch(P){case n:switch(I=I.type,I){case t:case i:case r:case d:case f:return I;default:switch(I=I&&I.$$typeof,I){case u:case h:case _:case g:return I;case o:return I;default:return P}}case e:return P}}}return ht.ContextConsumer=o,ht.ContextProvider=u,ht.Element=n,ht.ForwardRef=h,ht.Fragment=t,ht.Lazy=_,ht.Memo=g,ht.Portal=e,ht.Profiler=i,ht.StrictMode=r,ht.Suspense=d,ht.SuspenseList=f,ht.isContextConsumer=function(I){return w(I)===o},ht.isContextProvider=function(I){return w(I)===u},ht.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===n},ht.isForwardRef=function(I){return w(I)===h},ht.isFragment=function(I){return w(I)===t},ht.isLazy=function(I){return w(I)===_},ht.isMemo=function(I){return w(I)===g},ht.isPortal=function(I){return w(I)===e},ht.isProfiler=function(I){return w(I)===i},ht.isStrictMode=function(I){return w(I)===r},ht.isSuspense=function(I){return w(I)===d},ht.isSuspenseList=function(I){return w(I)===f},ht.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===t||I===i||I===r||I===d||I===f||I===v||typeof I=="object"&&I!==null&&(I.$$typeof===_||I.$$typeof===g||I.$$typeof===u||I.$$typeof===o||I.$$typeof===h||I.$$typeof===T||I.getModuleId!==void 0)},ht.typeOf=w,ht}var tC;function wH(){return tC||(tC=1,R0.exports=bH()),R0.exports}var Xk=wH();function Cs(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Jk(n){if(K.isValidElement(n)||Xk.isValidElementType(n)||!Cs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=Jk(n[t])}),e}function Cr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Cs(n)&&Cs(e)&&Object.keys(e).forEach(i=>{K.isValidElement(e[i])||Xk.isValidElementType(e[i])?r[i]=e[i]:Cs(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Cs(n[i])?r[i]=Cr(n[i],e[i],t):t.clone?r[i]=Cs(e[i])?Jk(e[i]):e[i]:r[i]=e[i]}),r}function Il(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function so(n){if(typeof n!="string")throw new Error(Il(7));return n.charAt(0).toUpperCase()+n.slice(1)}function TH(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let nC=0;function SH(n){const[e,t]=K.useState(n),r=n||e;return K.useEffect(()=>{e==null&&(nC+=1,t(`mui-${nC}`))},[e]),r}const AH={...N0},rC=AH.useId;function Zk(n){if(rC!==void 0){const e=rC();return n??e}return SH(n)}function IH({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=K.useRef(n!==void 0),[o,u]=K.useState(e),h=i?n:o,d=K.useCallback(f=>{i||u(f)},[]);return[h,d]}function RH(...n){return K.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{TH(t,e)})},n)}function OE(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],u=e[i];if(!u)t[i]=o||{};else if(!o)t[i]=u;else{t[i]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const d=h;t[i][d]=OE(o[d],u[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const iC=n=>n,CH=()=>{let n=iC;return{configure(e){n=e},generate(e){return n(e)},reset(){n=iC}}},PH=CH(),xH={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function kw(n,e,t="Mui"){const r=xH[e];return r?`${t}-${r}`:`${PH.generate(n)}-${e}`}function eN(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=kw(n,i,t)}),r}function Bd(n,e){return e?Cr(n,e,{clone:!1}):n}function OH(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=i.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function DH(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function kH(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function NH(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const d=e(n.breakpoints.not(...h),u);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const ky={xs:0,sm:600,md:900,lg:1200,xl:1536},sC={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${ky[n]}px)`},VH={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:ky[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function js(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||sC;return e.reduce((u,h,d)=>(u[o.up(o.keys[d])]=t(e[d]),u),{})}if(typeof e=="object"){const o=r.breakpoints||sC;return Object.keys(e).reduce((u,h)=>{if(DH(o.keys,h)){const d=kH(r.containerQueries?r:VH,h);d&&(u[d]=t(e[h],h))}else if(Object.keys(o.values||ky).includes(h)){const d=o.up(h);u[d]=t(e[h],h)}else{const d=h;u[d]=e[d]}return u},{})}return t(e)}function MH(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function LH(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Ny(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function kg(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Ny(n,t)||r,e&&(i=e(i,r,n)),i}function Xt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=u=>{if(u[e]==null)return null;const h=u[e],d=u.theme,f=Ny(d,r)||{};return js(u,h,_=>{let v=kg(f,i,_);return _===v&&typeof _=="string"&&(v=kg(f,i,`${e}${_==="default"?"":so(_)}`,_)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function UH(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const BH={m:"margin",p:"padding"},FH={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},jH=UH(n=>{if(n.length>2)if(aC[n])n=aC[n];else return[n];const[e,t]=n.split(""),r=BH[e],i=FH[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Nw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Vw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Nw,...Vw];function zf(n,e,t,r){const i=Ny(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=i[u];return o>=0?h:typeof h=="number"?-h:`-${h}`}:typeof i=="function"?i:()=>{}}function Mw(n){return zf(n,"spacing",8)}function qf(n,e){return typeof e=="string"||e==null?e:n(e)}function zH(n,e){return t=>n.reduce((r,i)=>(r[i]=qf(e,t),r),{})}function qH(n,e,t,r){if(!e.includes(t))return null;const i=jH(t),o=zH(i,r),u=n[t];return js(n,u,o)}function tN(n,e){const t=Mw(n.theme);return Object.keys(n).map(r=>qH(n,e,r,t)).reduce(Bd,{})}function jt(n){return tN(n,Nw)}jt.propTypes={};jt.filterProps=Nw;function zt(n){return tN(n,Vw)}zt.propTypes={};zt.filterProps=Vw;function Vy(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?Bd(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Qr(n){return typeof n!="number"?n:`${n}px solid`}function Zr(n,e){return Xt({prop:n,themeKey:"borders",transform:e})}const HH=Zr("border",Qr),$H=Zr("borderTop",Qr),GH=Zr("borderRight",Qr),KH=Zr("borderBottom",Qr),WH=Zr("borderLeft",Qr),QH=Zr("borderColor"),YH=Zr("borderTopColor"),XH=Zr("borderRightColor"),JH=Zr("borderBottomColor"),ZH=Zr("borderLeftColor"),e8=Zr("outline",Qr),t8=Zr("outlineColor"),My=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=zf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:qf(e,r)});return js(n,n.borderRadius,t)}return null};My.propTypes={};My.filterProps=["borderRadius"];Vy(HH,$H,GH,KH,WH,QH,YH,XH,JH,ZH,My,e8,t8);const Ly=n=>{if(n.gap!==void 0&&n.gap!==null){const e=zf(n.theme,"spacing",8),t=r=>({gap:qf(e,r)});return js(n,n.gap,t)}return null};Ly.propTypes={};Ly.filterProps=["gap"];const Uy=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=zf(n.theme,"spacing",8),t=r=>({columnGap:qf(e,r)});return js(n,n.columnGap,t)}return null};Uy.propTypes={};Uy.filterProps=["columnGap"];const By=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=zf(n.theme,"spacing",8),t=r=>({rowGap:qf(e,r)});return js(n,n.rowGap,t)}return null};By.propTypes={};By.filterProps=["rowGap"];const n8=Xt({prop:"gridColumn"}),r8=Xt({prop:"gridRow"}),i8=Xt({prop:"gridAutoFlow"}),s8=Xt({prop:"gridAutoColumns"}),a8=Xt({prop:"gridAutoRows"}),o8=Xt({prop:"gridTemplateColumns"}),l8=Xt({prop:"gridTemplateRows"}),u8=Xt({prop:"gridTemplateAreas"}),c8=Xt({prop:"gridArea"});Vy(Ly,Uy,By,n8,r8,i8,s8,a8,o8,l8,u8,c8);function Gu(n,e){return e==="grey"?e:n}const h8=Xt({prop:"color",themeKey:"palette",transform:Gu}),d8=Xt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Gu}),f8=Xt({prop:"backgroundColor",themeKey:"palette",transform:Gu});Vy(h8,d8,f8);function Ar(n){return n<=1&&n!==0?`${n*100}%`:n}const p8=Xt({prop:"width",transform:Ar}),Lw=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,u,h,d;const r=((u=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||ky[t];return r?((d=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ar(t)}};return js(n,n.maxWidth,e)}return null};Lw.filterProps=["maxWidth"];const m8=Xt({prop:"minWidth",transform:Ar}),g8=Xt({prop:"height",transform:Ar}),y8=Xt({prop:"maxHeight",transform:Ar}),_8=Xt({prop:"minHeight",transform:Ar});Xt({prop:"size",cssProperty:"width",transform:Ar});Xt({prop:"size",cssProperty:"height",transform:Ar});const v8=Xt({prop:"boxSizing"});Vy(p8,Lw,m8,g8,y8,_8,v8);const Fy={border:{themeKey:"borders",transform:Qr},borderTop:{themeKey:"borders",transform:Qr},borderRight:{themeKey:"borders",transform:Qr},borderBottom:{themeKey:"borders",transform:Qr},borderLeft:{themeKey:"borders",transform:Qr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Qr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:My},color:{themeKey:"palette",transform:Gu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Gu},backgroundColor:{themeKey:"palette",transform:Gu},p:{style:zt},pt:{style:zt},pr:{style:zt},pb:{style:zt},pl:{style:zt},px:{style:zt},py:{style:zt},padding:{style:zt},paddingTop:{style:zt},paddingRight:{style:zt},paddingBottom:{style:zt},paddingLeft:{style:zt},paddingX:{style:zt},paddingY:{style:zt},paddingInline:{style:zt},paddingInlineStart:{style:zt},paddingInlineEnd:{style:zt},paddingBlock:{style:zt},paddingBlockStart:{style:zt},paddingBlockEnd:{style:zt},m:{style:jt},mt:{style:jt},mr:{style:jt},mb:{style:jt},ml:{style:jt},mx:{style:jt},my:{style:jt},margin:{style:jt},marginTop:{style:jt},marginRight:{style:jt},marginBottom:{style:jt},marginLeft:{style:jt},marginX:{style:jt},marginY:{style:jt},marginInline:{style:jt},marginInlineStart:{style:jt},marginInlineEnd:{style:jt},marginBlock:{style:jt},marginBlockStart:{style:jt},marginBlockEnd:{style:jt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ly},rowGap:{style:By},columnGap:{style:Uy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ar},maxWidth:{style:Lw},minWidth:{transform:Ar},height:{transform:Ar},maxHeight:{transform:Ar},minHeight:{transform:Ar},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function E8(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function b8(n,e){return typeof n=="function"?n(e):n}function w8(){function n(t,r,i,o){const u={[t]:r,theme:i},h=o[t];if(!h)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:g,style:_}=h;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const v=Ny(i,f)||{};return _?_(u):js(u,r,w=>{let I=kg(v,g,w);return w===I&&typeof w=="string"&&(I=kg(v,g,`${t}${w==="default"?"":so(w)}`,w)),d===!1?I:{[d]:I}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??Fy;function u(h){let d=h;if(typeof h=="function")d=h(i);else if(typeof h!="object")return h;if(!d)return null;const f=MH(i.breakpoints),g=Object.keys(f);let _=f;return Object.keys(d).forEach(v=>{const T=b8(d[v],i);if(T!=null)if(typeof T=="object")if(o[v])_=Bd(_,n(v,T,i,o));else{const w=js({theme:i},T,I=>({[v]:I}));E8(w,T)?_[v]=e({sx:T,theme:i}):_=Bd(_,w)}else _=Bd(_,n(v,T,i,o))}),OH(i,LH(g,_))}return Array.isArray(r)?r.map(u):u(r)}return e}const vc=w8();vc.filterProps=["sx"];function DE(){return DE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},DE.apply(null,arguments)}function T8(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function S8(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var A8=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(S8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=T8(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),zn="-ms-",Ng="-moz-",rt="-webkit-",nN="comm",Uw="rule",Bw="decl",I8="@import",rN="@keyframes",R8="@layer",C8=Math.abs,jy=String.fromCharCode,P8=Object.assign;function x8(n,e){return kn(n,0)^45?(((e<<2^kn(n,0))<<2^kn(n,1))<<2^kn(n,2))<<2^kn(n,3):0}function iN(n){return n.trim()}function O8(n,e){return(n=e.exec(n))?n[0]:n}function it(n,e,t){return n.replace(e,t)}function kE(n,e){return n.indexOf(e)}function kn(n,e){return n.charCodeAt(e)|0}function hf(n,e,t){return n.slice(e,t)}function ki(n){return n.length}function Fw(n){return n.length}function Sm(n,e){return e.push(n),n}function D8(n,e){return n.map(e).join("")}var zy=1,Ec=1,sN=0,dr=0,an=0,Fc="";function qy(n,e,t,r,i,o,u){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:zy,column:Ec,length:u,return:""}}function fd(n,e){return P8(qy("",null,null,"",null,null,0),n,{length:-n.length},e)}function k8(){return an}function N8(){return an=dr>0?kn(Fc,--dr):0,Ec--,an===10&&(Ec=1,zy--),an}function Pr(){return an=dr<sN?kn(Fc,dr++):0,Ec++,an===10&&(Ec=1,zy++),an}function $i(){return kn(Fc,dr)}function Wm(){return dr}function Hf(n,e){return hf(Fc,n,e)}function df(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function aN(n){return zy=Ec=1,sN=ki(Fc=n),dr=0,[]}function oN(n){return Fc="",n}function Qm(n){return iN(Hf(dr-1,NE(n===91?n+2:n===40?n+1:n)))}function V8(n){for(;(an=$i())&&an<33;)Pr();return df(n)>2||df(an)>3?"":" "}function M8(n,e){for(;--e&&Pr()&&!(an<48||an>102||an>57&&an<65||an>70&&an<97););return Hf(n,Wm()+(e<6&&$i()==32&&Pr()==32))}function NE(n){for(;Pr();)switch(an){case n:return dr;case 34:case 39:n!==34&&n!==39&&NE(an);break;case 40:n===41&&NE(n);break;case 92:Pr();break}return dr}function L8(n,e){for(;Pr()&&n+an!==57;)if(n+an===84&&$i()===47)break;return"/*"+Hf(e,dr-1)+"*"+jy(n===47?n:Pr())}function U8(n){for(;!df($i());)Pr();return Hf(n,dr)}function B8(n){return oN(Ym("",null,null,null,[""],n=aN(n),0,[0],n))}function Ym(n,e,t,r,i,o,u,h,d){for(var f=0,g=0,_=u,v=0,T=0,w=0,I=1,P=1,U=1,M=0,L="",$=i,F=o,H=r,V=L;P;)switch(w=M,M=Pr()){case 40:if(w!=108&&kn(V,_-1)==58){kE(V+=it(Qm(M),"&","&\f"),"&\f")!=-1&&(U=-1);break}case 34:case 39:case 91:V+=Qm(M);break;case 9:case 10:case 13:case 32:V+=V8(w);break;case 92:V+=M8(Wm()-1,7);continue;case 47:switch($i()){case 42:case 47:Sm(F8(L8(Pr(),Wm()),e,t),d);break;default:V+="/"}break;case 123*I:h[f++]=ki(V)*U;case 125*I:case 59:case 0:switch(M){case 0:case 125:P=0;case 59+g:U==-1&&(V=it(V,/\f/g,"")),T>0&&ki(V)-_&&Sm(T>32?lC(V+";",r,t,_-1):lC(it(V," ","")+";",r,t,_-2),d);break;case 59:V+=";";default:if(Sm(H=oC(V,e,t,f,g,i,h,L,$=[],F=[],_),o),M===123)if(g===0)Ym(V,e,H,H,$,o,_,h,F);else switch(v===99&&kn(V,3)===110?100:v){case 100:case 108:case 109:case 115:Ym(n,H,H,r&&Sm(oC(n,H,H,0,0,i,h,L,i,$=[],_),F),i,F,_,h,r?$:F);break;default:Ym(V,H,H,H,[""],F,0,h,F)}}f=g=T=0,I=U=1,L=V="",_=u;break;case 58:_=1+ki(V),T=w;default:if(I<1){if(M==123)--I;else if(M==125&&I++==0&&N8()==125)continue}switch(V+=jy(M),M*I){case 38:U=g>0?1:(V+="\f",-1);break;case 44:h[f++]=(ki(V)-1)*U,U=1;break;case 64:$i()===45&&(V+=Qm(Pr())),v=$i(),g=_=ki(L=V+=U8(Wm())),M++;break;case 45:w===45&&ki(V)==2&&(I=0)}}return o}function oC(n,e,t,r,i,o,u,h,d,f,g){for(var _=i-1,v=i===0?o:[""],T=Fw(v),w=0,I=0,P=0;w<r;++w)for(var U=0,M=hf(n,_+1,_=C8(I=u[w])),L=n;U<T;++U)(L=iN(I>0?v[U]+" "+M:it(M,/&\f/g,v[U])))&&(d[P++]=L);return qy(n,e,t,i===0?Uw:h,d,f,g)}function F8(n,e,t){return qy(n,e,t,nN,jy(k8()),hf(n,2,-2),0)}function lC(n,e,t,r){return qy(n,e,t,Bw,hf(n,0,r),hf(n,r+1,-1),r)}function Ku(n,e){for(var t="",r=Fw(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function j8(n,e,t,r){switch(n.type){case R8:if(n.children.length)break;case I8:case Bw:return n.return=n.return||n.value;case nN:return"";case rN:return n.return=n.value+"{"+Ku(n.children,r)+"}";case Uw:n.value=n.props.join(",")}return ki(t=Ku(n.children,r))?n.return=n.value+"{"+t+"}":""}function z8(n){var e=Fw(n);return function(t,r,i,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,i,o)||"";return u}}function q8(n){return function(e){e.root||(e=e.return)&&n(e)}}function lN(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var H8=function(e,t,r){for(var i=0,o=0;i=o,o=$i(),i===38&&o===12&&(t[r]=1),!df(o);)Pr();return Hf(e,dr)},$8=function(e,t){var r=-1,i=44;do switch(df(i)){case 0:i===38&&$i()===12&&(t[r]=1),e[r]+=H8(dr-1,t,r);break;case 2:e[r]+=Qm(i);break;case 4:if(i===44){e[++r]=$i()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=jy(i)}while(i=Pr());return e},G8=function(e,t){return oN($8(aN(e),t))},uC=new WeakMap,K8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!uC.get(r))&&!i){uC.set(e,!0);for(var o=[],u=G8(t,o),h=r.props,d=0,f=0;d<u.length;d++)for(var g=0;g<h.length;g++,f++)e.props[f]=o[d]?u[d].replace(/&\f/g,h[g]):h[g]+" "+u[d]}}},W8=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function uN(n,e){switch(x8(n,e)){case 5103:return rt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return rt+n+Ng+n+zn+n+n;case 6828:case 4268:return rt+n+zn+n+n;case 6165:return rt+n+zn+"flex-"+n+n;case 5187:return rt+n+it(n,/(\w+).+(:[^]+)/,rt+"box-$1$2"+zn+"flex-$1$2")+n;case 5443:return rt+n+zn+"flex-item-"+it(n,/flex-|-self/,"")+n;case 4675:return rt+n+zn+"flex-line-pack"+it(n,/align-content|flex-|-self/,"")+n;case 5548:return rt+n+zn+it(n,"shrink","negative")+n;case 5292:return rt+n+zn+it(n,"basis","preferred-size")+n;case 6060:return rt+"box-"+it(n,"-grow","")+rt+n+zn+it(n,"grow","positive")+n;case 4554:return rt+it(n,/([^-])(transform)/g,"$1"+rt+"$2")+n;case 6187:return it(it(it(n,/(zoom-|grab)/,rt+"$1"),/(image-set)/,rt+"$1"),n,"")+n;case 5495:case 3959:return it(n,/(image-set\([^]*)/,rt+"$1$`$1");case 4968:return it(it(n,/(.+:)(flex-)?(.*)/,rt+"box-pack:$3"+zn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rt+n+n;case 4095:case 3583:case 4068:case 2532:return it(n,/(.+)-inline(.+)/,rt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ki(n)-1-e>6)switch(kn(n,e+1)){case 109:if(kn(n,e+4)!==45)break;case 102:return it(n,/(.+:)(.+)-([^]+)/,"$1"+rt+"$2-$3$1"+Ng+(kn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~kE(n,"stretch")?uN(it(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(kn(n,e+1)!==115)break;case 6444:switch(kn(n,ki(n)-3-(~kE(n,"!important")&&10))){case 107:return it(n,":",":"+rt)+n;case 101:return it(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rt+(kn(n,14)===45?"inline-":"")+"box$3$1"+rt+"$2$3$1"+zn+"$2box$3")+n}break;case 5936:switch(kn(n,e+11)){case 114:return rt+n+zn+it(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return rt+n+zn+it(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return rt+n+zn+it(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return rt+n+zn+n+n}return n}var Q8=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case Bw:e.return=uN(e.value,e.length);break;case rN:return Ku([fd(e,{value:it(e.value,"@","@"+rt)})],i);case Uw:if(e.length)return D8(e.props,function(o){switch(O8(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ku([fd(e,{props:[it(o,/:(read-\w+)/,":"+Ng+"$1")]})],i);case"::placeholder":return Ku([fd(e,{props:[it(o,/:(plac\w+)/,":"+rt+"input-$1")]}),fd(e,{props:[it(o,/:(plac\w+)/,":"+Ng+"$1")]}),fd(e,{props:[it(o,/:(plac\w+)/,zn+"input-$1")]})],i)}return""})}},Y8=[Q8],X8=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(I){var P=I.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var i=e.stylisPlugins||Y8,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(I){for(var P=I.getAttribute("data-emotion").split(" "),U=1;U<P.length;U++)o[P[U]]=!0;h.push(I)});var d,f=[K8,W8];{var g,_=[j8,q8(function(I){g.insert(I)})],v=z8(f.concat(i,_)),T=function(P){return Ku(B8(P),v)};d=function(P,U,M,L){g=M,T(P?P+"{"+U.styles+"}":U.styles),L&&(w.inserted[U.name]=!0)}}var w={key:t,sheet:new A8({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return w.sheet.hydrate(h),w},J8=!0;function Z8(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var cN=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||J8===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},e7=function(e,t,r){cN(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function t7(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var n7={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},r7=/[A-Z]|^ms/g,i7=/_EMO_([^_]+?)_([^]*?)_EMO_/g,hN=function(e){return e.charCodeAt(1)===45},cC=function(e){return e!=null&&typeof e!="boolean"},C0=lN(function(n){return hN(n)?n:n.replace(r7,"-$&").toLowerCase()}),hC=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(i7,function(r,i,o){return Ni={name:i,styles:o,next:Ni},i})}return n7[e]!==1&&!hN(e)&&typeof t=="number"&&t!==0?t+"px":t};function ff(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Ni={name:i.name,styles:i.styles,next:Ni},i.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Ni={name:u.name,styles:u.styles,next:Ni},u=u.next;var h=o.styles+";";return h}return s7(n,e,t)}case"function":{if(n!==void 0){var d=Ni,f=t(n);return Ni=d,ff(n,e,f)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function s7(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=ff(n,e,t[i])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":cC(h)&&(r+=C0(o)+":"+hC(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var d=0;d<u.length;d++)cC(u[d])&&(r+=C0(o)+":"+hC(o,u[d])+";");else{var f=ff(n,e,u);switch(o){case"animation":case"animationName":{r+=C0(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var dC=/label:\s*([^\s;{]+)\s*(;|$)/g,Ni;function dN(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Ni=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=ff(t,e,o);else{var u=o;i+=u[0]}for(var h=1;h<n.length;h++)if(i+=ff(t,e,n[h]),r){var d=o;i+=d[h]}dC.lastIndex=0;for(var f="",g;(g=dC.exec(i))!==null;)f+="-"+g[1];var _=t7(i)+f;return{name:_,styles:i,next:Ni}}var a7=function(e){return e()},o7=N0.useInsertionEffect?N0.useInsertionEffect:!1,l7=o7||a7,fN=K.createContext(typeof HTMLElement<"u"?X8({key:"css"}):null);fN.Provider;var u7=function(e){return K.forwardRef(function(t,r){var i=K.useContext(fN);return e(t,i,r)})},c7=K.createContext({}),h7=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,d7=lN(function(n){return h7.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),f7=d7,p7=function(e){return e!=="theme"},fC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?f7:p7},pC=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},m7=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return cN(t,r,i),l7(function(){return e7(t,r,i)}),null},g7=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=pC(e,t,r),d=h||fC(i),f=!d("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var v=g[0];_.push(v[0]);for(var T=g.length,w=1;w<T;w++)_.push(g[w],v[w])}var I=u7(function(P,U,M){var L=f&&P.as||i,$="",F=[],H=P;if(P.theme==null){H={};for(var V in P)H[V]=P[V];H.theme=K.useContext(c7)}typeof P.className=="string"?$=Z8(U.registered,F,P.className):P.className!=null&&($=P.className+" ");var C=dN(_.concat(F),U.registered,H);$+=U.key+"-"+C.name,u!==void 0&&($+=" "+u);var R=f&&h===void 0?fC(L):d,b={};for(var x in P)f&&x==="as"||R(x)&&(b[x]=P[x]);return b.className=$,M&&(b.ref=M),K.createElement(K.Fragment,null,K.createElement(m7,{cache:U,serialized:C,isStringTag:typeof L=="string"}),K.createElement(L,b))});return I.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",I.defaultProps=e.defaultProps,I.__emotion_real=I,I.__emotion_base=i,I.__emotion_styles=_,I.__emotion_forwardProp=h,Object.defineProperty(I,"toString",{value:function(){return"."+u}}),I.withComponent=function(P,U){var M=n(P,DE({},t,U,{shouldForwardProp:pC(I,U,!0)}));return M.apply(void 0,_)},I}},y7=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],VE=g7.bind(null);y7.forEach(function(n){VE[n]=VE(n)});/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function _7(n,e){return VE(n,e)}function v7(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const mC=[];function gC(n){return mC[0]=n,dN(mC)}const E7=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function b7(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=E7(e),u=Object.keys(o);function h(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function f(v,T){const w=u.indexOf(T);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(w!==-1&&typeof e[u[w]]=="number"?e[u[w]]:T)-r/100}${t})`}function g(v){return u.indexOf(v)+1<u.length?f(v,u[u.indexOf(v)+1]):h(v)}function _(v){const T=u.indexOf(v);return T===0?h(u[1]):T===u.length-1?d(u[T]):f(v,u[u.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:d,between:f,only:g,not:_,unit:t,...i}}const w7={borderRadius:4};function pN(n=8,e=Mw({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function T7(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function mN(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...u}=n,h=b7(t),d=pN(i);let f=Cr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...w7,...o}},u);return f=NH(f),f.applyStyles=T7,f=e.reduce((g,_)=>Cr(g,_),f),f.unstable_sxConfig={...Fy,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(_){return vc({sx:_,theme:this})},f}function gN(n){const{variants:e,...t}=n,r={variants:e,style:gC(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=gC(i.style))}),r}const S7=mN();function P0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function A7(n){return n?(e,t)=>t[n]:null}function I7(n,e,t){n.theme=P7(n.theme)?t:n.theme[e]||n.theme}function Xm(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Xm(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return yN(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function yN(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((i=n.ownerState)==null?void 0:i[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function R7(n={}){const{themeId:e,defaultTheme:t=S7,rootShouldForwardProp:r=P0,slotShouldForwardProp:i=P0}=n;function o(h){I7(h,e,t)}return(h,d={})=>{v7(h,F=>F.filter(H=>H!==vc));const{name:f,slot:g,skipVariantsResolver:_,skipSx:v,overridesResolver:T=A7(O7(g)),...w}=d,I=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,P=v||!1;let U=P0;g==="Root"||g==="root"?U=r:g?U=i:x7(h)&&(U=void 0);const M=_7(h,{shouldForwardProp:U,label:C7(),...w}),L=F=>{if(typeof F=="function"&&F.__emotion_real!==F)return function(V){return Xm(V,F)};if(Cs(F)){const H=gN(F);return H.variants?function(C){return Xm(C,H)}:H.style}return F},$=(...F)=>{const H=[],V=F.map(L),C=[];if(H.push(o),f&&T&&C.push(function(O){var ee,ie;const te=(ie=(ee=O.theme.components)==null?void 0:ee[f])==null?void 0:ie.styleOverrides;if(!te)return null;const B={};for(const ue in te)B[ue]=Xm(O,te[ue]);return T(O,B)}),f&&!I&&C.push(function(O){var B,ee;const D=O.theme,te=(ee=(B=D==null?void 0:D.components)==null?void 0:B[f])==null?void 0:ee.variants;return te?yN(O,te):null}),P||C.push(vc),Array.isArray(V[0])){const x=V.shift(),O=new Array(H.length).fill(""),D=new Array(C.length).fill("");let te;te=[...O,...x,...D],te.raw=[...O,...x.raw,...D],H.unshift(te)}const R=[...H,...V,...C],b=M(...R);return h.muiName&&(b.muiName=h.muiName),b};return M.withConfig&&($.withConfig=M.withConfig),$}}function C7(n,e){return void 0}function P7(n){for(const e in n)return!1;return!0}function x7(n){return typeof n=="string"&&n.charCodeAt(0)>96}function O7(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function jw(n,e=0,t=1){return Qk(n,e,t)}function D7(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ao(n){if(n.type)return n;if(n.charAt(0)==="#")return ao(D7(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Il(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Il(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const k7=n=>{const e=ao(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Sd=(n,e)=>{try{return k7(n)}catch{return n}};function Hy(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function _N(n){n=ao(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(f,g=(f+t/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let h="rgb";const d=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",d.push(e[3])),Hy({type:h,values:d})}function ME(n){n=ao(n);let e=n.type==="hsl"||n.type==="hsla"?ao(_N(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function N7(n,e){const t=ME(n),r=ME(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function V7(n,e){return n=ao(n),e=jw(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Hy(n)}function Am(n,e,t){try{return V7(n,e)}catch{return n}}function zw(n,e){if(n=ao(n),e=jw(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Hy(n)}function ft(n,e,t){try{return zw(n,e)}catch{return n}}function qw(n,e){if(n=ao(n),e=jw(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Hy(n)}function pt(n,e,t){try{return qw(n,e)}catch{return n}}function M7(n,e=.15){return ME(n)>.5?zw(n,e):qw(n,e)}function Im(n,e,t){try{return M7(n,e)}catch{return n}}const L7=K.createContext(void 0);function U7(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?OE(i.defaultProps,r):!i.styleOverrides&&!i.variants?OE(i,r):r}function B7({props:n,name:e}){const t=K.useContext(L7);return U7({props:n,name:e,theme:{components:t}})}const yC={theme:void 0};function F7(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(yC.theme=i.theme,o=gN(n(yC)),e=o,t=i.theme),o}}function j7(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const _C=(n,e,t,r=[])=>{let i=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},z7=(n,e,t)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([h,d])=>{(!t||t&&!t([...o,h]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,h],Array.isArray(d)?[...u,h]:u):e([...o,h],d,u))})}r(n)},q7=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function x0(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return z7(n,(h,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(h,d))){const g=`--${t?`${t}-`:""}${h.join("-")}`,_=q7(h,d);Object.assign(i,{[g]:_}),_C(o,h,`var(${g})`,f),_C(u,h,`var(${g}, ${_})`,f)}},h=>h[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function H7(n,e={}){const{getSelector:t=P,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...d}=n,{vars:f,css:g,varsWithDefaults:_}=x0(d,e);let v=_;const T={},{[h]:w,...I}=o;if(Object.entries(I||{}).forEach(([L,$])=>{const{vars:F,css:H,varsWithDefaults:V}=x0($,e);v=Cr(v,V),T[L]={css:H,vars:F}}),w){const{css:L,vars:$,varsWithDefaults:F}=x0(w,e);v=Cr(v,F),T[h]={css:L,vars:$}}function P(L,$){var H,V;let F=i;if(i==="class"&&(F=".%s"),i==="data"&&(F="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(F=`[${i}="%s"]`),L){if(F==="media")return n.defaultColorScheme===L?":root":{[`@media (prefers-color-scheme: ${((V=(H=o[L])==null?void 0:H.palette)==null?void 0:V.mode)||L})`]:{":root":$}};if(F)return n.defaultColorScheme===L?`:root, ${F.replace("%s",String(L))}`:F.replace("%s",String(L))}return":root"}return{vars:v,generateThemeVars:()=>{let L={...f};return Object.entries(T).forEach(([,{vars:$}])=>{L=Cr(L,$)}),L},generateStyleSheets:()=>{var C,R;const L=[],$=n.defaultColorScheme||"light";function F(b,x){Object.keys(x).length&&L.push(typeof b=="string"?{[b]:{...x}}:b)}F(t(void 0,{...g}),g);const{[$]:H,...V}=T;if(H){const{css:b}=H,x=(R=(C=o[$])==null?void 0:C.palette)==null?void 0:R.mode,O=!r&&x?{colorScheme:x,...b}:{...b};F(t($,{...O}),O)}return Object.entries(V).forEach(([b,{css:x}])=>{var te,B;const O=(B=(te=o[b])==null?void 0:te.palette)==null?void 0:B.mode,D=!r&&O?{colorScheme:O,...x}:{...x};F(t(b,{...D}),D)}),L}}}function $7(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const pf={black:"#000",white:"#fff"},G7={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Cu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Pu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},pd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},xu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ou={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Du={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function vN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:pf.white,default:pf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const K7=vN();function EN(){return{text:{primary:pf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:pf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const vC=EN();function EC(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=qw(n.main,i):e==="dark"&&(n.dark=zw(n.main,o)))}function W7(n="light"){return n==="dark"?{main:xu[200],light:xu[50],dark:xu[400]}:{main:xu[700],light:xu[400],dark:xu[800]}}function Q7(n="light"){return n==="dark"?{main:Cu[200],light:Cu[50],dark:Cu[400]}:{main:Cu[500],light:Cu[300],dark:Cu[700]}}function Y7(n="light"){return n==="dark"?{main:Pu[500],light:Pu[300],dark:Pu[700]}:{main:Pu[700],light:Pu[400],dark:Pu[800]}}function X7(n="light"){return n==="dark"?{main:Ou[400],light:Ou[300],dark:Ou[700]}:{main:Ou[700],light:Ou[500],dark:Ou[900]}}function J7(n="light"){return n==="dark"?{main:Du[400],light:Du[300],dark:Du[700]}:{main:Du[800],light:Du[500],dark:Du[900]}}function Z7(n="light"){return n==="dark"?{main:pd[400],light:pd[300],dark:pd[700]}:{main:"#ed6c02",light:pd[500],dark:pd[900]}}function Hw(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||W7(e),u=n.secondary||Q7(e),h=n.error||Y7(e),d=n.info||X7(e),f=n.success||J7(e),g=n.warning||Z7(e);function _(I){return N7(I,vC.text.primary)>=t?vC.text.primary:K7.text.primary}const v=({color:I,name:P,mainShade:U=500,lightShade:M=300,darkShade:L=700})=>{if(I={...I},!I.main&&I[U]&&(I.main=I[U]),!I.hasOwnProperty("main"))throw new Error(Il(11,P?` (${P})`:"",U));if(typeof I.main!="string")throw new Error(Il(12,P?` (${P})`:"",JSON.stringify(I.main)));return EC(I,"light",M,r),EC(I,"dark",L,r),I.contrastText||(I.contrastText=_(I.main)),I};let T;return e==="light"?T=vN():e==="dark"&&(T=EN()),Cr({common:{...pf},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:h,name:"error"}),warning:v({color:g,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:f,name:"success"}),grey:G7,contrastThreshold:t,getContrastText:_,augmentColor:v,tonalOffset:r,...T},i)}function e$(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function t$(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function n$(n){return Math.round(n*1e5)/1e5}const bC={textTransform:"uppercase"},wC='"Roboto", "Helvetica", "Arial", sans-serif';function r$(n,e){const{fontFamily:t=wC,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:d=16,allVariants:f,pxToRem:g,..._}=typeof e=="function"?e(n):e,v=r/14,T=g||(P=>`${P/d*v}rem`),w=(P,U,M,L,$)=>({fontFamily:t,fontWeight:P,fontSize:T(U),lineHeight:M,...t===wC?{letterSpacing:`${n$(L/U)}em`}:{},...$,...f}),I={h1:w(i,96,1.167,-1.5),h2:w(i,60,1.2,-.5),h3:w(o,48,1.167,0),h4:w(o,34,1.235,.25),h5:w(o,24,1.334,0),h6:w(u,20,1.6,.15),subtitle1:w(o,16,1.75,.15),subtitle2:w(u,14,1.57,.1),body1:w(o,16,1.5,.15),body2:w(o,14,1.43,.15),button:w(u,14,1.75,.4,bC),caption:w(o,12,1.66,.4),overline:w(o,12,2.66,1,bC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Cr({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...I},_,{clone:!1})}const i$=.2,s$=.14,a$=.12;function bt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${i$})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${s$})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${a$})`].join(",")}const o$=["none",bt(0,2,1,-1,0,1,1,0,0,1,3,0),bt(0,3,1,-2,0,2,2,0,0,1,5,0),bt(0,3,3,-2,0,3,4,0,0,1,8,0),bt(0,2,4,-1,0,4,5,0,0,1,10,0),bt(0,3,5,-1,0,5,8,0,0,1,14,0),bt(0,3,5,-1,0,6,10,0,0,1,18,0),bt(0,4,5,-2,0,7,10,1,0,2,16,1),bt(0,5,5,-3,0,8,10,1,0,3,14,2),bt(0,5,6,-3,0,9,12,1,0,3,16,2),bt(0,6,6,-3,0,10,14,1,0,4,18,3),bt(0,6,7,-4,0,11,15,1,0,4,20,3),bt(0,7,8,-4,0,12,17,2,0,5,22,4),bt(0,7,8,-4,0,13,19,2,0,5,24,4),bt(0,7,9,-4,0,14,21,2,0,5,26,4),bt(0,8,9,-5,0,15,22,2,0,6,28,5),bt(0,8,10,-5,0,16,24,2,0,6,30,5),bt(0,8,11,-5,0,17,26,2,0,6,32,5),bt(0,9,11,-5,0,18,28,2,0,7,34,6),bt(0,9,12,-6,0,19,29,2,0,7,36,6),bt(0,10,13,-6,0,20,31,3,0,8,38,7),bt(0,10,13,-6,0,21,33,3,0,8,40,7),bt(0,10,14,-6,0,22,35,3,0,8,42,7),bt(0,11,14,-7,0,23,36,3,0,9,44,8),bt(0,11,15,-7,0,24,38,3,0,9,46,8)],l$={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},u$={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function TC(n){return`${Math.round(n)}ms`}function c$(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function h$(n){const e={...l$,...n.easing},t={...u$,...n.duration};return{getAutoHeightDuration:c$,create:(i=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:d=0,...f}=o;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof u=="string"?u:TC(u)} ${h} ${typeof d=="string"?d:TC(d)}`).join(",")},...n,easing:e,duration:t}}const d$={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function f$(n){return Cs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function bN(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,h]=i[o];!f$(h)||u.startsWith("unstable_")?delete r[u]:Cs(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function LE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:h={},shape:d,...f}=n;if(n.vars)throw new Error(Il(20));const g=Hw(o),_=mN(n);let v=Cr(_,{mixins:t$(_.breakpoints,r),palette:g,shadows:o$.slice(),typography:r$(g,h),transitions:h$(u),zIndex:{...d$}});return v=Cr(v,f),v=e.reduce((T,w)=>Cr(T,w),v),v.unstable_sxConfig={...Fy,...f==null?void 0:f.unstable_sxConfig},v.unstable_sx=function(w){return vc({sx:w,theme:this})},v.toRuntimeSource=bN,v}function p$(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const m$=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=p$(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function wN(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function TN(n){return n==="dark"?m$:[]}function g$(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=Hw(e);return{palette:o,opacity:{...wN(o.mode),...t},overlays:r||TN(o.mode),...i}}function y$(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const _$=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],v$=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return _$(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function E$(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function oe(n,e,t){!n[e]&&t&&(n[e]=t)}function Ad(n){return typeof n!="string"||!n.startsWith("hsl")?n:_N(n)}function As(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Sd(Ad(n[e])))}function b$(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const xi=n=>{try{return n()}catch{}},w$=(n="mui")=>j7(n);function O0(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=g$({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=LE({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...wN(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||TN(i)},u}function T$(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=y$,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...f}=n,g=Object.keys(t)[0],_=r||(t.light&&g!=="light"?"light":g),v=w$(o),{[_]:T,light:w,dark:I,...P}=t,U={...P};let M=T;if((_==="dark"&&!("dark"in t)||_==="light"&&!("light"in t))&&(M=!0),!M)throw new Error(Il(21,_));const L=O0(U,M,f,_);w&&!U.light&&O0(U,w,void 0,"light"),I&&!U.dark&&O0(U,I,void 0,"dark");let $={defaultColorScheme:_,...L,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:d,getCssVar:v,colorSchemes:U,font:{...e$(L.typography),...L.font},spacing:b$(f.spacing)};Object.keys($.colorSchemes).forEach(R=>{const b=$.colorSchemes[R].palette,x=O=>{const D=O.split("-"),te=D[1],B=D[2];return v(O,b[te][B])};if(b.mode==="light"&&(oe(b.common,"background","#fff"),oe(b.common,"onBackground","#000")),b.mode==="dark"&&(oe(b.common,"background","#000"),oe(b.common,"onBackground","#fff")),E$(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){oe(b.Alert,"errorColor",ft(b.error.light,.6)),oe(b.Alert,"infoColor",ft(b.info.light,.6)),oe(b.Alert,"successColor",ft(b.success.light,.6)),oe(b.Alert,"warningColor",ft(b.warning.light,.6)),oe(b.Alert,"errorFilledBg",x("palette-error-main")),oe(b.Alert,"infoFilledBg",x("palette-info-main")),oe(b.Alert,"successFilledBg",x("palette-success-main")),oe(b.Alert,"warningFilledBg",x("palette-warning-main")),oe(b.Alert,"errorFilledColor",xi(()=>b.getContrastText(b.error.main))),oe(b.Alert,"infoFilledColor",xi(()=>b.getContrastText(b.info.main))),oe(b.Alert,"successFilledColor",xi(()=>b.getContrastText(b.success.main))),oe(b.Alert,"warningFilledColor",xi(()=>b.getContrastText(b.warning.main))),oe(b.Alert,"errorStandardBg",pt(b.error.light,.9)),oe(b.Alert,"infoStandardBg",pt(b.info.light,.9)),oe(b.Alert,"successStandardBg",pt(b.success.light,.9)),oe(b.Alert,"warningStandardBg",pt(b.warning.light,.9)),oe(b.Alert,"errorIconColor",x("palette-error-main")),oe(b.Alert,"infoIconColor",x("palette-info-main")),oe(b.Alert,"successIconColor",x("palette-success-main")),oe(b.Alert,"warningIconColor",x("palette-warning-main")),oe(b.AppBar,"defaultBg",x("palette-grey-100")),oe(b.Avatar,"defaultBg",x("palette-grey-400")),oe(b.Button,"inheritContainedBg",x("palette-grey-300")),oe(b.Button,"inheritContainedHoverBg",x("palette-grey-A100")),oe(b.Chip,"defaultBorder",x("palette-grey-400")),oe(b.Chip,"defaultAvatarColor",x("palette-grey-700")),oe(b.Chip,"defaultIconColor",x("palette-grey-700")),oe(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),oe(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),oe(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),oe(b.LinearProgress,"primaryBg",pt(b.primary.main,.62)),oe(b.LinearProgress,"secondaryBg",pt(b.secondary.main,.62)),oe(b.LinearProgress,"errorBg",pt(b.error.main,.62)),oe(b.LinearProgress,"infoBg",pt(b.info.main,.62)),oe(b.LinearProgress,"successBg",pt(b.success.main,.62)),oe(b.LinearProgress,"warningBg",pt(b.warning.main,.62)),oe(b.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.11)`),oe(b.Slider,"primaryTrack",pt(b.primary.main,.62)),oe(b.Slider,"secondaryTrack",pt(b.secondary.main,.62)),oe(b.Slider,"errorTrack",pt(b.error.main,.62)),oe(b.Slider,"infoTrack",pt(b.info.main,.62)),oe(b.Slider,"successTrack",pt(b.success.main,.62)),oe(b.Slider,"warningTrack",pt(b.warning.main,.62));const O=Im(b.background.default,.8);oe(b.SnackbarContent,"bg",O),oe(b.SnackbarContent,"color",xi(()=>b.getContrastText(O))),oe(b.SpeedDialAction,"fabHoverBg",Im(b.background.paper,.15)),oe(b.StepConnector,"border",x("palette-grey-400")),oe(b.StepContent,"border",x("palette-grey-400")),oe(b.Switch,"defaultColor",x("palette-common-white")),oe(b.Switch,"defaultDisabledColor",x("palette-grey-100")),oe(b.Switch,"primaryDisabledColor",pt(b.primary.main,.62)),oe(b.Switch,"secondaryDisabledColor",pt(b.secondary.main,.62)),oe(b.Switch,"errorDisabledColor",pt(b.error.main,.62)),oe(b.Switch,"infoDisabledColor",pt(b.info.main,.62)),oe(b.Switch,"successDisabledColor",pt(b.success.main,.62)),oe(b.Switch,"warningDisabledColor",pt(b.warning.main,.62)),oe(b.TableCell,"border",pt(Am(b.divider,1),.88)),oe(b.Tooltip,"bg",Am(b.grey[700],.92))}if(b.mode==="dark"){oe(b.Alert,"errorColor",pt(b.error.light,.6)),oe(b.Alert,"infoColor",pt(b.info.light,.6)),oe(b.Alert,"successColor",pt(b.success.light,.6)),oe(b.Alert,"warningColor",pt(b.warning.light,.6)),oe(b.Alert,"errorFilledBg",x("palette-error-dark")),oe(b.Alert,"infoFilledBg",x("palette-info-dark")),oe(b.Alert,"successFilledBg",x("palette-success-dark")),oe(b.Alert,"warningFilledBg",x("palette-warning-dark")),oe(b.Alert,"errorFilledColor",xi(()=>b.getContrastText(b.error.dark))),oe(b.Alert,"infoFilledColor",xi(()=>b.getContrastText(b.info.dark))),oe(b.Alert,"successFilledColor",xi(()=>b.getContrastText(b.success.dark))),oe(b.Alert,"warningFilledColor",xi(()=>b.getContrastText(b.warning.dark))),oe(b.Alert,"errorStandardBg",ft(b.error.light,.9)),oe(b.Alert,"infoStandardBg",ft(b.info.light,.9)),oe(b.Alert,"successStandardBg",ft(b.success.light,.9)),oe(b.Alert,"warningStandardBg",ft(b.warning.light,.9)),oe(b.Alert,"errorIconColor",x("palette-error-main")),oe(b.Alert,"infoIconColor",x("palette-info-main")),oe(b.Alert,"successIconColor",x("palette-success-main")),oe(b.Alert,"warningIconColor",x("palette-warning-main")),oe(b.AppBar,"defaultBg",x("palette-grey-900")),oe(b.AppBar,"darkBg",x("palette-background-paper")),oe(b.AppBar,"darkColor",x("palette-text-primary")),oe(b.Avatar,"defaultBg",x("palette-grey-600")),oe(b.Button,"inheritContainedBg",x("palette-grey-800")),oe(b.Button,"inheritContainedHoverBg",x("palette-grey-700")),oe(b.Chip,"defaultBorder",x("palette-grey-700")),oe(b.Chip,"defaultAvatarColor",x("palette-grey-300")),oe(b.Chip,"defaultIconColor",x("palette-grey-300")),oe(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),oe(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),oe(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),oe(b.LinearProgress,"primaryBg",ft(b.primary.main,.5)),oe(b.LinearProgress,"secondaryBg",ft(b.secondary.main,.5)),oe(b.LinearProgress,"errorBg",ft(b.error.main,.5)),oe(b.LinearProgress,"infoBg",ft(b.info.main,.5)),oe(b.LinearProgress,"successBg",ft(b.success.main,.5)),oe(b.LinearProgress,"warningBg",ft(b.warning.main,.5)),oe(b.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.13)`),oe(b.Slider,"primaryTrack",ft(b.primary.main,.5)),oe(b.Slider,"secondaryTrack",ft(b.secondary.main,.5)),oe(b.Slider,"errorTrack",ft(b.error.main,.5)),oe(b.Slider,"infoTrack",ft(b.info.main,.5)),oe(b.Slider,"successTrack",ft(b.success.main,.5)),oe(b.Slider,"warningTrack",ft(b.warning.main,.5));const O=Im(b.background.default,.98);oe(b.SnackbarContent,"bg",O),oe(b.SnackbarContent,"color",xi(()=>b.getContrastText(O))),oe(b.SpeedDialAction,"fabHoverBg",Im(b.background.paper,.15)),oe(b.StepConnector,"border",x("palette-grey-600")),oe(b.StepContent,"border",x("palette-grey-600")),oe(b.Switch,"defaultColor",x("palette-grey-300")),oe(b.Switch,"defaultDisabledColor",x("palette-grey-600")),oe(b.Switch,"primaryDisabledColor",ft(b.primary.main,.55)),oe(b.Switch,"secondaryDisabledColor",ft(b.secondary.main,.55)),oe(b.Switch,"errorDisabledColor",ft(b.error.main,.55)),oe(b.Switch,"infoDisabledColor",ft(b.info.main,.55)),oe(b.Switch,"successDisabledColor",ft(b.success.main,.55)),oe(b.Switch,"warningDisabledColor",ft(b.warning.main,.55)),oe(b.TableCell,"border",ft(Am(b.divider,1),.68)),oe(b.Tooltip,"bg",Am(b.grey[700],.92))}As(b.background,"default"),As(b.background,"paper"),As(b.common,"background"),As(b.common,"onBackground"),As(b,"divider"),Object.keys(b).forEach(O=>{const D=b[O];O!=="tonalOffset"&&D&&typeof D=="object"&&(D.main&&oe(b[O],"mainChannel",Sd(Ad(D.main))),D.light&&oe(b[O],"lightChannel",Sd(Ad(D.light))),D.dark&&oe(b[O],"darkChannel",Sd(Ad(D.dark))),D.contrastText&&oe(b[O],"contrastTextChannel",Sd(Ad(D.contrastText))),O==="text"&&(As(b[O],"primary"),As(b[O],"secondary")),O==="action"&&(D.active&&As(b[O],"active"),D.selected&&As(b[O],"selected")))})}),$=e.reduce((R,b)=>Cr(R,b),$);const F={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:v$($)},{vars:H,generateThemeVars:V,generateStyleSheets:C}=H7($,F);return $.vars=H,Object.entries($.colorSchemes[$.defaultColorScheme]).forEach(([R,b])=>{$[R]=b}),$.generateThemeVars=V,$.generateStyleSheets=C,$.generateSpacing=function(){return pN(f.spacing,Mw(this))},$.getColorSchemeSelector=$7(h),$.spacing=$.generateSpacing(),$.shouldSkipGeneratingVar=u,$.unstable_sxConfig={...Fy,...f==null?void 0:f.unstable_sxConfig},$.unstable_sx=function(b){return vc({sx:b,theme:this})},$.toRuntimeSource=bN,$}function SC(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Hw({...t===!0?{}:t.palette,mode:e})})}function S$(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",d=i==null?void 0:i[h],f={...i,...t?{[h]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return LE(n,...e);let g=t;"palette"in n||f[h]&&(f[h]!==!0?g=f[h].palette:h==="dark"&&(g={mode:"dark"}));const _=LE({...n,palette:g},...e);return _.defaultColorScheme=h,_.colorSchemes=f,_.palette.mode==="light"&&(_.colorSchemes.light={...f.light!==!0&&f.light,palette:_.palette},SC(_,"dark",f.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:_.palette},SC(_,"light",f.light)),_}return!t&&!("light"in f)&&h==="light"&&(f.light=!0),T$({...u,colorSchemes:f,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const A$=S$(),I$="$$material";function SN(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const R$=n=>SN(n)&&n!=="classes",$f=R7({themeId:I$,defaultTheme:A$,rootShouldForwardProp:R$}),$w=F7;function AN(n){return B7(n)}function C$(n){return kw("MuiSvgIcon",n)}eN("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const P$=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${so(e)}`,`fontSize${so(t)}`]};return Yk(i,C$,r)},x$=$f("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${so(t.color)}`],e[`fontSize${so(t.fontSize)}`]]}})($w(({theme:n})=>{var e,t,r,i,o,u,h,d,f,g,_,v,T,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:I=>!I.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:d.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:g.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,I])=>I&&I.main).map(([I])=>{var P,U;return{props:{color:I},style:{color:(U=(P=(n.vars??n).palette)==null?void 0:P[I])==null?void 0:U.main}}}),{props:{color:"action"},style:{color:(v=(_=(n.vars??n).palette)==null?void 0:_.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(w=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:w.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),UE=K.forwardRef(function(e,t){const r=AN({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:h="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:g=!1,titleAccess:_,viewBox:v="0 0 24 24",...T}=r,w=K.isValidElement(i)&&i.type==="svg",I={...r,color:u,component:h,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:w},P={};g||(P.viewBox=v);const U=P$(I);return z.jsxs(x$,{as:h,className:Ud(U.root,o),focusable:"false",color:f,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...P,...T,...w&&i.props,ownerState:I,children:[w?i.props.children:i,_?z.jsx("title",{children:_}):null]})});UE.muiName="SvgIcon";function IN(n,e){function t(r,i){return z.jsx(UE,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=UE.muiName,K.memo(K.forwardRef(t))}const O$=IN(z.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),D$=IN(z.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function k$(n){return kw("MuiRating",n)}const md=eN("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function N$(n){const e=n.toString().split(".")[1];return e?e.length:0}function D0(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(N$(e)))}const V$=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${so(t)}`,i&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return Yk(h,k$,e)},M$=$f("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${md.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${so(t.size)}`],t.readOnly&&e.readOnly]}})($w(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${md.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${md.focusVisible} .${md.iconActive}`]:{outline:"1px solid #999"},[`& .${md.visuallyHidden}`]:_H,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),RN=$f("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),L$=$f("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})($w(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),U$=$f("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>SN(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function B$(n){const{value:e,...t}=n;return z.jsx("span",{...t})}function AC(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:d,IconContainerComponent:f,isActive:g,itemValue:_,labelProps:v,name:T,onBlur:w,onChange:I,onClick:P,onFocus:U,readOnly:M,ownerState:L,ratingValue:$,ratingValueRounded:F}=n,H=u?_===$:_<=$,V=_<=h,C=_<=i,R=_===F,b=`${T}-${Zk()}`,x=z.jsx(L$,{as:f,value:_,className:Ud(e.icon,H?e.iconFilled:e.iconEmpty,V&&e.iconHover,C&&e.iconFocus,g&&e.iconActive),ownerState:{...L,iconEmpty:!H,iconFilled:H,iconHover:V,iconFocus:C,iconActive:g},children:r&&!H?r:d});return M?z.jsx("span",{...v,children:x}):z.jsxs(K.Fragment,{children:[z.jsxs(RN,{ownerState:{...L,emptyValueFocused:void 0},htmlFor:b,...v,children:[x,z.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),z.jsx("input",{className:e.visuallyHidden,onFocus:U,onBlur:w,onChange:I,onClick:P,disabled:t,value:_,id:b,type:"radio",name:T,checked:R})]})}const F$=z.jsx(O$,{fontSize:"inherit"}),j$=z.jsx(D$,{fontSize:"inherit"});function z$(n){return`${n||"0"} Star${n!==1?"s":""}`}const q$=K.forwardRef(function(e,t){const r=AN({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:d=j$,emptyLabelText:f="Empty",getLabelText:g=z$,highlightSelectedOnly:_=!1,icon:v=F$,IconContainerComponent:T=B$,max:w=5,name:I,onChange:P,onChangeActive:U,onMouseLeave:M,onMouseMove:L,precision:$=1,readOnly:F=!1,size:H="medium",value:V,...C}=r,R=Zk(I),[b,x]=IH({controlled:V,default:u,name:"Rating"}),O=D0(b,$),D=EH(),[{hover:te,focus:B},ee]=K.useState({hover:-1,focus:-1});let ie=O;te!==-1&&(ie=te),B!==-1&&(ie=B);const[ue,Te]=K.useState(!1),q=K.useRef(),ae=RH(q,t),be=Je=>{L&&L(Je);const at=q.current,{right:Jt,left:fr,width:Mn}=at.getBoundingClientRect();let Or;D?Or=(Jt-Je.clientX)/Mn:Or=(Je.clientX-fr)/Mn;let Ln=D0(w*Or+$/2,$);Ln=Qk(Ln,$,w),ee(rr=>rr.hover===Ln&&rr.focus===Ln?rr:{hover:Ln,focus:Ln}),Te(!1),U&&te!==Ln&&U(Je,Ln)},ve=Je=>{M&&M(Je);const at=-1;ee({hover:at,focus:at}),U&&te!==at&&U(Je,at)},ye=Je=>{let at=Je.target.value===""?null:parseFloat(Je.target.value);te!==-1&&(at=te),x(at),P&&P(Je,at)},Oe=Je=>{Je.clientX===0&&Je.clientY===0||(ee({hover:-1,focus:-1}),x(null),P&&parseFloat(Je.target.value)===O&&P(Je,null))},De=Je=>{Z1(Je.target)&&Te(!0);const at=parseFloat(Je.target.value);ee(Jt=>({hover:Jt.hover,focus:at}))},Ct=Je=>{if(te!==-1)return;Z1(Je.target)||Te(!1);const at=-1;ee(Jt=>({hover:Jt.hover,focus:at}))},[ze,_t]=K.useState(!1),$e={...r,component:i,defaultValue:u,disabled:h,emptyIcon:d,emptyLabelText:f,emptyValueFocused:ze,focusVisible:ue,getLabelText:g,icon:v,IconContainerComponent:T,max:w,precision:$,readOnly:F,size:H},Et=V$($e);return z.jsxs(M$,{as:i,ref:ae,onMouseMove:be,onMouseLeave:ve,className:Ud(Et.root,o,F&&"MuiRating-readOnly"),ownerState:$e,role:F?"img":null,"aria-label":F?g(ie):null,...C,children:[Array.from(new Array(w)).map((Je,at)=>{const Jt=at+1,fr={classes:Et,disabled:h,emptyIcon:d,focus:B,getLabelText:g,highlightSelectedOnly:_,hover:te,icon:v,IconContainerComponent:T,name:R,onBlur:Ct,onChange:ye,onClick:Oe,onFocus:De,ratingValue:ie,ratingValueRounded:O,readOnly:F,ownerState:$e},Mn=Jt===Math.ceil(ie)&&(te!==-1||B!==-1);if($<1){const Or=Array.from(new Array(1/$));return z.jsx(U$,{className:Ud(Et.decimal,Mn&&Et.iconActive),ownerState:$e,iconActive:Mn,children:Or.map((Ln,rr)=>{const ei=D0(Jt-1+(rr+1)*$,$);return z.jsx(AC,{...fr,isActive:!1,itemValue:ei,labelProps:{style:Or.length-1===rr?{}:{width:ei===ie?`${(rr+1)*$*100}%`:"0%",overflow:"hidden",position:"absolute"}}},ei)})},Jt)}return z.jsx(AC,{...fr,isActive:Mn,itemValue:Jt},Jt)}),!F&&!h&&z.jsxs(RN,{className:Ud(Et.label,Et.labelEmptyValue),ownerState:$e,children:[z.jsx("input",{className:Et.visuallyHidden,value:"",id:`${R}-empty`,type:"radio",name:R,checked:O==null,onFocus:()=>_t(!0),onBlur:()=>_t(!1),onChange:ye}),z.jsx("span",{className:Et.visuallyHidden,children:f})]})]})}),H$="_card_container_1ij2e_3",$$="_button_1ij2e_15",G$="_productRating_1ij2e_45",K$="_productPrice_1ij2e_51",W$="_productTitle_1ij2e_61",Q$="_product__flexed_1ij2e_67",ku={card_container:H$,button:$$,productRating:G$,productPrice:K$,productTitle:W$,product__flexed:Q$};var Jm={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var Y$=Jm.exports,IC;function X$(){return IC||(IC=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(Y$,function(){var e,t,r="2.0.6",i={},o={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function d(f,g){this._input=f,this._value=g}return e=function(f){var g,_,v,T;if(e.isNumeral(f))g=f.value();else if(f===0||typeof f>"u")g=0;else if(f===null||t.isNaN(f))g=null;else if(typeof f=="string")if(h.zeroFormat&&f===h.zeroFormat)g=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)g=null;else{for(_ in i)if(T=typeof i[_].regexps.unformat=="function"?i[_].regexps.unformat():i[_].regexps.unformat,T&&f.match(T)){v=i[_].unformat;break}v=v||e._.stringToNumber,g=v(f)}else g=Number(f)||null;return new d(f,g)},e.version=r,e.isNumeral=function(f){return f instanceof d},e._=t={numberToFormat:function(f,g,_){var v=o[e.options.currentLocale],T=!1,w=!1,I=0,P="",U=1e12,M=1e9,L=1e6,$=1e3,F="",H=!1,V,C,R,b,x,O,D;if(f=f||0,C=Math.abs(f),e._.includes(g,"(")?(T=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(x=e._.includes(g,"+")?g.indexOf("+"):f<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(V=g.match(/a(k|m|b|t)?/),V=V?V[1]:!1,e._.includes(g," a")&&(P=" "),g=g.replace(new RegExp(P+"a[kmbt]?"),""),C>=U&&!V||V==="t"?(P+=v.abbreviations.trillion,f=f/U):C<U&&C>=M&&!V||V==="b"?(P+=v.abbreviations.billion,f=f/M):C<M&&C>=L&&!V||V==="m"?(P+=v.abbreviations.million,f=f/L):(C<L&&C>=$&&!V||V==="k")&&(P+=v.abbreviations.thousand,f=f/$)),e._.includes(g,"[.]")&&(w=!0,g=g.replace("[.]",".")),R=f.toString().split(".")[0],b=g.split(".")[1],O=g.indexOf(","),I=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,b?(e._.includes(b,"[")?(b=b.replace("]",""),b=b.split("["),F=e._.toFixed(f,b[0].length+b[1].length,_,b[1].length)):F=e._.toFixed(f,b.length,_),R=F.split(".")[0],e._.includes(F,".")?F=v.delimiters.decimal+F.split(".")[1]:F="",w&&Number(F.slice(1))===0&&(F="")):R=e._.toFixed(f,0,_),P&&!V&&Number(R)>=1e3&&P!==v.abbreviations.trillion)switch(R=String(Number(R)/1e3),P){case v.abbreviations.thousand:P=v.abbreviations.million;break;case v.abbreviations.million:P=v.abbreviations.billion;break;case v.abbreviations.billion:P=v.abbreviations.trillion;break}if(e._.includes(R,"-")&&(R=R.slice(1),H=!0),R.length<I)for(var te=I-R.length;te>0;te--)R="0"+R;return O>-1&&(R=R.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(R=""),D=R+F+(P||""),T?D=(T&&H?"(":"")+D+(T&&H?")":""):x>=0?D=x===0?(H?"-":"+")+D:D+(H?"-":"+"):H&&(D="-"+D),D},stringToNumber:function(f){var g=o[h.currentLocale],_=f,v={thousand:3,million:6,billion:9,trillion:12},T,w,I;if(h.zeroFormat&&f===h.zeroFormat)w=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)w=null;else{w=1,g.delimiters.decimal!=="."&&(f=f.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(T in v)if(I=new RegExp("[^a-zA-Z]"+g.abbreviations[T]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),_.match(I)){w*=Math.pow(10,v[T]);break}w*=(f.split("-").length+Math.min(f.split("(").length-1,f.split(")").length-1))%2?1:-1,f=f.replace(/[^0-9\.]+/g,""),w*=Number(f)}return w},isNaN:function(f){return typeof f=="number"&&isNaN(f)},includes:function(f,g){return f.indexOf(g)!==-1},insert:function(f,g,_){return f.slice(0,_)+g+f.slice(_)},reduce:function(f,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var _=Object(f),v=_.length>>>0,T=0,w;if(arguments.length===3)w=arguments[2];else{for(;T<v&&!(T in _);)T++;if(T>=v)throw new TypeError("Reduce of empty array with no initial value");w=_[T++]}for(;T<v;T++)T in _&&(w=g(w,_[T],T,_));return w},multiplier:function(f){var g=f.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var f=Array.prototype.slice.call(arguments);return f.reduce(function(g,_){var v=t.multiplier(_);return g>v?g:v},1)},toFixed:function(f,g,_,v){var T=f.toString().split("."),w=g-(v||0),I,P,U,M;return T.length===2?I=Math.min(Math.max(T[1].length,w),g):I=w,U=Math.pow(10,I),M=(_(f+"e+"+I)/U).toFixed(I),v>g-I&&(P=new RegExp("\\.?0{1,"+(v-(g-I))+"}$"),M=M.replace(P,"")),M}},e.options=h,e.formats=i,e.locales=o,e.locale=function(f){return f&&(h.currentLocale=f.toLowerCase()),h.currentLocale},e.localeData=function(f){if(!f)return o[h.currentLocale];if(f=f.toLowerCase(),!o[f])throw new Error("Unknown locale : "+f);return o[f]},e.reset=function(){for(var f in u)h[f]=u[f]},e.zeroFormat=function(f){h.zeroFormat=typeof f=="string"?f:null},e.nullFormat=function(f){h.nullFormat=typeof f=="string"?f:null},e.defaultFormat=function(f){h.defaultFormat=typeof f=="string"?f:"0.0"},e.register=function(f,g,_){if(g=g.toLowerCase(),this[f+"s"][g])throw new TypeError(g+" "+f+" already registered.");return this[f+"s"][g]=_,_},e.validate=function(f,g){var _,v,T,w,I,P,U,M;if(typeof f!="string"&&(f+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",f)),f=f.trim(),f.match(/^\d+$/))return!0;if(f==="")return!1;try{U=e.localeData(g)}catch{U=e.localeData(e.locale())}return T=U.currency.symbol,I=U.abbreviations,_=U.delimiters.decimal,U.delimiters.thousands==="."?v="\\.":v=U.delimiters.thousands,M=f.match(/^[^\d]+/),M!==null&&(f=f.substr(1),M[0]!==T)||(M=f.match(/[^\d]+$/),M!==null&&(f=f.slice(0,-1),M[0]!==I.thousand&&M[0]!==I.million&&M[0]!==I.billion&&M[0]!==I.trillion))?!1:(P=new RegExp(v+"{2}"),f.match(/[^\d.,]/g)?!1:(w=f.split(_),w.length>2?!1:w.length<2?!!w[0].match(/^\d+.*\d$/)&&!w[0].match(P):w[0].length===1?!!w[0].match(/^\d+$/)&&!w[0].match(P)&&!!w[1].match(/^\d+$/):!!w[0].match(/^\d+.*\d$/)&&!w[0].match(P)&&!!w[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(f,g){var _=this._value,v=f||h.defaultFormat,T,w,I;if(g=g||Math.round,_===0&&h.zeroFormat!==null)w=h.zeroFormat;else if(_===null&&h.nullFormat!==null)w=h.nullFormat;else{for(T in i)if(v.match(i[T].regexps.format)){I=i[T].format;break}I=I||e._.numberToFormat,w=I(_,v,g)}return w},value:function(){return this._value},input:function(){return this._input},set:function(f){return this._value=Number(f),this},add:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,I){return v+Math.round(g*T)}return this._value=t.reduce([this._value,f],_,0)/g,this},subtract:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,I){return v-Math.round(g*T)}return this._value=t.reduce([f],_,Math.round(this._value*g))/g,this},multiply:function(f){function g(_,v,T,w){var I=t.correctionFactor(_,v);return Math.round(_*I)*Math.round(v*I)/Math.round(I*I)}return this._value=t.reduce([this._value,f],g,1),this},divide:function(f){function g(_,v,T,w){var I=t.correctionFactor(_,v);return Math.round(_*I)/Math.round(v*I)}return this._value=t.reduce([this._value,f],g),this},difference:function(f){return Math.abs(e(this._value).subtract(f).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(f){var g=f%10;return~~(f%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(f,g,_){var v=e._.includes(g," BPS")?" ":"",T;return f=f*1e4,g=g.replace(/\s?BPS/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"BPS"),T=T.join("")):T=T+v+"BPS",T},unformat:function(f){return+(e._.stringToNumber(f)*1e-4).toFixed(15)}})}(),function(){var f={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},_=f.suffixes.concat(g.suffixes.filter(function(T){return f.suffixes.indexOf(T)<0})),v=_.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(T,w,I){var P,U=e._.includes(w,"ib")?g:f,M=e._.includes(w," b")||e._.includes(w," ib")?" ":"",L,$,F;for(w=w.replace(/\s?i?b/,""),L=0;L<=U.suffixes.length;L++)if($=Math.pow(U.base,L),F=Math.pow(U.base,L+1),T===null||T===0||T>=$&&T<F){M+=U.suffixes[L],$>0&&(T=T/$);break}return P=e._.numberToFormat(T,w,I),P+M},unformat:function(T){var w=e._.stringToNumber(T),I,P;if(w){for(I=f.suffixes.length-1;I>=0;I--){if(e._.includes(T,f.suffixes[I])){P=Math.pow(f.base,I);break}if(e._.includes(T,g.suffixes[I])){P=Math.pow(g.base,I);break}}w*=P||1}return w}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},w,I,P;for(g=g.replace(/\s?\$\s?/,""),w=e._.numberToFormat(f,g,_),f>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):f<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),P=0;P<T.before.length;P++)switch(I=T.before[P],I){case"$":w=e._.insert(w,v.currency.symbol,P);break;case" ":w=e._.insert(w," ",P+v.currency.symbol.length-1);break}for(P=T.after.length-1;P>=0;P--)switch(I=T.after[P],I){case"$":w=P===T.after.length-1?w+v.currency.symbol:e._.insert(w,v.currency.symbol,-(T.after.length-(1+P)));break;case" ":w=P===T.after.length-1?w+" ":e._.insert(w," ",-(T.after.length-(1+P)+v.currency.symbol.length-1));break}return w}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(f,g,_){var v,T=typeof f=="number"&&!e._.isNaN(f)?f.toExponential():"0e+0",w=T.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(w[0]),g,_),v+"e"+w[1]},unformat:function(f){var g=e._.includes(f,"e+")?f.split("e+"):f.split("e-"),_=Number(g[0]),v=Number(g[1]);v=e._.includes(f,"e-")?v*=-1:v;function T(w,I,P,U){var M=e._.correctionFactor(w,I),L=w*M*(I*M)/(M*M);return L}return e._.reduce([_,Math.pow(10,v)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T,w=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),w+=v.ordinal(f),T=e._.numberToFormat(f,g,_),T+w}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(f,g,_){var v=e._.includes(g," %")?" ":"",T;return e.options.scalePercentBy100&&(f=f*100),g=g.replace(/\s?\%/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"%"),T=T.join("")):T=T+v+"%",T},unformat:function(f){var g=e._.stringToNumber(f);return e.options.scalePercentBy100?g*.01:g}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(f,g,_){var v=Math.floor(f/60/60),T=Math.floor((f-v*60*60)/60),w=Math.round(f-v*60*60-T*60);return v+":"+(T<10?"0"+T:T)+":"+(w<10?"0"+w:w)},unformat:function(f){var g=f.split(":"),_=0;return g.length===3?(_=_+Number(g[0])*60*60,_=_+Number(g[1])*60,_=_+Number(g[2])):g.length===2&&(_=_+Number(g[0])*60,_=_+Number(g[1])),Number(_)}})}(),e})}(Jm)),Jm.exports}var J$=X$();const Z$=jE(J$);function Gw({value:n}){const e=Z$(n).format("$0,0.00");return z.jsx("span",{children:e})}const jc=({products:n,flex:e,renderDesc:t,RenderAdd:r})=>{const{image:i,title:o,rating:u,price:h,description:d,id:f}=n||{},g={image:i,title:o,rating:u,price:h,description:d,id:f},[_,v]=K.useContext(zs),T=()=>{v({type:Wu.ADD_TO_BASKET,item:g})};return z.jsxs("div",{className:`${ku.card_container} ${e?ku.product__flexed:""}`,children:[" ",z.jsx(ui,{to:`/products/${f}`,children:z.jsx("img",{src:i,alt:o})}),z.jsxs("div",{children:[z.jsx("div",{className:ku.productTitle,children:z.jsx("h2",{children:o})}),t&&z.jsx("div",{style:{maxWidth:"800px",fontSize:"20px"},children:d}),z.jsx("div",{className:ku.productRating,children:u&&z.jsxs(z.Fragment,{children:[z.jsx(q$,{name:"read-only",value:u==null?void 0:u.rate,precision:.5,readOnly:!0}),z.jsxs("small",{children:[u==null?void 0:u.count," ratings"]})]})}),z.jsx("div",{className:ku.productPrice,children:z.jsx(Gw,{value:h})}),r&&z.jsx("button",{className:ku.button,onClick:T,children:"Add to Cart"})]})]})},eG="_products_container_3txs8_3",tG={products_container:eG};var nG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Kw(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return nG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function zi(n){var e=Kw(n);return"".concat(e.value).concat(e.unit)}var mf=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},Vg=function(){return Vg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Vg.apply(this,arguments)},rG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},iG=mf("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function sG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.size,g=f===void 0?35:f,_=rG(n,["loading","color","speedMultiplier","cssOverride","size"]),v=Vg({background:"transparent !important",width:zi(g),height:zi(g),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(iG," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},d);return t?K.createElement("span",Vg({style:v},_)):null}var nn=function(){return nn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},nn.apply(this,arguments)},aG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},oG=mf("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function lG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.height,g=f===void 0?15:f,_=n.width,v=_===void 0?5:_,T=n.radius,w=T===void 0?2:T,I=n.margin,P=I===void 0?2:I,U=aG(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),M=Kw(P).value,L=M+18,$=L/2+L/5.5,F=nn({display:"inherit",position:"relative",fontSize:"0",top:L,left:L,width:"".concat(L*3,"px"),height:"".concat(L*3,"px")},d),H=function(B){return{position:"absolute",width:zi(v),height:zi(g),margin:zi(P),backgroundColor:i,borderRadius:zi(w),transition:"2s",animationFillMode:"both",animation:"".concat(oG," ").concat(1.2/u,"s ").concat(B*.12,"s infinite ease-in-out")}},V=nn(nn({},H(1)),{top:"".concat(L,"px"),left:"0"}),C=nn(nn({},H(2)),{top:"".concat($,"px"),left:"".concat($,"px"),transform:"rotate(-45deg)"}),R=nn(nn({},H(3)),{top:"0",left:"".concat(L,"px"),transform:"rotate(90deg)"}),b=nn(nn({},H(4)),{top:"".concat(-1*$,"px"),left:"".concat($,"px"),transform:"rotate(45deg)"}),x=nn(nn({},H(5)),{top:"".concat(-1*L,"px"),left:"0"}),O=nn(nn({},H(6)),{top:"".concat(-1*$,"px"),left:"".concat(-1*$,"px"),transform:"rotate(-45deg)"}),D=nn(nn({},H(7)),{top:"0",left:"".concat(-1*L,"px"),transform:"rotate(90deg)"}),te=nn(nn({},H(8)),{top:"".concat($,"px"),left:"".concat(-1*$,"px"),transform:"rotate(45deg)"});return t?K.createElement("span",nn({style:F},U),K.createElement("span",{style:V}),K.createElement("span",{style:C}),K.createElement("span",{style:R}),K.createElement("span",{style:b}),K.createElement("span",{style:x}),K.createElement("span",{style:O}),K.createElement("span",{style:D}),K.createElement("span",{style:te})):null}var Mg=function(){return Mg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Mg.apply(this,arguments)},uG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},cG=[mf("PacmanLoader","0% {transform: rotate(0deg)} 50% {transform: rotate(-44deg)}","pacman-1"),mf("PacmanLoader","0% {transform: rotate(0deg)} 50% {transform: rotate(44deg)}","pacman-2")];function RC(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.size,g=f===void 0?25:f,_=n.margin,v=_===void 0?2:_,T=uG(n,["loading","color","speedMultiplier","cssOverride","size","margin"]),w=Kw(g),I=w.value,P=w.unit,U=Mg({display:"inherit",position:"relative",fontSize:0,height:"".concat(I*2).concat(P),width:"".concat(I*2).concat(P)},d),M=mf("PacmanLoader",`75% {opacity: 0.7}
    100% {transform: translate(`.concat("".concat(-4*I).concat(P),", ").concat("".concat(-I/4).concat(P),")}"),"ball"),L=function(R){return{width:"".concat(I/3).concat(P),height:"".concat(I/3).concat(P),backgroundColor:i,margin:zi(v),borderRadius:"100%",transform:"translate(0, ".concat("".concat(-I/4).concat(P),")"),position:"absolute",top:"".concat(I).concat(P),left:"".concat(I*4).concat(P),animation:"".concat(M," ").concat(1/u,"s ").concat(R*.25,"s infinite linear"),animationFillMode:"both"}},$="".concat(zi(g)," solid transparent"),F="".concat(zi(g)," solid ").concat(i),H=function(R){return{width:0,height:0,borderRight:$,borderTop:R===0?$:F,borderLeft:F,borderBottom:R===0?F:$,borderRadius:zi(g),position:"absolute",animation:"".concat(cG[R]," ").concat(.8/u,"s infinite ease-in-out"),animationFillMode:"both"}},V=H(0),C=H(1);return t?K.createElement("span",Mg({style:U},T),K.createElement("span",{style:V}),K.createElement("span",{style:C}),K.createElement("span",{style:L(2)}),K.createElement("span",{style:L(3)}),K.createElement("span",{style:L(4)}),K.createElement("span",{style:L(5)})):null}function Ww(){return z.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:z.jsx(lG,{color:"#36d7b7"})})}const hG=()=>{const[n,e]=K.useState([]),[t,r]=K.useState(!1);return K.useEffect(()=>{(async()=>{r(!0);try{const o=await Rt.get("https://fakestoreapi.com/products");e(o.data),r(!1)}catch(o){console.error(o),r(!1)}})()},[]),z.jsxs(z.Fragment,{children:[" ",t?z.jsx(Ww,{}):z.jsx("section",{className:tG.products_container,children:n==null?void 0:n.map((i,o)=>z.jsx(jc,{products:i,renderDesc:!1,RenderAdd:!0},o))})]})};function dG(){return z.jsxs(Lc,{children:[z.jsx(M9,{}),z.jsx(F9,{}),z.jsx(hG,{})]})}const fG="_login_1xw0f_1",pG="_amazonLogo_1xw0f_11",mG="_loginContainer_1xw0f_18",gG="_formGroup_1xw0f_34",yG="_inputField_1xw0f_46",_G="_signInButton_1xw0f_54",vG="_bottomSection_1xw0f_73",EG="_termsText_1xw0f_81",bG="_newAccount_1xw0f_88",wG="_registerButton_1xw0f_93",Wr={login:fG,amazonLogo:pG,loginContainer:mG,formGroup:gG,inputField:yG,signInButton:_G,bottomSection:vG,termsText:EG,newAccount:bG,registerButton:wG};function TG(){var T,w;const[n,e]=K.useState(""),[t,r]=K.useState(""),[i,o]=K.useState(""),[{user:u},h]=K.useContext(zs),d=Ay(),f=yo(),[g,_]=K.useState({signIn:!1,signUp:!1}),v=async I=>{var P,U;I.preventDefault(),console.log(I.target.name);try{if(I.target.name==="signin"){_({...g,signIn:!0});const M=await BP(Rg,n,t);h({type:V0.SET_USER,user:M.user}),d(((P=f==null?void 0:f.state)==null?void 0:P.redirect)||"/"),_({...g,signIn:!1})}else{_({...g,signUp:!0});const M=await UP(Rg,n,t);h({type:V0.SET_USER,user:M.user}),d(((U=f==null?void 0:f.state)==null?void 0:U.redirect)||"/"),_({...g,signUp:!1})}}catch(M){o(M.message),_(I.target.name==="signin"?{...g,signIn:!1}:{...g,signUp:!1})}};return z.jsxs("section",{className:Wr.login,children:[z.jsx(ui,{to:"/",children:z.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG12.png",alt:"amazon logo",className:Wr.amazonLogo})}),z.jsxs("div",{className:Wr.loginContainer,children:[z.jsx("h1",{children:"Sign In"}),((T=f==null?void 0:f.state)==null?void 0:T.msg)&&z.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontSize:"bold"},children:(w=f==null?void 0:f.state)==null?void 0:w.msg}),z.jsxs("form",{children:[z.jsxs("div",{className:Wr.formGroup,children:[z.jsx("label",{htmlFor:"email",children:"Email"}),z.jsx("input",{value:n,onChange:I=>e(I.target.value),type:"email",id:"email",className:Wr.inputField})]}),z.jsxs("div",{className:Wr.formGroup,children:[z.jsx("label",{htmlFor:"password",children:"Password"}),z.jsx("input",{value:t,onChange:I=>r(I.target.value),type:"password",id:"password",className:Wr.inputField})]}),z.jsx("button",{type:"submit",className:Wr.signInButton,onClick:v,name:"signin",children:g.signin?z.jsx(z.Fragment,{children:z.jsx(RC,{color:"green",size:15})}):"Sign In"})]}),z.jsxs("div",{className:Wr.bottomSection,children:[z.jsx("p",{className:Wr.termsText,children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),z.jsxs("div",{className:Wr.newAccount,children:[z.jsx("button",{type:"submit",onClick:v,className:Wr.registerButton,name:"signup",children:g.signup?z.jsx(RC,{color:"green"}):"Creat your amazon Account"}),i&&z.jsx("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})]})]})}function SG(n){return Mc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function AG(n){return Mc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}const IG="_container_1tgvb_1",RG="_subtotal_1tgvb_12",CG="_cart__container_1tgvb_16",PG="_cart__product_1tgvb_22",xG="_btn_container_1tgvb_27",OG="_btn_1tgvb_27",Yo={container:IG,subtotal:RG,cart__container:CG,cart__product:PG,btn_container:xG,btn:OG};function DG(){const[{basket:n},e]=K.useContext(zs);n.reduce((o,u)=>u.amount*u.amount+o,0);const t=n.reduce((o,u)=>u.price*u.amount+o,0),r=o=>{e({type:Wu.ADD_TO_BASKET,item:o})},i=o=>{e({type:Wu.REMOVE_FROM_BASKET,id:o})};return z.jsx(Lc,{children:z.jsxs("div",{className:Yo.container,children:[z.jsxs("div",{className:Yo.cart__container,children:[z.jsx("h1",{children:"Your Shopping Basket"}),z.jsx("hr",{}),(n==null?void 0:n.length)===0?z.jsx("h3",{children:"No items in your Cart!"}):n==null?void 0:n.map((o,u)=>z.jsxs("section",{className:Yo.cart__product,children:[z.jsx(jc,{products:o,RenderAdd:!1,renderDesc:!0,flex:!0},u),z.jsxs("div",{className:Yo.btn_container,children:[z.jsx("button",{className:Yo.btn,onClick:()=>r(o),children:z.jsx(AG,{size:30})}),z.jsx("span",{children:o.amount}),z.jsx("button",{className:Yo.btn,onClick:()=>i(o.id),children:z.jsx(SG,{size:30})})]})]},o.id))]}),(n==null?void 0:n.length)!==0&&z.jsxs("div",{className:Yo.subtotal,children:[z.jsxs("div",{children:[z.jsxs("p",{children:["Subtotal (",n==null?void 0:n.length," items) "]}),z.jsx(Gw,{value:t})]}),z.jsxs("span",{children:[z.jsx("input",{type:"checkbox"}),z.jsx("small",{children:" This order contain a gift"})]}),z.jsx(ui,{to:"/payment",children:" continue Checkout "})]})]})})}const kG="_container_1kz6l_1",NG="_orders__container_1kz6l_5",CC={container:kG,orders__container:NG},VG=()=>{const[{user:n},e]=K.useContext(zs),[t,r]=K.useState([]);return K.useEffect(()=>{n?XD.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{var o;console.log(i),r((o=i==null?void 0:i.docs)==null?void 0:o.map(u=>({id:u.id,data:u.data()})))}):r([])},[]),z.jsx(Lc,{children:z.jsx("section",{className:CC.container,children:z.jsxs("div",{className:CC.orders__container,children:[z.jsx("h2",{children:"Your Orders"}),(t==null?void 0:t.length)==0&&z.jsx("div",{style:{padding:"20px"},children:"You don't have orders yet."}),z.jsx("div",{children:t==null?void 0:t.map((i,o)=>{var u,h;return z.jsxs("div",{children:[z.jsx("hr",{}),z.jsxs("p",{children:["Order ID: ",i==null?void 0:i.id]}),(h=(u=i==null?void 0:i.data)==null?void 0:u.basket)==null?void 0:h.map(d=>z.jsx(jc,{flex:!0,products:d},d.id))]},o)})})]})})})},MG="_payment__header_1qkjv_114",LG="_payment_1qkjv_54",UG="_flex_1qkjv_64",BG="_payment__card__container_1qkjv_146",FG="_payment__price_1qkjv_153",jG="_payment__details_1qkjv_150",zG="_loading_1qkjv_174",Is={payment__header:MG,payment:LG,flex:UG,payment__card__container:BG,payment__price:FG,payment__details:jG,loading:zG};function PC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(t),!0).forEach(function(r){CN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Zm(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zm=function(e){return typeof e}:Zm=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(n)}function CN(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PN(n,e){return qG(n)||HG(n,e)||$G(n,e)||GG()}function qG(n){if(Array.isArray(n))return n}function HG(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,u,h;try{for(t=t.call(n);!(i=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,h=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function $G(n,e){if(n){if(typeof n=="string")return OC(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return OC(n,e)}}function OC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function GG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wr=function(e,t,r){var i=!!r,o=Ke.useRef(r);Ke.useEffect(function(){o.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[i,t,e,o])},BE=function(e){var t=Ke.useRef(e);return Ke.useEffect(function(){t.current=e},[e]),t.current},bc=function(e){return e!==null&&Zm(e)==="object"},KG=function(e){return bc(e)&&typeof e.then=="function"},WG=function(e){return bc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},DC="[object Object]",QG=function n(e,t){if(!bc(e)||!bc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===DC,u=Object.prototype.toString.call(t)===DC;if(o!==u)return!1;if(!o&&!r)return e===t;var h=Object.keys(e),d=Object.keys(t);if(h.length!==d.length)return!1;for(var f={},g=0;g<h.length;g+=1)f[h[g]]=!0;for(var _=0;_<d.length;_+=1)f[d[_]]=!0;var v=Object.keys(f);if(v.length!==h.length)return!1;var T=e,w=t,I=function(U){return n(T[U],w[U])};return v.every(I)},xN=function(e,t,r){return bc(e)?Object.keys(e).reduce(function(i,o){var u=!bc(t)||!QG(e[o],t[o]);return r.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?xC(xC({},i||{}),{},CN({},o,e[o])):i},null):null},ON="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",kC=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ON;if(e===null||WG(e))return e;throw new Error(t)},YG=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ON;if(KG(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return kC(i,t)})};var r=kC(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},XG=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.3.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.3.0",url:"https://stripe.com/docs/stripe-js/react"}))},$y=Ke.createContext(null);$y.displayName="ElementsContext";var DN=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},kN=function(e){var t=e.stripe,r=e.options,i=e.children,o=Ke.useMemo(function(){return YG(t)},[t]),u=Ke.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=PN(u,2),d=h[0],f=h[1];Ke.useEffect(function(){var v=!0,T=function(I){f(function(P){return P.stripe?P:{stripe:I,elements:I.elements(r)}})};return o.tag==="async"&&!d.stripe?o.stripePromise.then(function(w){w&&v&&T(w)}):o.tag==="sync"&&!d.stripe&&T(o.stripe),function(){v=!1}},[o,d,r]);var g=BE(t);Ke.useEffect(function(){g!==null&&g!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,t]);var _=BE(r);return Ke.useEffect(function(){if(d.elements){var v=xN(r,_,["clientSecret","fonts"]);v&&d.elements.update(v)}},[r,_,d.elements]),Ke.useEffect(function(){XG(d.stripe)},[d.stripe]),Ke.createElement($y.Provider,{value:d},i)};kN.propTypes={stripe:Dt.any,options:Dt.object};var JG=function(e){var t=Ke.useContext($y);return DN(t,e)},ZG=function(){var e=JG("calls useElements()"),t=e.elements;return t};Dt.func.isRequired;var NN=Ke.createContext(null);NN.displayName="CheckoutSdkContext";var eK=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},tK=Ke.createContext(null);tK.displayName="CheckoutContext";Dt.any,Dt.shape({clientSecret:Dt.string.isRequired,elementsOptions:Dt.object}).isRequired;var FE=function(e){var t=Ke.useContext(NN),r=Ke.useContext($y);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?eK(t,e):DN(r,e)},nK=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},on=function(e,t){var r="".concat(nK(e),"Element"),i=function(d){var f=d.id,g=d.className,_=d.options,v=_===void 0?{}:_,T=d.onBlur,w=d.onFocus,I=d.onReady,P=d.onChange,U=d.onEscape,M=d.onClick,L=d.onLoadError,$=d.onLoaderStart,F=d.onNetworksChange,H=d.onConfirm,V=d.onCancel,C=d.onShippingAddressChange,R=d.onShippingRateChange,b=FE("mounts <".concat(r,">")),x="elements"in b?b.elements:null,O="checkoutSdk"in b?b.checkoutSdk:null,D=Ke.useState(null),te=PN(D,2),B=te[0],ee=te[1],ie=Ke.useRef(null),ue=Ke.useRef(null);wr(B,"blur",T),wr(B,"focus",w),wr(B,"escape",U),wr(B,"click",M),wr(B,"loaderror",L),wr(B,"loaderstart",$),wr(B,"networkschange",F),wr(B,"confirm",H),wr(B,"cancel",V),wr(B,"shippingaddresschange",C),wr(B,"shippingratechange",R),wr(B,"change",P);var Te;I&&(e==="expressCheckout"?Te=I:Te=function(){I(B)}),wr(B,"ready",Te),Ke.useLayoutEffect(function(){if(ie.current===null&&ue.current!==null&&(x||O)){var ae=null;O?ae=O.createElement(e,v):x&&(ae=x.create(e,v)),ie.current=ae,ee(ae),ae&&ae.mount(ue.current)}},[x,O,v]);var q=BE(v);return Ke.useEffect(function(){if(ie.current){var ae=xN(v,q,["paymentRequest"]);ae&&"update"in ie.current&&ie.current.update(ae)}},[v,q]),Ke.useLayoutEffect(function(){return function(){if(ie.current&&typeof ie.current.destroy=="function")try{ie.current.destroy(),ie.current=null}catch{}}},[]),Ke.createElement("div",{id:f,className:g,ref:ue})},o=function(d){FE("mounts <".concat(r,">"));var f=d.id,g=d.className;return Ke.createElement("div",{id:f,className:g})},u=t?o:i;return u.propTypes={id:Dt.string,className:Dt.string,onChange:Dt.func,onBlur:Dt.func,onFocus:Dt.func,onReady:Dt.func,onEscape:Dt.func,onClick:Dt.func,onLoadError:Dt.func,onLoaderStart:Dt.func,onNetworksChange:Dt.func,onConfirm:Dt.func,onCancel:Dt.func,onShippingAddressChange:Dt.func,onShippingRateChange:Dt.func,options:Dt.object},u.displayName=r,u.__elementType=e,u},ln=typeof window>"u",rK=Ke.createContext(null);rK.displayName="EmbeddedCheckoutProviderContext";var iK=function(){var e=FE("calls useStripe()"),t=e.stripe;return t};on("auBankAccount",ln);var NC=on("card",ln);on("cardNumber",ln);on("cardExpiry",ln);on("cardCvc",ln);on("fpxBank",ln);on("iban",ln);on("idealBank",ln);on("p24Bank",ln);on("epsBank",ln);on("payment",ln);on("expressCheckout",ln);on("currencySelector",ln);on("paymentRequestButton",ln);on("linkAuthentication",ln);on("address",ln);on("shippingAddress",ln);on("paymentMethodMessaging",ln);on("affirmMessage",ln);on("afterpayClearpayMessage",ln);const sK=Rt.create({baseURL:"http://127.0.0.1:5001/project-e-clone-8aa77/us-central1/api",baseURL:"https://amazone-backend1-api.onrender.com"}),aK=()=>{const[{user:n,basket:e},t]=K.useContext(zs),r=e==null?void 0:e.reduce((w,I)=>I.amount+w,0),i=e.reduce((w,I)=>I.price*I.amount+w,0),[o,u]=K.useState(null),[h,d]=K.useState(!1),f=iK(),g=ZG(),_=Ay(),v=w=>{var I,P;(I=w==null?void 0:w.error)!=null&&I.message?u((P=w==null?void 0:w.error)==null?void 0:P.message):u("")},T=async w=>{var I;w.preventDefault();try{d(!0);const U=(I=(await sK({method:"POST",url:`/payment/create?total=${i*100}`})).data)==null?void 0:I.clientSecret,{paymentIntent:M}=await f.confirmCardPayment(U,{payment_method:{card:g.getElement(NC)}});await XD.collection("users").doc(n.uid).collection("orders").doc(M.id).set({basket:e,amount:M.amount,created:M.created}),t({type:Wu.EMPTY_BASKET}),d(!1),_("/orders",{state:{msg:"you have placed new Orders"}})}catch(P){console.log(P),d(!1)}};return z.jsxs(Lc,{children:[z.jsxs("div",{className:Is.payment__header,children:["Checkout (",r,") items"]}),z.jsxs("section",{className:Is.payment,children:[z.jsxs("div",{className:Is.flex,children:[z.jsx("h3",{children:"Delivery Address"}),z.jsxs("div",{children:[z.jsx("div",{children:n==null?void 0:n.email}),z.jsx("div",{children:"2 rue Du Stade"}),z.jsx("div",{children:"Belvaux, Lu"})]})]}),z.jsx("hr",{}),z.jsxs("div",{className:Is.flex,children:[z.jsx("h3",{children:"Review items and delivery"}),z.jsx("div",{children:e==null?void 0:e.map((w,I)=>z.jsx(jc,{products:w,flex:!0},I))})]}),z.jsx("hr",{}),z.jsxs("div",{className:Is.flex,children:[z.jsx("h3",{children:"Payment methods"}),z.jsx("div",{className:Is.payment__card__container,children:z.jsx("div",{className:Is.payment__details,children:z.jsxs("form",{onSubmit:T,children:[o&&z.jsx("small",{style:{color:"red"},children:o}),z.jsx(NC,{onChange:v}),z.jsxs("div",{className:Is.payment__price,children:[z.jsx("div",{children:z.jsxs("span",{style:{display:"flex",gap:"10px"},children:[z.jsx("p",{children:"Total Order | "}),z.jsx(Gw,{value:i})]})}),z.jsx("button",{type:"submit",children:h?z.jsxs("div",{className:Is.loading,children:[z.jsx(sG,{color:"gray",size:12}),z.jsx("p",{children:"Please wait ..."})]}):"Pay Now"})]})]})})})]})]})]})},VN="https://fakestoreapi.com",oK="_results__container_dna00_1",lK="_products__container_dna00_6",VC={results__container:oK,products__container:lK};function uK(){const[n,e]=K.useState(!1),{categoryName:t}=ok(),[r,i]=K.useState([]);return K.useEffect(()=>{(async()=>{e(!0);try{const u=await Rt.get(`${VN}/products/category/${t}`);i(u.data),e(!1)}catch(u){console.error("Error fetching products:",u),e(!1)}})()},[t]),z.jsx(Lc,{children:z.jsxs("div",{className:VC.results__container,children:[z.jsx("h1",{children:"Results"}),z.jsxs("p",{style:{padding:"2rem"},children:["Category / ",t]}),z.jsx("hr",{}),n?z.jsx(Ww,{}):z.jsx("div",{className:VC.products__container,children:r.map(o=>z.jsx(jc,{products:o,RenderAdd:!0,renderDesc:!1},o.id))})]})})}function cK(){const{productId:n}=ok(),[e,t]=K.useState(!1),[r,i]=K.useState({});return K.useEffect(()=>{(async()=>{t(!0);try{const u=await Rt.get(`${VN}/products/${n}`);i(u.data),t(!1)}catch(u){console.error("Error fetching product:",u),t(!1)}finally{t(!1)}})()},[n]),z.jsx(Lc,{children:e?z.jsx(Ww,{}):z.jsx(jc,{products:r,flex:!0,renderDesc:!0,renderAdd:!0})})}function MC({children:n,msg:e,redirect:t}){const r=Ay(),[{user:i},o]=K.useContext(zs);return K.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i,r,e,t]),n}var MN="https://js.stripe.com",hK="".concat(MN,"/v3"),dK=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,fK=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var pK=function(e){return dK.test(e)||fK.test(e)},mK=function(){for(var e=document.querySelectorAll('script[src^="'.concat(MN,'"]')),t=0;t<e.length;t++){var r=e[t];if(pK(r.src))return r}return null},LC=function(e){var t="",r=document.createElement("script");r.src="".concat(hK).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},gK=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.9.2",startTime:t})},gd=null,Rm=null,Cm=null,yK=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},_K=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},vK=function(e){return gd!==null?gd:(gd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=mK();if(!(i&&e)){if(!i)i=LC(e);else if(i&&Cm!==null&&Rm!==null){var o;i.removeEventListener("load",Cm),i.removeEventListener("error",Rm),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=LC(e)}}Cm=_K(t,r),Rm=yK(r),i.addEventListener("load",Cm),i.addEventListener("error",Rm)}catch(u){r(u);return}}),gd.catch(function(t){return gd=null,Promise.reject(t)}))},EK=function(e,t,r){if(e===null)return null;var i=e.apply(void 0,t);return gK(i,r),i},yd,LN=!1,UN=function(){return yd||(yd=vK(null).catch(function(e){return yd=null,Promise.reject(e)}),yd)};Promise.resolve().then(function(){return UN()}).catch(function(n){LN||console.warn(n)});var bK=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];LN=!0;var i=Date.now();return UN().then(function(o){return EK(o,t,i)})};const wK=bK("pk_test_51QyvaoRueCkU6DC6Akfa32sO6aEpgJC8xiBIp6p5ju6ivZh9F5YXZWZWt6KLTnv3hTZ5sJUzPUpBHRJDxGdXEmyx00Z3g2qWdR");function TK(){return z.jsx("div",{children:z.jsx(z6,{children:z.jsxs(_6,{children:[z.jsx(Va,{path:"/",element:z.jsx(dG,{})}),z.jsx(Va,{path:"/Products/:productId",element:z.jsx(cK,{})}),z.jsx(Va,{path:"/auth",element:z.jsx(TG,{})}),z.jsx(Va,{path:"/cart",element:z.jsx(DG,{})}),z.jsx(Va,{path:"/orders",element:z.jsx(MC,{meg:"you must log in to access your order",redirect:"/payments",children:z.jsx(VG,{})})}),z.jsx(Va,{path:"/payment",element:z.jsx(MC,{meg:"you must log in to pay",redirect:"/payments",children:z.jsx(kN,{stripe:wK,children:z.jsx(aK,{})})})}),z.jsx(Va,{path:"/category/:categoryName",element:z.jsx(uK,{})})]})})})}function SK(){const[{user:n},e]=K.useContext(zs);return K.useEffect(()=>{Rg.onAuthStateChanged(t=>{t?(console.log(t),e({type:Wu.SET_USER,user:t})):e({type:Wu.SET_USER,user:null})})},[]),z.jsx(z.Fragment,{children:z.jsx(TK,{})})}const AK={basket:[],user:null},k0={SET_USER:"SET_USER",ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET"},IK=(n,e)=>{switch(console.log("Reducer action:",e),e.type){case k0.ADD_TO_BASKET:return n.basket.find(i=>i.id===e.item.id)?{...n,basket:n.basket.map(i=>i.id===e.item.id?{...i,amount:i.amount+1}:i)}:{...n,basket:[...n.basket,{...e.item,amount:1}]};case k0.REMOVE_FROM_BASKET:return n.basket.find(i=>i.id===e.id).amount===1?{...n,basket:n.basket.filter(i=>i.id!==e.id)}:{...n,basket:n.basket.map(i=>i.id===e.id?{...i,amount:i.amount-1}:i)};case k0.SET_USER:return{...n,user:e.user};default:return n}};vV.createRoot(document.getElementById("root")).render(z.jsx(K.StrictMode,{children:z.jsx(V0,{reducer:IK,initialState:AK,children:z.jsx(SK,{})})}));
